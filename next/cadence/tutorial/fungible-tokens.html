<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cadence/tutorial/fungible-tokens">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">6. Fungible Tokens | Flow Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" name="twitter:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" property="og:url" content="https://onflow.github.io/docs/next/cadence/tutorial/fungible-tokens"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="6. Fungible Tokens | Flow Developer Portal"><meta data-rh="true" name="description" content="In this tutorial, we&#x27;re going to deploy, store, and transfer fungible tokens."><meta data-rh="true" property="og:description" content="In this tutorial, we&#x27;re going to deploy, store, and transfer fungible tokens."><link data-rh="true" rel="icon" href="/docs/favicon.ico"><link data-rh="true" rel="canonical" href="https://onflow.github.io/docs/next/cadence/tutorial/fungible-tokens"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/tutorial/fungible-tokens" hreflang="en"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/tutorial/fungible-tokens" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Flow Developer Portal" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/mixpanel.js" async onload="if (&#39;776159d170484f49f19c3c2f7339f297&#39; &amp;&amp; &#39;776159d170484f49f19c3c2f7339f297&#39; !== &#39;undefined&#39;) {
  window.mixpanel.init(&#39;776159d170484f49f19c3c2f7339f297&#39;);

  const viwedPayload = {
    &#39;Page Name&#39;: document.title,
    &#39;Page URL&#39;: window.location.pathname,
  }
  window.mixpanel.track(&#39;Page Viewed&#39;, viwedPayload);

  const playUrl = &#39;play.onflow.org&#39;;
  const links = document.querySelectorAll(&#39;a&#39;) || [];
  const isPlayPage = Array.from(links).some((link) =&gt; link.href.includes(playUrl));

  if (isPlayPage) {
    window.mixpanel.track(&#39;Play Page Viewed&#39;, viwedPayload);
  }
  
  window.document.addEventListener(&#39;click&#39;, function (event) {
    var target = event.target;
  
    // Check if the clicked element is a link with an href attribute
    if (target.tagName === &#39;A&#39; &amp;&amp; target.hasAttribute(&#39;href&#39;)) {
      if (window.mixpanel) {
        const payload = {
          href: target.getAttribute(&#39;href&#39;),
          id: target.id,
          class: target.className,
        }
        window.mixpanel.track(&#39;Link clicked&#39;, payload);
        const isPlay = payload.href.includes(&#39;play.onflow.org&#39;);
        if (isPlay) {
          window.mixpanel.track(&#39;Play Link clicked&#39;, payload);        
        }
      }
    }
  });
}"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script>
<script src="/hotjar.js" async></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script><link rel="stylesheet" href="/docs/assets/css/styles.115fa643.css">
<link rel="preload" href="/docs/assets/js/runtime~main.67778cb5.js" as="script">
<link rel="preload" href="/docs/assets/js/main.46ae4a71.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/flow-docs-logo-dark.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/flow-docs-logo-light.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/concepts/intro">Concepts</a><a class="navbar__item navbar__link" href="/docs/next/guides">Guides</a><a class="navbar__item navbar__link" href="/docs/cadence/intro">Cadence</a><a class="navbar__item navbar__link" href="/docs/next/tools">Tools</a><a class="navbar__item navbar__link" href="/docs/references/Introduction">References</a><a class="navbar__item navbar__link" href="/docs/community-resources/Introduction">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/concepts/start-here">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/cadence/tutorial/fungible-tokens">Next</a></li><li><a class="dropdown__link" href="/docs/cadence/tutorial/fungible-tokens">Current</a></li></ul></div><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="GitHub" id="navbar-github" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Github</span></a><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="Discord" id="navbar-discord" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Discord</span></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/why">Why Use Cadence?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/next/cadence/tutorial/first-steps">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/first-steps">1. First Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/hello-world">2. Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/resources">3. Resource Contract Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/capabilities">4. Capability Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/non-fungible-tokens-1">5.1 Non-Fungible Token Tutorial Part 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/non-fungible-tokens-2">5.2 Non-Fungible Token Tutorial Part 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/cadence/tutorial/fungible-tokens">6. Fungible Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/marketplace-setup">7. Marketplace Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/marketplace-compose">8. Marketplace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/voting">9. Voting Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/resources-compose">10. Composable Resources</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/next/cadence/language">Language Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/design-patterns">Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/anti-patterns">Anti-Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/security-best-practices">Security Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/solidity-to-cadence">Guide for Solidity Developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/contract-upgrades">Contract Upgrades with Incompatible Changes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/json-cadence-spec">JSON-Cadence format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/measuring-time">Measuring Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/project-development-tips">Development Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/testing-framework">Testing</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Flow Developer Portal<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/cadence/tutorial/fungible-tokens">latest version</a></b> (<!-- -->Current<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">6. Fungible Tokens</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>6. Fungible Tokens</h1></header><p>In this tutorial, we&#x27;re going to deploy, store, and transfer fungible tokens.</p>
<hr>
<div class="theme-admonition theme-admonition-success alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vXIg"><p>Open the starter code for this tutorial in the Flow Playground:</p><br><a href="https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363" target="_blank"><p><a href="https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363" target="_blank" rel="noopener noreferrer">https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363</a></p></a><br><p>The tutorial will ask you to take various actions to interact with this code.</p></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Instructions that require you to take action are always included in a callout
box like this one. These highlighted actions are all that you need to do to
get your code running, but reading the rest is necessary to understand the
language&#x27;s design.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="follow-along">Follow Along!<a href="#follow-along" class="hash-link" aria-label="Direct link to Follow Along!" title="Direct link to Follow Along!">​</a></h2>
<p>Developer advocate Kim dives deep on an array of topics, building on top of the information she shared in the Hello World tutorial. Learn core concepts such as creating a fungible token smart contract by using resources, resource interfaces, and using transactions to mint and transfer tokens!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DInibYmxUsc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
<hr>
<p>Some of the most popular contract classes on blockchains today are fungible tokens.
These contracts create homogeneous tokens that can be transferred to other users and spent as currency (e.g., ERC-20 on Ethereum).</p>
<p>In traditional software and smart contracts, balances for each user are tracked by a central ledger, such as a dictionary:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>// DO NOT USE THIS CODE FOR YOUR PROJECT</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>contract LedgerToken {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    // Tracks every user&#x27;s balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    access(contract) let balances: {Address: UFix64}</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    // Transfer tokens from one user to the other</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    // by updating their balances in the central ledger</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun transfer(from: Address, to: Address, amount: UFix64) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>        balances[from] = balances[from] - amount</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>        balances[to] = balances[to] + amount</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>With Cadence, we use the new resource-oriented paradigm to implement fungible tokens and avoid using a central ledger
because there are inherent problems with using a central ledger
that are detailed in <a href="#fungible-tokens-an-in-depth-exploration">the Fungible Tokens section below.</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-network-token">Flow Network Token<a href="#flow-network-token" class="hash-link" aria-label="Direct link to Flow Network Token" title="Direct link to Flow Network Token">​</a></h3>
<p>In Flow, the native network token
<a href="https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowToken.cdc" target="_blank" rel="noopener noreferrer">(FLOW) is implemented as a normal fungible token smart contract</a>
using a smart contract similar to the one in this tutorial.</p>
<p>There are special transactions and hooks that allow it to be used for transaction execution fees, storage fees, and staking,
but besides that, developers and users are able to treat it and use it just like any other token in the network!</p>
<div class="theme-admonition theme-admonition-warning alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_vXIg"><p>It is important to remember that while this tutorial implements a working
fungible token, it has been simplified for educational purposes and is not
what any project should use in production. See the
<a href="https://github.com/onflow/flow-ft" target="_blank">Flow Fungible Token standard</a>
for the standard interface and example implementation.</p></div></div>
<p>We&#x27;re going to take you through these steps to get comfortable with the fungible token:</p>
<ol>
<li>Deploy the fungible token contract to account <code>0x01</code></li>
<li>Create a fungible token object and store it in your account storage.</li>
<li>Create a reference to your tokens that others can use to send you tokens.</li>
<li>Set up another account the same way.</li>
<li>Transfer tokens from one account to another.</li>
<li>Use a script to read the accounts&#x27; balances.</li>
</ol>
<p><strong>Before proceeding with this tutorial</strong>, we recommend following the instructions in <a href="/docs/next/cadence/tutorial/first-steps">Getting Started</a>
and <a href="/docs/next/cadence/tutorial/hello-world">Hello, World!</a> to learn the basics of the language and the playground.</p>
<h1>Fungible Tokens on the Flow Emulator</h1>
<hr>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>First, you&#x27;ll need to follow this link to open a playground session with the
Fungible Token contracts, transactions, and scripts pre-loaded:<!-- --> </p><a href="https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363" target="_blank"><p><a href="https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363" target="_blank" rel="noopener noreferrer">https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363</a></p></a></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the account <code>0x01</code> tab to see the file named
<code>BasicToken.cdc</code>. <code>BasicToken.cdc</code> should contain the full code for the
fungible token, which provides the core functionality to store fungible tokens
in your account and transfer to and accept tokens from other users.</p></div></div>
<p>The concepts involved in implementing a fungible token in Cadence can be unfamiliar at first.
For an in-depth explanation of this functionality and code, continue reading the next section.</p>
<p>Or, if you&#x27;d like to go immediately into deploying it and using it in the playground,
you can skip to the <a href="#interacting-with-the-fungible-token-in-the-flow-playground">Interacting with the Fungible Token</a> section of this tutorial.</p>
<h1>Fungible Tokens: An In-Depth Exploration</h1>
<hr>
<p>How Flow implements fungible tokens is different from other programming languages. As a result:</p>
<ul>
<li>Ownership is decentralized and does not rely on a central ledger</li>
<li>Bugs and exploits present less risk for users and less opportunity for attackers</li>
<li>There is no risk of integer underflow or overflow</li>
<li>Assets cannot be duplicated, and it is very hard for them to be lost, stolen, or destroyed</li>
<li>Code can be composable</li>
<li>Rules can be immutable</li>
<li>Code is not unintentionally made public</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="decentralizing-ownership">Decentralizing Ownership<a href="#decentralizing-ownership" class="hash-link" aria-label="Direct link to Decentralizing Ownership" title="Direct link to Decentralizing Ownership">​</a></h2>
<hr>
<p>Instead of using a central ledger system, Flow ties ownership to each account via a new paradigm for asset ownership.
The example below showcases how Solidity (the smart contract language for the Ethereum Blockchain, among others)
implements fungible tokens, with only the code for storage and transferring tokens shown for brevity.</p>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="ERC20.sol" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>ERC20.sol</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>contract ERC20 {</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>    // Maps user addresses to balances, similar to a dictionary in Cadence</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>    mapping (address =&gt; uint256) private _balances;</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>    function _transfer(address sender, address recipient, uint256 amount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        // ensure the sender has a valid balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        require(_balances[sender] &gt;= amount);</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        // subtract the amount from the senders ledger balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        _balances[sender] = _balances[sender] - amount;</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        // add the amount to the recipient’s ledger balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>        _balances[recipient] = _balances[recipient] + amount</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->15</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>As you can see, Solidity uses a central ledger system for its fungible tokens. There is one contract that manages the state of the tokens
and every time that a user wants to do anything with their tokens, they have to interact with the central ERC20 contract,
calling its functions to update their balance. This contract handles access control for all functionality, implements all of its own correctness checks,
and enforces rules for all of its users.</p>
<p>Instead of using a central ledger system, Flow utilizes a few different concepts
to provide better safety, security, and clarity for smart contract developers and users.
In this section, we&#x27;ll show how Flow&#x27;s resources, interfaces, and other features are employed via a fungible token example.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intuiting-ownership-with-resources">Intuiting Ownership with Resources<a href="#intuiting-ownership-with-resources" class="hash-link" aria-label="Direct link to Intuiting Ownership with Resources" title="Direct link to Intuiting Ownership with Resources">​</a></h2>
<hr>
<p>An important concept in Cadence is <strong>Resources</strong>, which are linear types.
A resource is a composite type (like a struct) that has its own defined fields and functions.
The difference is that resource objects have special rules that keep them from being copied or lost.
Resources are a new paradigm for asset ownership. Instead of representing token ownership in a central ledger smart contract,
each account owns its own resource object in its account storage that records the number of tokens they own.
This way, when users want to transact with each other, they can do so peer-to-peer without having to interact with a central token contract.
To transfer tokens to each other, they call a <code>transfer</code> function (or something equivalent)
on their own resource object and other users&#x27; resources, instead of a central <code>transfer</code> function.</p>
<p>This approach simplifies access control because instead of a central contract having to check the sender of a function call,
most function calls happen on resource objects stored in users&#x27; account,
and each user controls who is able to call the functions on resources in their account.
This concept, called Capability-based security, will be explained more in a later section.</p>
<p>This approach also helps protect against potential bugs. In a Solidity contract with all the logic and state contained in a central contract,
an exploit is likely to affect all users who are involved in the contract.</p>
<p>In Cadence, if there is a bug in the resource logic, an attacker would have to exploit the bug in each token holder&#x27;s account individually,
which is much more complicated and time-consuming than it is in a central ledger system.</p>
<p>Below is an example of a resource for a fungible token vault. Every user who owns these tokens would have this resource stored in their account.
It is important to remember that each account stores only a copy of the <code>Vault</code> resource, and not a copy of the entire <code>ExampleToken</code> contract.
The <code>ExampleToken</code> contract only needs to be stored in the initial account that manages the token definitions.</p>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Token.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Token.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource Vault: Provider, Receiver {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    // Balance of a user&#x27;s Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    // we use unsigned fixed point numbers for balances</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    // because they can represent decimals and do not allow negative values</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    access(all) var balance: UFix64</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    init(balance: UFix64) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>        self.balance = balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun withdraw(amount: UFix64): @Vault {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>        self.balance = self.balance - amount</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>        return &lt;-create Vault(balance: amount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun deposit(from: @Vault) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>        self.balance = self.balance + from.balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>        destroy from</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>This piece of code is for educational purposes and is not comprehensive. However, it still showcases how a resource for a token works.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="token-balances-and-initialization">Token Balances and Initialization<a href="#token-balances-and-initialization" class="hash-link" aria-label="Direct link to Token Balances and Initialization" title="Direct link to Token Balances and Initialization">​</a></h3>
<p>Each token resource object has a balance and associated functions (e.g., <code>deposit</code>, <code>withdraw</code>, etc).
When a user wants to use these tokens, they instantiate a zero-balance copy of this resource in their account storage.
The language requires that the initialization function <code>init</code>, which is only run once, must initialize all member variables.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Balance of a user&#x27;s Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// we use unsigned fixed-point integers for balances because they do not require the</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// concept of a negative number and allow for more clear precision</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) var balance: UFix64</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>init(balance: UFix64) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    self.balance = balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>If you remove the <code>init</code> function from your <code>ExampleToken</code> contract, it will cause an error because
the balance field is no longer initialized.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deposit">Deposit<a href="#deposit" class="hash-link" aria-label="Direct link to Deposit" title="Direct link to Deposit">​</a></h3>
<p>Then, the deposit function is available for any account to transfer tokens to.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun deposit(from: @Vault) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    self.balance = self.balance + from.balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    destroy from</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transferring-tokens">Transferring Tokens<a href="#transferring-tokens" class="hash-link" aria-label="Direct link to Transferring Tokens" title="Direct link to Transferring Tokens">​</a></h3>
<p>When an account wants to send tokens to a different account, the sending account calls their own withdraw function first,
which subtracts tokens from their resource’s balance and temporarily creates a new resource object that holds this balance.
The sending account then calls the recipient account’s deposit function, which literally moves the resource instance to the other account,
adds it to their balance, and then destroys the used resource.
The resource needs to be destroyed because Cadence enforces strict rules around resource interactions.
A resource can never be left hanging in a piece of code. It either needs to be explicitly destroyed or stored in an account&#x27;s storage.</p>
<p>When interacting with resources, you use the <code>@</code> symbol to specify the type, and a special “move operator” <code>&lt;-</code>
when moving the resource, such as assigning the resource, when passing it as an argument to a function, or when returning it from a function.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun withdraw(amount: UInt64): @Vault {</span></div></div><br></code></div></div>
<p>This <code>@</code> symbol is required when specifying a resource <strong>type</strong> for a field, an argument, or a return value.
The move operator <code>&lt;-</code> makes it clear that when a resource is used in an <strong>assignment</strong>, parameter, or return value,
it is moved to a new location and the old location is invalidated. This ensures that the resource only ever exists in one location at a time.</p>
<p>If a resource is moved out of an account&#x27;s storage, it either needs to be moved to an account’s storage or explicitly destroyed.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>destroy from</span></div></div><br></code></div></div>
<p>This rule ensures that resources, which often represent real value, do not get lost because of a coding error.</p>
<p>You’ll notice that the arithmetic operations aren&#x27;t explicitly protected against overflow or underflow.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>self.balance = self.balance - amount</span></div></div><br></code></div></div>
<p>In Solidity, this could be a risk for integer overflow or underflow, but Cadence has built-in overflow and underflow protection, so it is not a risk.
We are also using unsigned numbers in this example, so as mentioned earlier, the vault`s balance cannot go below 0.</p>
<p>Additionally, the requirement that an account contains a copy of the token’s resource type in its storage
ensures that funds cannot be lost by being sent to the wrong address.</p>
<p>If an address doesn’t have the correct resource type imported, the transaction will revert, ensuring that transactions sent to the wrong address are not lost.</p>
<p><strong>Important note: This protection is not in place for the Flow network currency,</strong>
<strong>because every Flow account is initialized with a default Flow Token Vault</strong>
<strong>in order to pay for <a href="/docs/next/concepts/fees#fees">storage fees and transaction fees</a>.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-parameters">Function Parameters<a href="#function-parameters" class="hash-link" aria-label="Direct link to Function Parameters" title="Direct link to Function Parameters">​</a></h3>
<p>The line in <code>withdraw</code> that creates a new <code>Vault</code> has the parameter name <code>balance</code> specified in the function call.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>return &lt;-create Vault(balance: amount)</span></div></div><br></code></div></div>
<p>This is another feature that Cadence uses to improve the clarity of code.
All function calls are required to specify the names of the arguments they are sending
unless the developer has specifically overridden the requirement in the funtion declaration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interacting-with-the-fungible-token-in-the-flow-playground">Interacting with the Fungible Token in the Flow Playground<a href="#interacting-with-the-fungible-token-in-the-flow-playground" class="hash-link" aria-label="Direct link to Interacting with the Fungible Token in the Flow Playground" title="Direct link to Interacting with the Fungible Token in the Flow Playground">​</a></h2>
<p>Now that you have read about how the Fungible Token works,
we can deploy a basic version of it to your account and send some transactions to interact with it.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Make sure that you have opened the Fungible Token templates in the playground
by following the link at the top of this page. You should have Account <code>0x01</code>
open and should see the code below.</p></div></div>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// BasicToken.cdc</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// The BasicToken contract is a sample implementation of a fungible token on Flow.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// Fungible tokens behave like everyday currencies -- they can be minted, transferred or</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// traded for digital goods.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// This is a basic implementation of a Fungible Token and is NOT meant to be used in production</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>// See the Flow Fungible Token standard for real examples: https://github.com/onflow/flow-ft</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>access(all) contract BasicToken {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // Each user stores an instance of only the Vault in their storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // The functions in the Vault are governed by the pre and post conditions</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // in the interfaces when they are called.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // The checks happen at runtime whenever a function is called.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // Resources can only be created in the context of the contract that they</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // are defined in, so there is no way for a malicious user to create Vaults</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // out of thin air. A special Minter resource or constructor function needs to be defined to mint</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // new tokens.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    access(all) resource Vault {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>		// keeps track of the total balance of the account&#x27;s tokens</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        access(all) var balance: UFix64</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // initialize the balance at resource creation time</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        init(balance: UFix64) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>            self.balance = balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // withdraw</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // Function that takes an integer amount as an argument</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // and withdraws that amount from the Vault.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // It creates a new temporary Vault that is used to hold</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // the money that is being transferred. It returns the newly</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // created Vault to the context that called so it can be deposited</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // elsewhere.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun withdraw(amount: UFix64): @Vault {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>            self.balance = self.balance - amount</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>            return &lt;-create Vault(balance: amount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // deposit</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // Function that takes a Vault object as an argument and adds</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // its balance to the balance of the owners Vault.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // It is allowed to destroy the sent Vault because the Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // was a temporary holder of the tokens. The Vault&#x27;s balance has</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // been consumed and therefore can be destroyed.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun deposit(from: @Vault) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>            self.balance = self.balance + from.balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>            destroy from</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // createVault</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // Function that creates a new Vault with an initial balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // and returns it to the calling context. A user must call this function</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // and store the returned Vault in their storage in order to allow their</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // account to be able to receive deposits of this token type.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun createVault(): @Vault {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        return &lt;-create Vault(balance: 30.0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // The init function for the contract. All fields in the contract must</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // be initialized at deployment. This is just an example of what</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    // an implementation could do in the init function. The numbers are arbitrary.</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    init() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // create the Vault with the initial balance and put it in storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // account.save saves an object to the specified `to` path</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // The path is a literal path that consists of a domain and identifier</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // The domain must be `storage`, `private`, or `public`</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        // the identifier can be any name</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        let vault &lt;- self.createVault()</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>        self.account.save(&lt;-vault, to: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->87</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Click the <code>Deploy</code> button at the top right of the editor to deploy the code.</p></div></div>
<p><img loading="lazy" src="/docs/assets/images/deploy_basic_token-f95819cd399997e6a7f70bd0d9290a45.png" alt="Deploy BasicToken on 0x01" width="3160" height="1812" class="img_ev3q"></p>
<p>This deployment stores the contract for the basic fungible token
in the selected account (account <code>0x01</code>) so that it can be imported into transactions.</p>
<p>A contract&#x27;s <code>init</code> function runs at contract creation, and never again afterwards.
In our example, this function stores an instance of the <code>Vault</code> object with an initial balance of 30.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// create the Vault with the initial balance and put it in storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// account.save saves an object to the specified `to` path</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// The path is a literal path that consists of a domain and identifier</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// The domain must be `storage`, `private`, or `public`</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// the identifier can be any name</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>let vault &lt;- self.createVault()</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>self.account.save(&lt;-vault, to: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><br></code></div></div>
<p>This line saves the new <code>@Vault</code> object to storage.
Account storage is indexed with paths, which consist of a domain and identifier. <code>/domain/identifier</code>. Only three domains are allowed for paths:</p>
<ul>
<li><code>storage</code>: The place where all objects are stored. Only accessible by the owner of the account.</li>
<li><code>private</code>: Stores links, otherwise known as capabilities, to objects in storage. Only accessible by the owner of the account</li>
<li><code>public</code>: Stores links to objects in storage: Accessible by anyone in the network.</li>
</ul>
<p>Contracts have access to the private <code>AuthAccount</code> object of the account it is deployed to, using <code>self.account</code>.
This object has methods that can modify storage in many ways.
See the <a href="/docs/next/cadence/language/accounts">account</a> documentation for a list of all the methods it can call.</p>
<p>In this line, we call the <code>save</code> method to store an object in storage.
The first argument is the value to store, and the second argument is the path where the value is being stored.
For <code>save</code> the path has to be in the <code>/storage/</code> domain.</p>
<p>You are now ready to run transactions that use the fungible tokens!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="perform-a-basic-transfer">Perform a Basic Transfer<a href="#perform-a-basic-transfer" class="hash-link" aria-label="Direct link to Perform a Basic Transfer" title="Direct link to Perform a Basic Transfer">​</a></h3>
<p>As we talked about above, a token transfer with resources is not a simple update to a ledger.
In Cadence, you have to first withdraw tokens from your vault, then deposit them to the vault
that you want to transfer to. We&#x27;ll start a simple transaction that withdraws tokens from a vault
and deposits them back into the same vault.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the transaction named <code>Basic Transfer</code>. <br>
<code>Basic Transfer</code> should contain the following code for withdrawing and depositing with a stored Vault:</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="BasicTransfer.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>BasicTransfer.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>// Basic Transfer</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>import BasicToken from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>// This transaction is used to withdraw and deposit tokens with a Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>  prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    // withdraw tokens from your vault by borrowing a reference to it</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    // and calling the withdraw function with that reference</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    let vaultRef = acct.borrow&lt;&amp;BasicToken.Vault&gt;(from: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow a reference to the owner&#x27;s vault&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    let temporaryVault &lt;- vaultRef.withdraw(amount: 10.0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    // deposit your tokens to the Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    vaultRef.deposit(from: &lt;-temporaryVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Withdraw/Deposit succeeded!&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Select account <code>0x01</code> as the only signer. <br>
Click the <code>Send</code> button to submit the transaction. <br>
This transaction withdraws tokens from the main vault and deposits them back
to it.</p></div></div>
<p>This transaction is a basic example of a transfer within an account.
It withdraws tokens from the main vault and deposits back to the main vault.
It is simply to illustrate the basic functionality of how transfers work.</p>
<p>You&#x27;ll see in this transaction that
you can borrow a reference directly from an object in storage.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Borrow a reference to the stored, private Vault resource</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>let vaultRef = acct.borrow&lt;&amp;BasicToken.Vault&gt;(from: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    ?? panic(&quot;Could not borrow a reference to the owner&#x27;s vault&quot;)</span></div></div><br></code></div></div>
<p>This allows you to efficiently access objects in storage without having to load them,
which is a much more costly interaction.</p>
<p>In production code, you&#x27;ll likely be transferring tokens to other accounts.
Capabilities allow us to accomplish this safely.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ensuring-security-in-public-capability-security">Ensuring Security in Public: Capability Security<a href="#ensuring-security-in-public-capability-security" class="hash-link" aria-label="Direct link to Ensuring Security in Public: Capability Security" title="Direct link to Ensuring Security in Public: Capability Security">​</a></h2>
<hr>
<p>Another important feature in Cadence is its utilization of <a href="/docs/next/cadence/language/capability-based-access-control"><strong>Capability-Based Security.</strong></a>
This feature ensures that while the withdraw function is declared public on the resource,
no one except the intended user and those they approve of can withdraw tokens from their vault.</p>
<p>Cadence&#x27;s security model ensures that objects stored in an account&#x27;s storage can only be accessed by the account that owns them.
If a user wants to give another user access to their stored objects, they can link a public capability,
which is like an &quot;API&quot; that allows others to call specified functions on their objects.</p>
<p>An account only has access to the fields and methods of an object in a different account if they hold a capability to that object
that explicitly allows them to access those fields and methods.
Only the owner of an object can create a capability for it.
Therefore, when a user creates a Vault in their account, they only publish a capability
that exposes the deposit function and the balance field.</p>
<p>The withdraw function can remain hidden as a function that only the owner can call.</p>
<p>This removes the need to check the address of the account that made the function call
(<code>msg.sender</code> in Ethereum) for access control purposes, because this functionality is handled by the protocol and type checker.
If you aren&#x27;t the owner of an object or don&#x27;t have a valid reference to it that was created by the owner, you cannot access the object at all!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-interfaces-to-secure-implementations">Using Interfaces to Secure Implementations<a href="#using-interfaces-to-secure-implementations" class="hash-link" aria-label="Direct link to Using Interfaces to Secure Implementations" title="Direct link to Using Interfaces to Secure Implementations">​</a></h3>
<hr>
<p>The next important concept in Cadence is design-by-contract,
which uses preconditions and postconditions to document and programmatically assert the change in state caused by a piece of a program.
These conditions are specified in interfaces that enforce rules about how types are defined and behave.
They can be stored on-chain in an immutable fashion so that certain pieces of code can import and implement them to ensure that they meet certain standards.</p>
<p>Here is an example of how interfaces for the <code>Vault</code> resource we defined above would look.</p>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Interfaces.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Interfaces.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// Interface that enforces the requirements for withdrawing</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// tokens from the implementing type</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource interface Provider {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun withdraw(amount: UFix64): @Vault {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>        post {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>            result.balance == amount:</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>                &quot;Withdrawal amount must be the same as the balance of the withdrawn Vault&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// Interface that enforces the requirements for depositing</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// tokens into the implementing type</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource interface Receiver {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    // There aren&#x27;t any meaningful requirements for only a deposit function</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    // but this still shows that the deposit function is required in an implementation.</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun deposit(from: @Vault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// Balance</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>// Interface that specifies a public `balance` field for the vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource interface Balance {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    access(all) var balance: UFix64</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>In our example, the <code>Vault</code> resource will implement all three of these interfaces.
The interfaces ensure that specific fields and functions are present in the resource implementation
and that the function arguments, fields of the resource, and any return value are in a valid state before and/or after execution.
These interfaces can be stored on-chain and imported into other contracts or resources
so that these requirements are enforced by an immutable source of truth that is not susceptible to human error.</p>
<p>You can also see that functions and fields have the <code>access(all)</code> keyword next to them.
We have explicitly defined these fields as public because all fields and functions in Cadence are private by default,
meaning that the local scope can only access them. Users have to make parts of their owned types explicitly public.
This helps prevent types from having unintentionally public code.</p>
<p>This does bring up an important security consideration though.
While we have made all our fields and functions public here, it is actually recommended to default to making
fields private unless it is explicitly needed to be public.</p>
<div class="theme-admonition theme-admonition-warning alert alert--warning admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_vXIg"><p>This is especially important for array and dictionary types,
which can have their contents maliciously mutated if they are made public.
This is one of THE MOST COMMON security mistakes that Cadence developers make,
so it is vitally important to be aware of this.</p><p>See the <a href="/docs/next/cadence/anti-patterns#array-or-dictionary-fields-should-be-private">Cadence Best Practices document</a> for more details.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-interfaces-to-our-fungible-token">Adding Interfaces to Our Fungible Token<a href="#adding-interfaces-to-our-fungible-token" class="hash-link" aria-label="Direct link to Adding Interfaces to Our Fungible Token" title="Direct link to Adding Interfaces to Our Fungible Token">​</a></h2>
<p>Now, we are going to add these interfaces to our Fungible token along with a minter resource.</p>
<p>Open account <code>0x02</code> in the playground. You should see the <code>ExampleToken</code> contract.
In addition to everything that is in the <code>BasicToken</code> contract,
we have also added the <code>Provider</code>, <code>Receiver</code>, and <code>Balance</code> interfaces described above.</p>
<p>Now that our <code>ExampleToken.Vault</code> type has declared that it implements these interfaces on line 93,
it is required to have their fields and functions, and their pre and post-conditions will also
be evaluated every time their respective functions are called.
We can also use these interfaces to create restricted capabilities, described in the next section.</p>
<p>Additionally, <code>ExampleToken</code> changes <code>createVault()</code> to <code>createEmptyVault()</code>
so that token minting is restricted to the newly added <code>VaultMinter</code> resource.
This illustrates another powerful feature of Cadence resources.
Instead of the contract maintaining a list of minter addresses,
accounts that the owner wants to be minters can be giving a special resource
that directly gives them the authority to mint tokens.
This method for authorization can be used in many different ways
and further decentralizes the control of the contract.</p>
<p>We also store the <code>VaultMinter</code> object to <code>/storage/</code>
in the <code>init()</code> function in the same way as the vault, but in a different storage path:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>self.account.save(&lt;-create VaultMinter(), to: /storage/CadenceFungibleTokenTutorialMinter)</span></div></div><br></code></div></div>
<p>Now is an important time to remind you that account storage not namespaced by contract,
meaning that path names could potentially conflict. This is why it is important to
choose unique names for your paths like we have done here so there is a very low chance
of them conflicting with other projects paths.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-store-and-publish-capabilities-and-references-to-a-vault">Create, Store, and Publish Capabilities and References to a Vault<a href="#create-store-and-publish-capabilities-and-references-to-a-vault" class="hash-link" aria-label="Direct link to Create, Store, and Publish Capabilities and References to a Vault" title="Direct link to Create, Store, and Publish Capabilities and References to a Vault">​</a></h2>
<hr>
<p>Capabilities are like pointers in other languages. They are a link to an object in an account&#x27;s storage
and can be used to read fields or call functions on the object they reference. They cannot move or modify the object directly.</p>
<p>There are many different situations in which you would create a capability to your fungible token vault.
You might want a simple way to call methods on your <code>Vault</code> from anywhere in a transaction.
You could also send a capability that only exposes withdraw function in your <code>Vault</code> so that others can transfer tokens for you.
You could also have one that only exposes the <code>Balance</code> interface, so that others can check how many tokens you own.
There could also be a function that takes a capability to a <code>Vault</code> as an argument, borrows a reference to the capability,
makes a single function call on the reference, then finishes and destroys the reference.</p>
<p>We already use this pattern in the <code>VaultMinter</code> resource in the <code>mintTokens</code> function, shown here:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// Function that mints new tokens and deposits into an account&#x27;s vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// using their `Receiver` capability.</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// We say `&amp;AnyResource{Receiver}` to say that the recipient can be any resource</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// as long as it implements the ExampleToken.Receiver interface</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun mintTokens(amount: UFix64, recipient: Capability&lt;&amp;AnyResource{Receiver}&gt;) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>    let recipientRef = recipient.borrow()</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow a receiver reference to the vault&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>    ExampleToken.totalSupply = ExampleToken.totalSupply + UFix64(amount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>    recipientRef.deposit(from: &lt;-create Vault(balance: amount))</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>The function takes a capability as an argument.
This syntax might be unclear to you:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>recipient: Capability&lt;&amp;AnyResource{Receiver}&gt;</span></div></div><br></code></div></div>
<p>This means that <code>recipient</code> has to be a Capability that is restricted to the type contained in <code>&lt;&gt;</code>.
The type outside of the curly braces <code>{}</code> has to be a concrete type and the type in the curly braces
has to be an interface type. Here we are saying that the type
can be any resource that implements the <code>ExampleToken.Receiver</code> interface.
If that is true, this function borrows a reference from this capability
and uses the reference to call the <code>deposit</code> function of that resource because we know that
the <code>deposit</code> function will be there since it is in the <code>ExampleToken.Receiver</code> interface.</p>
<p>Let&#x27;s create capabilities to your <code>Vault</code> so that a separate account can send tokens to you.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Before we submit a transaction interacting with ExampleToken resources, we&#x27;ll need to deploy the contract to account <code>0x02</code>:<br></p><ol>
<li>Select Contract 2 in the playground sidebar (the ExampleToken contract)<br></li>
<li>Make sure that signer <code>0x02</code> is selected as the deploying address<br></li>
<li>Click &quot;Deploy&quot;</li>
</ol></div></div>
<p><img loading="lazy" src="/docs/assets/images/deploy_example_token-865486e839ca3c95db9e970f3477342d.png" alt="Deploy ExampleToken to 0x02" width="3154" height="1814" class="img_ev3q"></p>
<p>Now we can continue on to configure Capabilities on the ExampleToken Vault.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the transaction named <code>Create Link</code>. <br>
<code>Create Link</code> should contain the following code for creating a reference to the stored Vault:</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="CreateLink.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>CreateLink.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>// Create Link</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>import ExampleToken from 0x02</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>// This transaction creates a capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>// that is linked to the account&#x27;s token vault.</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>// The capability is restricted to the fields in the `Receiver` interface,</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>// so it can only be used to deposit funds into the account.</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>  prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // Create a link to the Vault in storage that is restricted to the</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // fields and functions in `Receiver` and `Balance` interfaces,</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // this only exposes the balance field</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // and deposit function of the underlying vault.</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    acct.link&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver, ExampleToken.Balance}&gt;(/public/CadenceFungibleTokenTutorialReceiver, target: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Public Receiver reference created!&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>  post {</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // Check that the capabilities were created correctly</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // by getting the public capability and checking</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // that it points to a valid `Vault` object</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    // that implements the `Receiver` interface</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    getAccount(0x02).getCapability&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>                    .check():</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>                    &quot;Vault Receiver Reference was not created correctly&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->31</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>In order to use a capability, we have to first create a link to that object in storage.
A reference can then be created from a capability, and references cannot be stored.
They need to be lost at the end of a transaction execution.
This restriction is to prevent reentrancy attacks which are attacks where a malicious user calls into the same function over and over again
before the original execution has finished. Only allowing one reference at a time for an object prevents these attacks for objects in storage.</p>
<p>To create a capability, we use the <code>link</code> function.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Create a link to the Vault in storage that is restricted to the</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// fields and functions in `Receiver` and `Balance` interfaces,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// this only exposes the balance field</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// and deposit function of the underlying vault.</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>acct.link&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver, ExampleToken.Balance}&gt;.</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>(/public/CadenceFungibleTokenTutorialReceiver, target: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><br></code></div></div>
<p><code>link</code> creates a new capability that is kept at the path in the first argument, targeting the <code>target</code> in the second argument.
The type restriction for the link is specified in the <code>&lt;&gt;</code>. We use <code>&amp;ExampleToken.Vault{ExampleToken.Receiver, ExampleToken.Balance}</code>
to say that the link can be any resource as long as it implements and is cast as the Receiver interface.
This is the common format for describing references.
You first have a <code>&amp;</code> followed by the concrete type, then the interface in curly braces to ensure that
it is a reference that implements that interface and only includes the fields specified in that interface.</p>
<p>We put the capability in <code>/public/CadenceFungibleTokenTutorialReceiver</code> because we want it to be publicly accessible.
The <code>public</code> domain of an account is accessible to anyone in the network via an account&#x27;s <code>PublicAccount</code> object, which is fetched by using the <code>getAccount(address)</code> function.</p>
<p>Next is the <code>post</code> phase of the transaction.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>post {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Check that the capabilities were created correctly</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// by getting the public capability and checking</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// that it points to a valid `Vault` object</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// that implements the `Receiver` interface</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>getAccount(0x01).getCapability(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>                .check&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;():</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>                &quot;Vault Receiver Reference was not created correctly&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>The <code>post</code> phase is for ensuring that certain conditions are met after the transaction has been executed.
Here, we are getting the capability from its public path and calling its <code>check</code> function to ensure
that the capability contains a valid link to a valid object in storage that is the specified type.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Now that we understand the transaction, time to submit it:<br></p><ol>
<li>Select account <code>0x02</code> as the only signer.<br></li>
<li>Click the <code>Send</code> button to submit the transaction.<br></li>
<li>This transaction creates a new public reference to your <code>Vault</code> and checks that it was created correctly.</li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transfer-tokens-to-another-user">Transfer Tokens to Another User<a href="#transfer-tokens-to-another-user" class="hash-link" aria-label="Direct link to Transfer Tokens to Another User" title="Direct link to Transfer Tokens to Another User">​</a></h2>
<hr>
<p>Now, we are going to run a transaction that sends 10 tokens to account <code>0x03</code>.
We will do this by calling the <code>withdraw</code> function on account <code>0x02</code>&#x27;s Vault,
which creates a temporary Vault object for moving the tokens,
then deposits those tokens into account <code>0x03</code>&#x27;s vault by calling the <code>deposit</code> function on their vault.</p>
<p>Here we encounter another safety feature that Cadence introduces. Owning tokens requires you to have a <code>Vault</code> object stored in your account,
so if anyone tries to send tokens to an account who isn&#x27;t prepared to receive them, the transaction will fail.
This way, Cadence protects the user if they accidentally enter the account address incorrectly when sending tokens.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Account <code>0x03</code> has not been set up to receive tokens, so we will do that now:</p><ol>
<li>Open the transaction <code>Setup Account</code>.<br></li>
<li>Select account <code>0x03</code> as the only signer.<br></li>
<li>Click the <code>Send</code> button to set up account <code>0x03</code> so that it can receive tokens.</li>
</ol></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="SetupAccount.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>SetupAccount.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>// Setup Account</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>import ExampleToken from 0x02</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>// This transaction configures an account to store and receive tokens defined by</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>// the ExampleToken contract.</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>	prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>		// Create a new empty Vault object</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>		let vaultA &lt;- ExampleToken.createEmptyVault()</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>		// Store the vault in the account storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>		acct.save&lt;@ExampleToken.Vault&gt;(&lt;-vaultA, to: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;Empty Vault stored&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>        // Create a public Receiver capability to the Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>		let ReceiverRef = acct.link&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver, ExampleToken.Balance}&gt;(/public/CadenceFungibleTokenTutorialReceiver, target: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;References created&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>	}</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>    post {</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>        // Check that the capabilities were created correctly</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>        getAccount(0x03).getCapability&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>                        .check():</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>                        &quot;Vault Receiver Reference was not created correctly&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->29</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>Here we perform the same actions that account <code>0x02</code> did to set up its <code>Vault</code>, but all in one transaction.
Account <code>0x03</code> is ready to start building its fortune! As you can see, when we created the Vault for account <code>0x03</code>,
we had to create one with a balance of zero by calling the <code>createEmptyVault()</code> function.
Resource creation is restricted to the contract where it is defined, so in this way, the Fungible Token smart contract can ensure that
nobody is able to create new tokens out of thin air.</p>
<p>As part of the initial deployment process for the ExampleToken contract, account <code>0x02</code> created a <code>VaultMinter</code> object.
By using this object, the account that owns it can mint new tokens.
Right now, account <code>0x02</code> owns it, so it has sole power to mint new tokens.
We could have had a <code>mintTokens</code> function defined in the contract,
but then we would have to check the sender of the function call to make sure that they are authorized,
which is not the recommended way to perform access control.</p>
<p>As we explained before, the resource model plus capability security handles this access control for us as a built in language construct
instead of having to be defined in the code. If account <code>0x02</code> wanted to authorize another account to mint tokens,
they could either move the <code>VaultMinter</code> object to the other account, or give the other account a private capability to the single <code>VaultMinter</code>.
Or, if they didn&#x27;t want minting to be possible after deployment, they would simply mint all the tokens at contract initialization
and not even include the <code>VaultMinter</code> in the contract.</p>
<p>In the next transaction, account <code>0x02</code> will mint 30 new tokens and deposit them into account <code>0x03</code>&#x27;s newly created Vault.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><ol>
<li>Open the <code>Mint Tokens</code> transaction.<br></li>
<li>Select only account <code>0x02</code> as a signer and send <code>Mint Tokens</code> to mint 30 tokens for account <code>0x03</code>.</li>
</ol></div></div>
<p><code>Mint Tokens</code> should contain the code below.</p>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="MintTokens.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>MintTokens.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// Mint Tokens</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>import ExampleToken from 0x02</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>// This transaction mints tokens and deposits them into account 3&#x27;s vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    // Local variable for storing the reference to the minter resource</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    let mintingRef: &amp;ExampleToken.VaultMinter</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    // Local variable for storing the reference to the Vault of</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    // the account that will receive the newly minted tokens</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    var receiver: Capability&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>	prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        // Borrow a reference to the stored, private minter resource</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        self.mintingRef = acct.borrow&lt;&amp;ExampleToken.VaultMinter&gt;(from: /storage/CadenceFungibleTokenTutorialMinter)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow a reference to the minter&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        // Get the public account object for account 0x03</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        let recipient = getAccount(0x03)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        // Get their public receiver capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        self.receiver = recipient.getCapability&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>	}</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    execute {</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        // Mint 30 tokens and deposit them into the recipient&#x27;s Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        self.mintingRef.mintTokens(amount: 30.0, recipient: self.receiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;30 tokens minted and deposited to account 0x03&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->35</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>This is the first example of a transaction where we utilize local transaction variables that span different stages in the transaction.
We declare the <code>mintingRef</code> and <code>receiverRef</code> variables outside of the prepare stage but must initialize them in prepare.
We can then use them in later stages in the transaction.</p>
<p>Then we borrow a refernce to the <code>VaultMinter</code>. We specify the borrow as a <code>VaultMinter</code> reference
and have the reference point to <code>/storage/CadenceFungibleTokenTutorialMinter</code>.
The reference is borrowed as an optional so we use the nil-coalescing operator (<code>??</code>) to make sure the value isn&#x27;t nil.
If the value is nil, the transaction will execute the code after the <code>??</code>. The code is a panic, so it will revert and print the error message.</p>
<p>You can use the <code>getAccount()</code> built-in function to get any account&#x27;s public account object.
The public account object lets you get capabilities from the <code>public</code> domain of an account, where public capabilities are stored.</p>
<p>We use the <code>getCapability</code> function to get the public capability from a public path,
then use the <code>borrow</code> function on the capability to get the reference from it, typed as a <code>ExampleToken.Vault{ExampleToken.Receiver}</code>.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Get the public receiver capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>let cap = recipient.getCapability(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Borrow a reference from the capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>self.receiverRef = cap.borrow&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow a reference to the receiver&quot;)</span></div></div><br></code></div></div>
<p>In the execute phase, we simply use the reference to mint 30 tokens and deposit them into the <code>Vault</code> of account <code>0x03</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="check-account-balances">Check Account Balances<a href="#check-account-balances" class="hash-link" aria-label="Direct link to Check Account Balances" title="Direct link to Check Account Balances">​</a></h2>
<p>Now, both account <code>0x02</code> and account <code>0x03</code> should have a <code>Vault</code> object in their storage that has a balance of 30 tokens.
They both should also have a <code>Receiver</code> capability stored in their <code>/public/</code> domains that links to their stored <code>Vault</code>.</p>
<img src="https://storage.googleapis.com/flow-resources/documentation-assets/cadence-tuts/account-balances.png">
<p>An account cannot receive any token type unless it is specifically configured to accept those tokens.
As a result, it is difficult to send tokens to the wrong address accidentally.
But, if you make a mistake setting up the <code>Vault</code> in the new account, you won&#x27;t be able to send tokens to it.</p>
<p>Let&#x27;s run a script to make sure we have our vaults set up correctly.</p>
<p>You can use scripts to access an account&#x27;s public state. Scripts aren&#x27;t signed by any account and cannot modify state.</p>
<p>In this example, we will query the balance of each account&#x27;s vault. The following will print out the balance of each account in the emulator.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the script named <code>Get Balances</code> in the scripts pane.</p></div></div>
<p><code>Get Balances</code> should contain the following code:</p>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Script1.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Script1.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>// Get Balances</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>import FungibleToken from 0x02</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>// This script reads the Vault balances of two accounts.</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun main() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Get the accounts&#x27; public account objects</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct2 = getAccount(0x02)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct3 = getAccount(0x03)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Get references to the account&#x27;s receivers</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // by getting their public capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // and borrowing a reference from the capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct2ReceiverRef = acct2.getCapability(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>                            .borrow&lt;&amp;FungibleToken.Vault{FungibleToken.Balance}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>                            ?? panic(&quot;Could not borrow a reference to the acct2 receiver&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct3ReceiverRef = acct3.getCapability(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>                            .borrow&lt;&amp;FungibleToken.Vault{FungibleToken.Balance}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>                            ?? panic(&quot;Could not borrow a reference to the acct3 receiver&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Use optional chaining to read and log balance fields</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 2 Balance&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>	log(acct2ReceiverRef.balance)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 3 Balance&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(acct3ReceiverRef.balance)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Execute <code>Get Balances</code> by clicking the Execute button.</p></div></div>
<p>This should ensure the following:</p>
<ul>
<li>Account <code>0x02</code>&#x27;s balance is 30</li>
<li>Account <code>0x03</code>&#x27;s balance is 30</li>
</ul>
<p>If correct, you should see the following lines:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 1 Balance&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>30</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 2 Balance&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>30</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>Result &gt; &quot;void&quot;</span></div></div><br></code></div></div>
<p>If there is an error, this probably means that you missed a step earlier
and might need to restart from the beginning.</p>
<p>To restart the playground, close your current session and open the link at the top of the tutorial.</p>
<p>Now that we have two accounts, each with a <code>Vault</code>, we can see how they transfer tokens to each other!</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><ol>
<li>Open the transaction named <code>Transfer Tokens</code>. <br></li>
<li>Select account <code>0x03</code> as a signer and send the transaction. <br></li>
<li><code>Transfer Tokens</code> should contain the following code for sending tokens to another user:</li>
</ol></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="TransferTokens.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>TransferTokens.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// Transfer Tokens</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>import ExampleToken from 0x02</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// This transaction is a template for a transaction that</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// could be used by anyone to send tokens to another account</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// that owns a Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  // Temporary Vault object that holds the balance that is being transferred</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  var temporaryVault: @ExampleToken.Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // withdraw tokens from your vault by borrowing a reference to it</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // and calling the withdraw function with that reference</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    let vaultRef = acct.borrow&lt;&amp;ExampleToken.Vault&gt;(from: /storage/CadenceFungibleTokenTutorialVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow a reference to the owner&#x27;s vault&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    self.temporaryVault &lt;- vaultRef.withdraw(amount: 10.0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  execute {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // get the recipient&#x27;s public account object</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    let recipient = getAccount(0x02)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // get the recipient&#x27;s Receiver reference to their Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // by borrowing the reference from the public capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    let receiverRef = recipient.getCapability(/public/CadenceFungibleTokenTutorialReceiver)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>                      .borrow&lt;&amp;ExampleToken.Vault{ExampleToken.Receiver}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>                      ?? panic(&quot;Could not borrow a reference to the receiver&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // deposit your tokens to their Vault</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    receiverRef.deposit(from: &lt;-self.temporaryVault)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Transfer succeeded!&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>In this example, the signer withdraws tokens from their <code>Vault</code>,
which creates and returns a temporary <code>Vault</code> resource object with <code>balance=10</code>
that is used for transferring the tokens. In the execute phase,
the transaction moves that resource to another user&#x27;s <code>Vault</code> using their <code>deposit</code> method.
The temporary <code>Vault</code> is destroyed after its balance is added to the recipient&#x27;s <code>Vault</code>.</p>
<p>You might be wondering why we have to use two function calls to complete a token transfer when it is possible to do it in one.
This is because of the way resources work in Cadence.
In a ledger-based model, you would just call transfer, which just updates the ledger,
but in Cadence, the location of the tokens matters,
and therefore most token transfer situations will not just be a direct account-to-account transfer.</p>
<p>Most of the time, tokens will be used for a different purpose first,
like purchasing something, and that requires the <code>Vault</code> to be separately sent
and verified before being deposited to the storage of an account.</p>
<p>Separating the two also allows us to take advantage of being able
to statically verify which parts of accounts can be modified in the <code>prepare</code> section of a transaction,
which will help users have peace of mind when getting fed transactions to sign from an app.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Execute <code>Get Balances</code> again.</p></div></div>
<p>If correct, you should see the following lines indicating that account <code>0x02</code>&#x27;s balance is 40 and account <code>0x03</code>&#x27;s balance is 20:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 2 Balance&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>40</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 3 Balance&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>20</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>Result &gt; &quot;void&quot;</span></div></div><br></code></div></div>
<p>You now know how a basic fungible token is used in Cadence and Flow!</p>
<p>From here, you could try to extend the functionality of fungible tokens by making:</p>
<ul>
<li>A faucet for these tokens</li>
<li>An escrow that can be deposited to (but only withdrawn when the balance reaches a certain point)</li>
<li>A function to the resource that mints new tokens!</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-flow-marketplace">Create a Flow Marketplace<a href="#create-a-flow-marketplace" class="hash-link" aria-label="Direct link to Create a Flow Marketplace" title="Direct link to Create a Flow Marketplace">​</a></h2>
<hr>
<p>Now that you have an understanding of how fungible tokens work on Flow and have a working NFT, you can learn how to create
a marketplace that uses both fungible tokens and NFTs. Move on to the next tutorial to learn about Marketplaces in Cadence!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/onflow/docs/tree/main/docs/cadence/tutorial/06-fungible-tokens.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-31T16:54:53.000Z">Aug 31, 2023</time></b> by <b>Daniel Sainati</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/cadence/tutorial/non-fungible-tokens-2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">5.2 Non-Fungible Token Tutorial Part 2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/cadence/tutorial/marketplace-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">7. Marketplace Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#follow-along" class="table-of-contents__link toc-highlight">Follow Along!</a><ul><li><a href="#flow-network-token" class="table-of-contents__link toc-highlight">Flow Network Token</a></li></ul></li><li><a href="#decentralizing-ownership" class="table-of-contents__link toc-highlight">Decentralizing Ownership</a></li><li><a href="#intuiting-ownership-with-resources" class="table-of-contents__link toc-highlight">Intuiting Ownership with Resources</a><ul><li><a href="#token-balances-and-initialization" class="table-of-contents__link toc-highlight">Token Balances and Initialization</a></li><li><a href="#deposit" class="table-of-contents__link toc-highlight">Deposit</a></li><li><a href="#transferring-tokens" class="table-of-contents__link toc-highlight">Transferring Tokens</a></li><li><a href="#function-parameters" class="table-of-contents__link toc-highlight">Function Parameters</a></li></ul></li><li><a href="#interacting-with-the-fungible-token-in-the-flow-playground" class="table-of-contents__link toc-highlight">Interacting with the Fungible Token in the Flow Playground</a><ul><li><a href="#perform-a-basic-transfer" class="table-of-contents__link toc-highlight">Perform a Basic Transfer</a></li></ul></li><li><a href="#ensuring-security-in-public-capability-security" class="table-of-contents__link toc-highlight">Ensuring Security in Public: Capability Security</a><ul><li><a href="#using-interfaces-to-secure-implementations" class="table-of-contents__link toc-highlight">Using Interfaces to Secure Implementations</a></li></ul></li><li><a href="#adding-interfaces-to-our-fungible-token" class="table-of-contents__link toc-highlight">Adding Interfaces to Our Fungible Token</a></li><li><a href="#create-store-and-publish-capabilities-and-references-to-a-vault" class="table-of-contents__link toc-highlight">Create, Store, and Publish Capabilities and References to a Vault</a></li><li><a href="#transfer-tokens-to-another-user" class="table-of-contents__link toc-highlight">Transfer Tokens to Another User</a></li><li><a href="#check-account-balances" class="table-of-contents__link toc-highlight">Check Account Balances</a></li><li><a href="#create-a-flow-marketplace" class="table-of-contents__link toc-highlight">Create a Flow Marketplace</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools">SDK&#x27;s &amp; Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn">Learning Resources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/intro">Cadence</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/mobile">Mobile</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/clients/fcl-js">FCL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/flow-js-testing">JS Testing Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/flow-cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/emulator">Emulator</a></li><li class="footer__item"><a href="https://github.com/onflow/fcl-dev-wallet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev Wallet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/tools/toolchains/vscode-extension">VS Code Extension</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/community">Ecosystem</a></li><li class="footer__item"><a href="https://port.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Port<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/onflow/developer-grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/flow-responsible-disclosure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Responsible Disclosure<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flowverse.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowverse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://floats.city/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FLOATs (Attendance NFTs)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Start Building</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/kitty-items">Kitty Items</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/tutorial/first-steps">Cadence Tutorials</a></li><li class="footer__item"><a href="https://open-cadence.onflow.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cadence Cookbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/core-contracts">Core Contracts &amp; Standards</a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald DAO Bootcamp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Network</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Mainnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://testnet.flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Testnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/past-sporks">Past Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/upcoming-sporks">Upcoming Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation">Node Operation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/nodes/node-operation/spork">Spork Information</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OnFlow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Flow, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.67778cb5.js"></script>
<script src="/docs/assets/js/main.46ae4a71.js"></script>
</body>
</html>