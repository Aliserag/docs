<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cadence/tutorial/non-fungible-tokens-2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">5.2 Non-Fungible Token Tutorial Part 2 | Flow Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" name="twitter:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" property="og:url" content="https://onflow.github.io/docs/next/cadence/tutorial/non-fungible-tokens-2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="5.2 Non-Fungible Token Tutorial Part 2 | Flow Developer Portal"><meta data-rh="true" name="description" content="An introduction to NFTs on Cadence"><meta data-rh="true" property="og:description" content="An introduction to NFTs on Cadence"><link data-rh="true" rel="icon" href="/docs/favicon.ico"><link data-rh="true" rel="canonical" href="https://onflow.github.io/docs/next/cadence/tutorial/non-fungible-tokens-2"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/tutorial/non-fungible-tokens-2" hreflang="en"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/next/cadence/tutorial/non-fungible-tokens-2" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Flow Developer Portal" href="/docs/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/mixpanel.js" async onload="if (&#39;776159d170484f49f19c3c2f7339f297&#39; &amp;&amp; &#39;776159d170484f49f19c3c2f7339f297&#39; !== &#39;undefined&#39;) {
  window.mixpanel.init(&#39;776159d170484f49f19c3c2f7339f297&#39;);

  const viwedPayload = {
    &#39;Page Name&#39;: document.title,
    &#39;Page URL&#39;: window.location.pathname,
  }
  window.mixpanel.track(&#39;Page Viewed&#39;, viwedPayload);

  const playUrl = &#39;play.onflow.org&#39;;
  const links = document.querySelectorAll(&#39;a&#39;) || [];
  const isPlayPage = Array.from(links).some((link) =&gt; link.href.includes(playUrl));

  if (isPlayPage) {
    window.mixpanel.track(&#39;Play Page Viewed&#39;, viwedPayload);
  }
  
  window.document.addEventListener(&#39;click&#39;, function (event) {
    var target = event.target;
  
    // Check if the clicked element is a link with an href attribute
    if (target.tagName === &#39;A&#39; &amp;&amp; target.hasAttribute(&#39;href&#39;)) {
      if (window.mixpanel) {
        const payload = {
          href: target.getAttribute(&#39;href&#39;),
          id: target.id,
          class: target.className,
        }
        window.mixpanel.track(&#39;Link clicked&#39;, payload);
        const isPlay = payload.href.includes(&#39;play.onflow.org&#39;);
        if (isPlay) {
          window.mixpanel.track(&#39;Play Link clicked&#39;, payload);        
        }
      }
    }
  });
}"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script>
<script src="/hotjar.js" async></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="0f0b3ed1-7761-4986-851e-09336ea6ef1c" data-project-name="Flow" data-project-color="#2E8555" data-project-logo="https://cryptologos.cc/logos/flow-flow-logo.png" async></script><link rel="stylesheet" href="/docs/assets/css/styles.8d07a146.css">
<link rel="preload" href="/docs/assets/js/runtime~main.3944008b.js" as="script">
<link rel="preload" href="/docs/assets/js/main.3438fe16.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/flow-docs-logo-dark.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/flow-docs-logo-light.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/build">Build</a><a class="navbar__item navbar__link" href="/docs/guides/flow-app-quickstart">Guides</a><a class="navbar__item navbar__link" href="/docs/cadence/intro">Cadence</a><a class="navbar__item navbar__link" href="/docs/tools/flow-cli">Tools</a><a class="navbar__item navbar__link" href="/docs/references">References</a><a class="navbar__item navbar__link" href="/docs/community-resources">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/overview">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/cadence/tutorial/non-fungible-tokens-2">Next</a></li><li><a class="dropdown__link" href="/docs/cadence/tutorial/non-fungible-tokens-2">Current</a></li></ul></div><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="GitHub" id="navbar-github" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Github</span></a><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link h-8 desktop:p-1"><img src="" alt="Discord" id="navbar-discord" class="box-content h-32 w-32"><span class="p-2 desktop:hidden">Discord</span></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/design-patterns">Design Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence">index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/anti-patterns">Anti-Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/security-best-practices">Security Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/next/cadence/tutorial/first-steps">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/first-steps">1. First Steps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/hello-world">2. Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/resources">3. Resource Contract Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/capabilities">4. Capability Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/non-fungible-tokens-1">5.1 Non-Fungible Token Tutorial Part 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/cadence/tutorial/non-fungible-tokens-2">5.2 Non-Fungible Token Tutorial Part 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/fungible-tokens">6. Fungible Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/marketplace-setup">7. Marketplace Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/marketplace-compose">8. Marketplace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/voting">9. Voting Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/cadence/tutorial/resources-compose">10. Composable Resources</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/contract-upgrades">Contract Upgrades with Incompatible Changes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/next/cadence/language">Language Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/project-development-tips">Development Standards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/solidity-to-cadence">Guide for Solidity Developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/json-cadence-spec">JSON-Cadence format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/measuring-time">Measuring Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/cadence/testing-framework">Testing</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Flow Developer Portal<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/cadence/tutorial/non-fungible-tokens-2">latest version</a></b> (<!-- -->Current<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">5.2 Non-Fungible Token Tutorial Part 2</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>5.2 Non-Fungible Token Tutorial Part 2</h1></header><p>In this tutorial, we&#x27;re going to learn about
a full implementation for <strong>Non-Fungible Tokens (NFTs)</strong>.</p>
<hr>
<div class="theme-admonition theme-admonition-success alert alert--success admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vXIg"><p>Open the starter code for this tutorial in the Flow Playground:</p><a href="https://play.onflow.org/f08e8e0d-d28e-4cbe-8d72-3afe2349c629" target="_blank"><p><a href="https://play.onflow.org/f08e8e0d-d28e-4cbe-8d72-3afe2349c629" target="_blank" rel="noopener noreferrer">https://play.onflow.org/f08e8e0d-d28e-4cbe-8d72-3afe2349c629</a></p></a><br><p>The tutorial will ask you to take various actions to interact with this code.</p></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Instructions that require you to take action are always included in a callout box like this one.
These highlighted actions are all that you need to do to get your code running,
but reading the rest is necessary to understand the language&#x27;s design.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storing-multiple-nfts-in-a-collection">Storing Multiple NFTs in a Collection<a href="#storing-multiple-nfts-in-a-collection" class="hash-link" aria-label="Direct link to Storing Multiple NFTs in a Collection" title="Direct link to Storing Multiple NFTs in a Collection">​</a></h2>
<p>In the <a href="/docs/next/cadence/tutorial/non-fungible-tokens-1">last tutorial</a>,
we created a simple <code>NFT</code> resource, stored in at a storage path,
then used a multi-sig transaction to transfer it from one account to another.</p>
<p>It should hopefully be clear that the setup and operations that we used
in the previous tutorial are not very scalable. Users need a way
to manage all of their NFTs from a single place.</p>
<p>There are some different ways we could accomplish this.</p>
<ul>
<li>We could store all of our NFTs in an array or dictionary, like so.</li>
</ul>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// Define a dictionary to store the NFTs in</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>let myNFTs: @{Int: BasicNFT.NFT} = {}</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// Create a new NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>let newNFT &lt;- BasicNFT.createNFT(id: 1)</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// Save the new NFT to the dictionary</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>myNFTs[newNFT.id] &lt;- newNFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>// Save the NFT to a new storage path</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>account.save(&lt;-myNFTs, to: /storage/basicNFTDictionary)</span></div></div><br></code></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dictionaries">Dictionaries<a href="#dictionaries" class="hash-link" aria-label="Direct link to Dictionaries" title="Direct link to Dictionaries">​</a></h2>
<p>This example uses a <a href="/docs/next/cadence/language/values-and-types#dictionaries"><strong>Dictionary</strong>: a mutable, unordered collection of key-value associations</a>.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Keys are `Int`</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Values are `NFT`</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) let myNFTs: @{Int: NFT}</span></div></div><br></code></div></div>
<p>In a dictionary, all keys must have the same type, and all values must have the same type.
In this case, we are mapping integer (<code>Int</code>) IDs to <code>NFT</code> resource objects
so that there is one <code>NFT</code> for each <code>Int</code> that exists in the dictionary.</p>
<p>Dictionary definitions don&#x27;t usually have the <code>@</code> symbol in the type specification,
but because the <code>myNFTs</code> mapping stores resources, the whole field also has to become a resource type,
which is why the field has the <code>@</code> symbol indicating that it is a resource type.</p>
<p>This means that all the rules that apply to resources apply to this type.</p>
<p>Using a dictionary to store our NFTs would solve the problem
of having to use different storage paths for each NFT, but it doesn&#x27;t solve all the problems.
This types are relatively opaque and doesn&#x27;t have much useful functionality on its own.</p>
<p>Instead, we can use a powerful feature of Cadence, resources owning other resources!
We&#x27;ll define a new <code>Collection</code> resource as our NFT storage place
to enable more-sophisticated ways to interact with our NFTs.</p>
<p>The next contract we look at is called <code>ExampleNFT</code>, it&#x27;s stored in Contract 1 in account <code>0x01</code>.</p>
<p>This contract expands on the <code>BasicNFT</code> we looked at by adding:</p>
<ol>
<li>An <code>idCount</code> contract field that tracks unique NFT ids.</li>
<li>An <code>NFTReceiver</code> interface that exposes three public functions for the collection.</li>
<li>Declares a resource called <code>Collection</code> that implements the <code>NFTReceiver</code> interface</li>
<li>The <code>Collection</code> will declare fields and functions to interact with it,
including <code>ownedNFTs</code>, <code>init()</code>, <code>withdraw()</code>, <code>destroy()</code>, and other important functions</li>
<li>Next, the contract declares functions that create a new NFT (<code>mintNFT()</code>) and an empty collection (<code>createEmptyCollection()</code>)</li>
<li>Finally, the contract declares an <code>init()</code> function that initializes the path fields,
creates an empty collection as well as a reference to it,
and saves a minter resource to account storage.</li>
</ol>
<p>This contract introduces a few new concepts, we&#x27;ll look at the new contract, then break down all the new
concepts this contract introduces.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open Account <code>0x01</code> to see <code>ExampleNFT.cdc</code>.<br>
Deploy the contract by clicking the Deploy button in the bottom right of the editor.<br>
<code>ExampleNFT.cdc</code> should contain the code below.
It contains what was already in <code>BasicNFT.cdc</code> plus additional resource declarations in the contract body.</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="ExampleNFT.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>ExampleNFT.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>// ExampleNFT.cdc</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>// This is a complete version of the ExampleNFT contract</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>// that includes withdraw and deposit functionalities, as well as a</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>// collection resource that can be used to bundle NFTs together.</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>//</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>// Learn more about non-fungible tokens in this tutorial: https://developers.flow.com/cadence/tutorial/non-fungible-tokens-1</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>access(all) contract ExampleNFT {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // Declare Path constants so paths do not have to be hardcoded</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // in transactions and scripts</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) let CollectionStoragePath: StoragePath</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) let CollectionPublicPath: PublicPath</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) let MinterStoragePath: StoragePath</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // Tracks the unique IDs of the NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) var idCount: UInt64</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // Declare the NFT resource type</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) resource NFT {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // The unique ID that differentiates each NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) let id: UInt64</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // Initialize both fields in the init function</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        init(initID: UInt64) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            self.id = initID</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // We define this interface purely as a way to allow users</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // to create public, restricted references to their NFT Collection.</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // They would use this to publicly expose only the deposit, getIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // and idExists fields in their Collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) resource interface NFTReceiver {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun deposit(token: @NFT)</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun getIDs(): [UInt64]</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun idExists(id: UInt64): Bool</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // The definition of the Collection resource that</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // holds the NFTs that a user owns</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) resource Collection: NFTReceiver {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // dictionary of NFT conforming tokens</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // NFT is a resource type with an `UInt64` ID field</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) var ownedNFTs: @{UInt64: NFT}</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // Initialize the NFTs field to an empty collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        init () {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            self.ownedNFTs &lt;- {}</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // withdraw</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // Function that removes an NFT from the collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // and moves it to the calling context</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun withdraw(withdrawID: UInt64): @NFT {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            // If the NFT isn&#x27;t found, the transaction panics and reverts</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            let token &lt;- self.ownedNFTs.remove(key: withdrawID)!</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            return &lt;-token</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // deposit</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        //</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // Function that takes a NFT as an argument and</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // adds it to the collections dictionary</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun deposit(token: @NFT) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            // add the new token to the dictionary with a force assignment</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            // if there is already a value at that key, it will fail and revert</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            self.ownedNFTs[token.id] &lt;-! token</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // idExists checks to see if a NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // with the given ID exists in the collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun idExists(id: UInt64): Bool {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            return self.ownedNFTs[id] != nil</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // getIDs returns an array of the IDs that are in the collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        access(all) fun getIDs(): [UInt64] {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            return self.ownedNFTs.keys</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        destroy() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>            destroy self.ownedNFTs</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // creates a new empty Collection resource and returns it</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun createEmptyCollection(): @Collection {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        return &lt;- create Collection()</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // mintNFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    //</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // Function that mints a new NFT with a new ID</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    // and returns it to the caller</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun mintNFT(): @NFT {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // create a new NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        var newNFT &lt;- create NFT(initID: self.idCount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // change the id so that each ID is unique</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.idCount = self.idCount + 1</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        return &lt;-newNFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>	init() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.CollectionStoragePath = /storage/nftTutorialCollection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.CollectionPublicPath = /public/nftTutorialCollection</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.MinterStoragePath = /storage/nftTutorialMinter</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // initialize the ID count to one</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.idCount = 1</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // store an empty NFT Collection in account storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.account.save(&lt;-self.createEmptyCollection(), to: self.CollectionStoragePath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        // publish a reference to the Collection in storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>        self.account.link&lt;&amp;{NFTReceiver}&gt;(self.CollectionPublicPath, target: self.CollectionStoragePath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>	}</span></div></div><div><span class="ch-code-line-number">_<!-- -->128</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>This smart contract more closely resembles a contract
that a project would actually use in production.</p>
<p>Any user who owns one or more <code>ExampleNFT</code> will have an instance
of this <code>@ExampleNFT.Collection</code> resource stored in their account.
This collection stores all of their NFTs in a dictionary that maps integer IDs to <code>@NFT</code>s.</p>
<p>Each collection has a <code>deposit</code> and <code>withdraw</code> function.
These functions allow users to follow the pattern of moving tokens in and out of
their collections through a standard set of functions.</p>
<p>When a user wants to store NFTs in their account,
they will create an empty <code>Collection</code> by calling the <code>createEmptyCollection()</code> function in the <code>ExampleNFT</code> smart contract.
This returns an empty <code>Collection</code> object that they can store in their account storage.</p>
<p>There are a few new features that we use in this example, so let&#x27;s walk through them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-resource-dictionary">The Resource Dictionary<a href="#the-resource-dictionary" class="hash-link" aria-label="Direct link to The Resource Dictionary" title="Direct link to The Resource Dictionary">​</a></h2>
<p>We discussed above that when a dictionary stores a resource, it also becomes a resource!</p>
<p>This means that the collection has to
have special rules for how to handle its own resource.
You wouldn&#x27;t want it getting lost by accident!</p>
<p>As we learned in the resource tutorial, you can destroy any resource
by explicity invoking the <code>destroy</code> command.</p>
<p>If the NFT <code>Collection</code> resource is destroyed with the <code>destroy</code> command,
it needs to know what to do with the resources it stores in the dictionary.
This is why resources that store other resources have to include
a <code>destroy</code> function that runs when <code>destroy</code> is called on it.
This destroy function has to either explicitly destroy the contained resources
or move them somewhere else. In this example, we destroy them.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>destroy() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    destroy self.ownedNFTs</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>When the <code>Collection</code> resource is created, the <code>init</code> function is run
and must explicitly initialize all member variables.
This helps prevent issues in some smart contracts where uninitialized fields can cause bugs.
The init function can never run again after this.
Here, we initialize the dictionary as a resource type with an empty dictionary.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>init () {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  self.ownedNFTs &lt;- {}</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>Another feature for dictionaries is the ability to get an array
of the keys of the dictionary using the built-in <code>keys</code> function.</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// getIDs returns an array of the IDs that are in the collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun getIDs(): [UInt64] {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    return self.ownedNFTs.keys</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>This can be used to iterate through the dictionary or just to see a list of what is stored.
As you can see, <a href="/docs/next/cadence/language/values-and-types#arrays">a variable length array type</a>
is declared by enclosing the member type within square brackets (<code>[UInt64]</code>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources-owning-resources">Resources Owning Resources<a href="#resources-owning-resources" class="hash-link" aria-label="Direct link to Resources Owning Resources" title="Direct link to Resources Owning Resources">​</a></h2>
<p>This NFT Collection example in <code>ExampleNFT.cdc</code> illustrates an important feature: resources can own other resources.</p>
<p>In the example, a user can transfer one NFT to another user.
Additionally, since the <code>Collection</code> explicitly owns the NFTs in it,
the owner could transfer all of the NFTs at once by just transferring the single collection.</p>
<p>This is an important feature because it enables numerous additional use cases.
In addition to allowing easy batch transfers,
this means that if a unique NFT wants to own another unique NFT,
like a CryptoKitty owning a hat accessory,
the Kitty literally stores the hat in its own storage and effectively owns it.
The hat belongs to the CryptoKitty that it is stored in,
and the hat can be transferred separately or along with the CryptoKitty that owns it.</p>
<p>This also brings up an interesting wrinkle in Cadence in regards to ownership.
In other ledger-based languages, ownership is indicated by account addresses.
Cadence is a fully object-oriented language, so ownership is indicated by where
an object is stored, not just an entry on a ledger.</p>
<p>Resources can own other resources, which means that with some interesting logic,
a resource can have more control over the resources it owns than the actual
person whose account it is stored in!</p>
<p>You&#x27;ll encounter more fascinating implications of ownership and interoperability
like this as you get deeper into Cadence.</p>
<p>Now, back to the tutorial!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="restricting-access-to-the-nft-collection">Restricting Access to the NFT Collection<a href="#restricting-access-to-the-nft-collection" class="hash-link" aria-label="Direct link to Restricting Access to the NFT Collection" title="Direct link to Restricting Access to the NFT Collection">​</a></h2>
<p>In the NFT Collection, all the functions and fields are public,
but we do not want everyone in the network to be able to call our <code>withdraw</code> function.
This is where Cadence&#x27;s second layer of access control comes in.
Cadence utilizes <a href="/docs/next/cadence/language/capabilities">capability security</a>,
which means that for any given object, a user is allowed to access a field or method of that object if they either:</p>
<ul>
<li>Are the owner of the object</li>
<li>Have a valid reference to that field or method (note that references can only be created from capabilities, and capabilities can only be created by the owner of the object)</li>
</ul>
<p>When a user stores their NFT <code>Collection</code> in their account storage, it is by default not available for other users to access.
A user&#x27;s authorized account object (<code>AuthAccount</code>, which gives access to private storage)
is only accessible by its owner. To give external accounts access to the <code>deposit</code> function,
the <code>getIDs</code> function, and the <code>idExists</code> function, the owner creates an interface that only includes those fields:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>access(all) resource interface NFTReceiver {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun deposit(token: @NFT)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun getIDs(): [UInt64]</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    access(all) fun idExists(id: UInt64): Bool</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<p>Then, using that interface, they would create a link to the object in storage,
specifying that the link only contains the functions in the <code>NFTReceiver</code> interface.
This link creates a capability. From there, the owner can then do whatever they want with that capability:
they could pass it as a parameter to a function for one-time-use,
or they could put in the <code>/public/</code> domain of their account so that anyone can access it.
If a user tried to use this capability to call the <code>withdraw</code> function,
it wouldn&#x27;t work because it doesn&#x27;t exist in the interface that was used to create the capability.</p>
<p>The creation of the link and capability is seen in the <code>ExampleNFT.cdc</code> contract <code>init()</code> function</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// publish a reference to the Collection in storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>self.account.link&lt;&amp;{NFTReceiver}&gt;(self.CollectionPublicPath, target: self.CollectionStoragePath)</span></div></div><br></code></div></div>
<p>The <code>link</code> function specifies that the capability is typed as <code>&amp;AnyResource{NFTReceiver}</code> to only expose those fields and functions.
Then the link is stored in <code>/public/</code> which is accessible by anyone.
The link targets the <code>/storage/NFTCollection</code> (through the <code>self.CollectionStoragePath</code> contract field) that we created earlier.</p>
<p>Now the user has an NFT collection in their account <code>/storage/</code>,
along with a capability for it that others can use to see what NFTs they own and to send an NFT to them.</p>
<p>Let&#x27;s confirm this is true by running a script!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-a-script">Run a Script<a href="#run-a-script" class="hash-link" aria-label="Direct link to Run a Script" title="Direct link to Run a Script">​</a></h2>
<hr>
<p>Scripts in Cadence are simple transactions that run without any account permissions and only read information from the blockchain.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the script file named <code>Print 0x01 NFTs</code>.
<code>Print 0x01 NFTs</code> should contain the following code:</p></div></div>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// Print the NFTs owned by account 0x01.</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun main() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Get the public account object for account 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let nftOwner = getAccount(0x01)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Find the public Receiver capability for their Collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let capability = nftOwner.getCapability&lt;&amp;{ExampleNFT.NFTReceiver}&gt;(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // borrow a reference from the capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let receiverRef = capability.borrow()</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Log the NFTs that they own as an array of IDs</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 1 NFTs&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    log(receiverRef.getIDs())</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Execute <code>Print 0x01 NFTs</code> by clicking the Execute button in the top right of the editor box.<br>
This script prints a list of the NFTs that account <code>0x01</code> owns.</p></div></div>
<p>Because account <code>0x01</code> currently doesn&#x27;t own any in its collection, it will just print an empty array:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 1 NFTs&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>[]</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>Result &gt; &quot;void&quot;</span></div></div><br></code></div></div>
<p>If the script cannot be executed, it probably means that the NFT collection hasn&#x27;t been stored correctly in account <code>0x01</code>.
If you run into issues, make sure that you deployed the contract in account <code>0x01</code> and that you followed the previous steps correctly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mint-and-distribute-tokens">Mint and Distribute Tokens<a href="#mint-and-distribute-tokens" class="hash-link" aria-label="Direct link to Mint and Distribute Tokens" title="Direct link to Mint and Distribute Tokens">​</a></h2>
<hr>
<p>One way to create NFTs is by having an admin mint new tokens and send them to a user.
For the purpose of learning, we are simply implementing minting as a public function here.
Normally, most would implement restricted minting by having an NFT Minter resource.
This would restrict minting, because the owner of this resource is the only one that can mint tokens.</p>
<p>You can see an example of this in the <a href="/docs/next/cadence/tutorial/marketplace-compose">Marketplace tutorial</a>.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the file named <code>Mint NFT</code>.
Select account <code>0x01</code> as the only signer and send the transaction.<br>
This transaction deposits the minted NFT into the account owner&#x27;s NFT collection:</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="MintNFT.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>MintNFT.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>// This transaction allows the Minter account to mint an NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>// and deposit it into its collection.</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    // The reference to the collection that will be receiving the NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    let receiverRef: &amp;{ExampleNFT.NFTReceiver}</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        // Get the owner&#x27;s collection capability and borrow a reference</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        self.receiverRef = acct.getCapability&lt;&amp;{ExampleNFT.NFTReceiver}&gt;(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>            .borrow()</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    execute {</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        // Use the minter reference to mint an NFT, which deposits</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        // the NFT into the collection that is sent as a parameter.</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        let newNFT &lt;- ExampleNFT.mintNFT()</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        self.receiverRef.deposit(token: &lt;-newNFT)</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;NFT Minted and deposited to Account 1&#x27;s Collection&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->27</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Reopen <code>Print 0x01 NFTs</code> and execute the script.
This prints a list of the NFTs that account <code>0x01</code> owns.</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Print0x01NFTs.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Print0x01NFTs.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// Print the NFTs owned by account 0x01.</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun main() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Get the public account object for account 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let nftOwner = getAccount(0x01)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Find the public Receiver capability for their Collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let capability = nftOwner.getCapability&lt;&amp;{ExampleNFT.NFTReceiver}&gt;(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // borrow a reference from the capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    let receiverRef = capability.borrow()</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    // Log the NFTs that they own as an array of IDs</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 1 NFTs&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>    log(receiverRef.getIDs())</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>You should see that account <code>0x01</code> owns the NFT with <code>id = 1</code></p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 1 NFTs&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>[1]</span></div></div><br></code></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transferring-an-nft">Transferring an NFT<a href="#transferring-an-nft" class="hash-link" aria-label="Direct link to Transferring an NFT" title="Direct link to Transferring an NFT">​</a></h2>
<p>Before we are able to transfer an NFT to another account, we need to set up that account
with an NFTCollection of their own so they are able to receive NFTs.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the file named <code>Setup Account</code> and submit the transaction, using account <code>0x02</code> as the only signer.</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="SetupAccount.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>SetupAccount.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>// This transaction configures a user&#x27;s account</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>// to use the NFT contract by creating a new empty collection,</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>// storing it in their account storage, and publishing a capability</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        // Create a new empty collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        let collection &lt;- ExampleNFT.createEmptyCollection()</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        // store the empty NFT Collection in account storage</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        acct.save&lt;@ExampleNFT.Collection&gt;(&lt;-collection, to: ExampleNFT.CollectionStoragePath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;Collection created for account 2&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        // create a public capability for the Collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        acct.link&lt;&amp;{ExampleNFT.NFTReceiver}&gt;(ExampleNFT.CollectionPublicPath, target: ExampleNFT.CollectionStoragePath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;Capability created&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->22</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>Account <code>0x02</code> should now have an empty <code>Collection</code> resource stored in its account storage.
It has also created and stored a capability to the collection in its <code>/public/</code> domain.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Open the file named <code>Transfer</code>, select account <code>0x01</code> as the only signer, and send the transaction.<br>
This transaction transfers a token from account <code>0x01</code> to account <code>0x02</code>.</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Transfer.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Transfer.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// This transaction transfers an NFT from one user&#x27;s collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// to another user&#x27;s collection.</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>transaction {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // The field that will hold the NFT as it is being</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    // transferred to the other account</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    let transferToken: @ExampleNFT.NFT</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    prepare(acct: AuthAccount) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // Borrow a reference from the stored collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        let collectionRef = acct.borrow&lt;&amp;ExampleNFT.Collection&gt;(from: ExampleNFT.CollectionStoragePath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow a reference to the owner&#x27;s collection&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // Call the withdraw function on the sender&#x27;s Collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // to move the NFT out of the collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        self.transferToken &lt;- collectionRef.withdraw(withdrawID: 1)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    execute {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // Get the recipient&#x27;s public account object</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        let recipient = getAccount(0x02)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // Get the Collection reference for the receiver</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // getting the public capability and borrowing a reference from it</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        let receiverRef = recipient.getCapability&lt;&amp;{ExampleNFT.NFTReceiver}&gt;(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>            .borrow()</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>            ?? panic(&quot;Could not borrow receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        // Deposit the NFT in the receivers collection</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        receiverRef.deposit(token: &lt;-self.transferToken)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>        log(&quot;NFT ID 1 transferred from account 1 to account 2&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>Now we can check both accounts&#x27; collections to make sure that account <code>0x02</code> owns the token and account <code>0x01</code> has nothing.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class="admonitionHeading_TMsN"><span class="admonitionIcon_Ibzs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_vXIg"><p>Execute the script <code>Print all NFTs</code> to see the tokens in each account:</p></div></div>
<div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="Script2.cdc" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>Script2.cdc</div></div><div style="flex:1;min-width:0.8em"></div><button type="button" title="Copy code" class="ch-editor-button"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6px" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></button></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>import ExampleNFT from 0x01</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>// Print the NFTs owned by accounts 0x01 and 0x02.</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>access(all) fun main() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Get both public account objects</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let account1 = getAccount(0x01)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>	let account2 = getAccount(0x02)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Find the public Receiver capability for their Collections</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct1Capability = account1.getCapability(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let acct2Capability = account2.getCapability(ExampleNFT.CollectionPublicPath)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // borrow references from the capabilities</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let receiver1Ref = acct1Capability.borrow&lt;&amp;{ExampleNFT.NFTReceiver}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow account 1 receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    let receiver2Ref = acct2Capability.borrow&lt;&amp;{ExampleNFT.NFTReceiver}&gt;()</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>        ?? panic(&quot;Could not borrow account 2 receiver reference&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    // Print both collections as arrays of IDs</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 1 NFTs&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(receiver1Ref.getIDs())</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(&quot;Account 2 NFTs&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>    log(receiver2Ref.getIDs())</span></div></div><div><span class="ch-code-line-number">_<!-- -->26</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br></code></div></div></div></div>
<p>You should see something like this in the output:</p>
<div class="ch-codeblock not-prose"><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 1 NFTs&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>[]</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>&quot;Account 2 NFTs&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>[1]</span></div></div><br></code></div></div>
<p>Account <code>0x02</code> has one NFT with ID=1 and account <code>0x01</code> has none.
This shows that the NFT was transferred from account <code>0x01</code> to account <code>0x02</code>.</p>
<img src="https://storage.googleapis.com/flow-resources/documentation-assets/cadence-tuts/accounts-nft-storage.png">
<p>Congratulations, you now have a working NFT!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="putting-it-all-together">Putting It All Together<a href="#putting-it-all-together" class="hash-link" aria-label="Direct link to Putting It All Together" title="Direct link to Putting It All Together">​</a></h2>
<hr>
<p>This was only a basic example how a NFT might work on Flow.
Please refer to the <a href="https://github.com/onflow/flow-nft" target="_blank" rel="noopener noreferrer">Flow NFT Standard repo</a>
for information about the official Flow NFT standard and an example implementation of it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fungible-tokens">Fungible Tokens<a href="#fungible-tokens" class="hash-link" aria-label="Direct link to Fungible Tokens" title="Direct link to Fungible Tokens">​</a></h2>
<hr>
<p>Now that you have a working NFT, you will probably want to be able to trade it. For that you are going to need to
understand how fungible tokens work on Flow, so go ahead and move to the next tutorial!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/next/tags/reference">reference</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/next/tags/nft">NFT</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/next/tags/non-fungible-token">Non-Fungible Token</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/next/tags/cadence">cadence</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/next/tags/tutorial">tutorial</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/onflow/docs/tree/main/docs/cadence/tutorial/05-non-fungible-tokens-2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-19T15:56:20.000Z">Sep 19, 2023</time></b> by <b>Alex</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/cadence/tutorial/non-fungible-tokens-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">5.1 Non-Fungible Token Tutorial Part 1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/cadence/tutorial/fungible-tokens"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">6. Fungible Tokens</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#storing-multiple-nfts-in-a-collection" class="table-of-contents__link toc-highlight">Storing Multiple NFTs in a Collection</a></li><li><a href="#dictionaries" class="table-of-contents__link toc-highlight">Dictionaries</a></li><li><a href="#the-resource-dictionary" class="table-of-contents__link toc-highlight">The Resource Dictionary</a></li><li><a href="#resources-owning-resources" class="table-of-contents__link toc-highlight">Resources Owning Resources</a></li><li><a href="#restricting-access-to-the-nft-collection" class="table-of-contents__link toc-highlight">Restricting Access to the NFT Collection</a></li><li><a href="#run-a-script" class="table-of-contents__link toc-highlight">Run a Script</a></li><li><a href="#mint-and-distribute-tokens" class="table-of-contents__link toc-highlight">Mint and Distribute Tokens</a></li><li><a href="#transferring-an-nft" class="table-of-contents__link toc-highlight">Transferring an NFT</a></li><li><a href="#putting-it-all-together" class="table-of-contents__link toc-highlight">Putting It All Together</a></li><li><a href="#fungible-tokens" class="table-of-contents__link toc-highlight">Fungible Tokens</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools">SDK&#x27;s &amp; Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/intro">Cadence</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/build/mobile">Mobile</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/clients/fcl-js">FCL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/flow-js-testing">JS Testing Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/flow-cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/emulator">Emulator</a></li><li class="footer__item"><a href="https://github.com/onflow/fcl-dev-wallet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev Wallet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/vscode-extension">VS Code Extension</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/community-resources">Ecosystem</a></li><li class="footer__item"><a href="https://port.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Port<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/onflow/developer-grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/flow-responsible-disclosure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Responsible Disclosure<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flowverse.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowverse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://floats.city/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FLOATs (Attendance NFTs)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Start Building</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/tutorial/first-steps">Cadence Tutorials</a></li><li class="footer__item"><a href="https://open-cadence.onflow.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cadence Cookbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/build/core-contracts">Core Contracts &amp; Standards</a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald DAO Bootcamp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Network</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Mainnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://testnet.flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Testnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/node-ops/node-operation/past-sporks">Past Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/node-ops/node-operation/upcoming-sporks">Upcoming Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/node-ops/node-operation">Node Operation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/node-ops/node-operation/spork">Spork Information</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OnFlow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Flow, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.3944008b.js"></script>
<script src="/docs/assets/js/main.3438fe16.js"></script>
</body>
</html>