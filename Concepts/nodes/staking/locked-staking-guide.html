<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Concepts/nodes/staking/locked-staking-guide">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">How to Stake with Locked FLOW | Flow docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" name="twitter:image" content="https://onflow.github.io/docs/img/FlowDocs_Logo_FlowLogo_Horizontal_Green_BlackText.svg"><meta data-rh="true" property="og:url" content="https://onflow.github.io/docs/Concepts/nodes/staking/locked-staking-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to Stake with Locked FLOW | Flow docs"><meta data-rh="true" name="description" content="This document outlines the steps a token holder (TH) can take to stake and manage"><meta data-rh="true" property="og:description" content="This document outlines the steps a token holder (TH) can take to stake and manage"><link data-rh="true" rel="icon" href="/docs/favicon.ico"><link data-rh="true" rel="canonical" href="https://onflow.github.io/docs/Concepts/nodes/staking/locked-staking-guide"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/Concepts/nodes/staking/locked-staking-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://onflow.github.io/docs/Concepts/nodes/staking/locked-staking-guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DKF9ZIO5WM-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Flow docs" href="/docs/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/mixpanel.js" async onload="if (&#39;776159d170484f49f19c3c2f7339f297&#39;) {
  window.mixpanel.init(&#39;776159d170484f49f19c3c2f7339f297&#39;);

  const viwedPayload = {
    &#39;Page Name&#39;: document.title,
    &#39;Page URL&#39;: window.location.pathname,
  }
  window.mixpanel.track(&#39;Page Viewed&#39;, viwedPayload);

  const playUrl = &#39;play.onflow.org&#39;;
  const links = document.querySelectorAll(&#39;a&#39;) || [];
  const isPlayPage = Array.from(links).some((link) =&gt; link.href.includes(playUrl));

  if (isPlayPage) {
    window.mixpanel.track(&#39;Play Page Viewed&#39;, viwedPayload);
  }
  
  window.document.addEventListener(&#39;click&#39;, function (event) {
    var target = event.target;
  
    // Check if the clicked element is a link with an href attribute
    if (target.tagName === &#39;A&#39; &amp;&amp; target.hasAttribute(&#39;href&#39;)) {
      if (window.mixpanel) {
        const payload = {
          href: target.getAttribute(&#39;href&#39;),
          id: target.id,
          class: target.className,
        }
        window.mixpanel.track(&#39;Link clicked&#39;, payload);
        const isPlay = payload.href.includes(&#39;play.onflow.org&#39;);
        if (isPlay) {
          window.mixpanel.track(&#39;Play Link clicked&#39;, payload);        
        }
      }
    }
  });
}"></script><link rel="stylesheet" href="/docs/assets/css/styles.ea33c9e4.css">
<link rel="preload" href="/docs/assets/js/runtime~main.88c6d70b.js" as="script">
<link rel="preload" href="/docs/assets/js/main.5f1e5639.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/flow-docs-logo-dark.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/flow-docs-logo-light.png" alt="Flow Developer Portal Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/Concepts/intro">Concepts</a><a class="navbar__item navbar__link" href="/docs/Tutorials/intro">Tutorials</a><a class="navbar__item navbar__link" href="/docs/Cadence/intro">Cadence</a><a class="navbar__item navbar__link" href="/docs/Tooling/intro">Tooling</a><a class="navbar__item navbar__link" href="/docs/References/Introduction">References</a><a class="navbar__item navbar__link" href="/docs/Community-Resources/Introduction">Community Resources</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Concepts/intro">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/start-here">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/flow-networks">Flow Networks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flow Networks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/flow-token">FLOW Token</a><button aria-label="Toggle the collapsible sidebar category &#x27;FLOW Token&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/token-standards">Token Standards</a><button aria-label="Toggle the collapsible sidebar category &#x27;Token Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Concepts/nodes">Flow Nodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flow Nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/nodes/node-operation">Node Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/access-api-rate-limits">Flow Access API rate limits on Dapper Labs Access nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/access-api">Flow Access API Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/archive-access-api">Flow Archive Node Access API Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/archive-api-rate-limits">Flow Archive Access API rate limits on Dapper Labs Archive nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/delegation">Delegation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Concepts/nodes/faq/backers">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/nodes/flow-port">Flow Port</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flow Port&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/slashing">Slashing Conditions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Concepts/nodes/staking">Epochs, Staking &amp; Delegating on Flow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Epochs, Staking &amp; Delegating on Flow&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/custody-providers">Custody Provider Staking Guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/epoch-preparation">Epoch Preparation Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/epoch-scripts-events">Query Epoch Info with Scripts or Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/epoch-terminology">Epoch and Staking Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/faq">Staking FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Concepts/nodes/staking/locked-staking-guide">How to Stake with Locked FLOW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/locked-third-party-operator">How to Stake Locked FLOW with a Third-Party Node Operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/machine-account">Machine Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/qc-dkg-scripts-events">Query QC/DKG Info with Scripts or Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/qc-dkg">Quorum Certificate and Distributed Key Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/schedule">Epoch and Reward Schedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/stake-slashing">Stake Slashing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/staking-collection">Manage a Staking Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/staking-options">Options for Building Staking Integrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/staking-rewards">Staking and Delegation rewards</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/staking-scripts-events">Query Staking Info with Scripts or Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/technical-overview">Staking Auction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/staking/unlocked-staking-guide">Basic Staking with Unlocked FLOW</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Concepts/nodes/token-staking">Token Staking Process</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/mobile">Flow Mobile</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flow Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Concepts/hybrid-custody">Hybrid Custody</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hybrid Custody&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Tutorials/intro">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cadence">Cadence</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cadence&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Tooling/intro">Tooling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/References/Introduction">References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Community-Resources/Introduction">Community-Resources</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Flow Documentation</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Concepts/nodes"><span itemprop="name">Flow Nodes</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Concepts/nodes/staking"><span itemprop="name">Epochs, Staking &amp; Delegating on Flow</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to Stake with Locked FLOW</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Stake with Locked FLOW</h1></header><p>This document outlines the steps a <strong>token holder (TH)</strong> can take to stake and manage
a Flow node using the <code>LockedTokens</code> contract. This is the original way that users
who bought tokens from the Flow community sale had to stake their tokens,
but now there is a better way to manage staking, the Staking Collection.
It is highly recommended that you use the staking collection paradigm instead,
as it has more flexibility and features than these original paradigms.</p><div type="warning"><p>This guide only covers staking with <strong>locked FLOW tokens</strong>.</p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>The token holder must <a href="/docs/staking/locked-staking-guide">configure their account to hold locked FLOW</a>
before they are able to complete the steps below. After this is complete,
the <code>LockedTokens.TokenHolder</code> can be used to perform staking operations from the account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="register-a-new-staked-node">Register a New Staked Node<a href="#register-a-new-staked-node" class="hash-link" aria-label="Direct link to Register a New Staked Node" title="Direct link to Register a New Staked Node">​</a></h3><p>To register as a node, the token holder can use the <strong>Register Node</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.06</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>id</strong></td><td><code>String</code></td><td>The ID of the new node. It must be a 32 byte <code>String</code>. The operator is free to choose this value, but it must be unique across all nodes. A recommended process to generate this is to hash the staking public key.</td></tr><tr><td><strong>role</strong></td><td><code>UInt8</code></td><td>The role of the new node. (1: collection, 2: consensus, 3: execution, 4: verification, 5: access)</td></tr><tr><td><strong>networkingAddress</strong></td><td><code>String</code></td><td>The IP address of the new node.</td></tr><tr><td><strong>networkingKey</strong></td><td><code>String</code></td><td>The networking public key as a hex-encoded string.</td></tr><tr><td><strong>stakingKey</strong></td><td><code>String</code></td><td>The staking public key as a hex-encoded string.</td></tr><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of FLOW tokens to stake.</td></tr></tbody></table><p>This transaction registers the account as a node with the specified node information
and attaches a <code>NodeStakerProxy</code> capability to the <code>TokenHolder</code> resource.
This capability can later be used to perform staking actions.</p><p>Once an account has registered as a node, they cannot register any additional nodes.
For more information, see <a href="#stake-multiple-nodes-from-the-same-account">Stake Multiple Nodes from the Same Account</a> below.
This feature will be added in the future.</p><p>An account can use this transaction to register a different node that replaces the old node, but only if they have withdrawn
ALL tokens for their node from their record in the staking contract. If there are any tokens remaining,
the re-registration will fail. This is because the registration overwrites the old one, which would revoke access to their tokens.</p><hr><p>Once the token holder has registered their node,
their tokens and node information are committed to the central staking contract for the next epoch.</p><p>At this point, the token holder now has access to various staking operations that they can perform,
assuming they have the correct number of tokens to perform the action.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stake-new-tokens">Stake New Tokens<a href="#stake-new-tokens" class="hash-link" aria-label="Direct link to Stake New Tokens" title="Direct link to Stake New Tokens">​</a></h2><p>The token holder can stake additional tokens at any time.</p><p><em>Note: this transaction stakes additional tokens to the same node that was registered in the setup phase.
It is currently not possible to <a href="#stake-multiple-nodes-from-the-same-account">stake to multiple nodes from the same account</a>.</em></p><p>To stake new tokens via the <code>NodeStakerProxy</code>,
the token holder can use the <strong>Stake New Locked FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.08</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of FLOW tokens to stake.</td></tr></tbody></table><p>This transaction commits tokens to stake from the token holder&#x27;s locked token account.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="re-stake-unstaked-tokens">Re-stake Unstaked Tokens<a href="#re-stake-unstaked-tokens" class="hash-link" aria-label="Direct link to Re-stake Unstaked Tokens" title="Direct link to Re-stake Unstaked Tokens">​</a></h2><p>After tokens become unstaked, the token holder can choose to re-stake the unstaked tokens to the same node.</p><p>To staked unstaked tokens via the <code>NodeStakerProxy</code>,
the token holder can use the <strong>Re-stake Unstaked FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.09</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of unstaked FLOW tokens to stake.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="re-stake-rewarded-tokens">Re-stake Rewarded Tokens<a href="#re-stake-rewarded-tokens" class="hash-link" aria-label="Direct link to Re-stake Rewarded Tokens" title="Direct link to Re-stake Rewarded Tokens">​</a></h2><p>After earning rewards from staking, the token holder can choose to re-stake the rewarded tokens to the same node.</p><p>To staked rewarded tokens via the <code>NodeStakerProxy</code>,
the token holder can use the <strong>Re-stake Rewarded FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.10</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of rewarded FLOW tokens to stake.</td></tr></tbody></table><p>Since rewarded tokens are considered to be unlocked for the purposes of the vesting schedule,
and staked tokens are considered locked, staking rewarded tokens marks the staked tokens as locked
and marks an equal amount of tokens in the token holder&#x27;s <code>LockedTokens.LockedTokenManager</code> as unlocked.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unstake-tokens">Unstake Tokens<a href="#unstake-tokens" class="hash-link" aria-label="Direct link to Unstake Tokens" title="Direct link to Unstake Tokens">​</a></h2><p>The token holder can submit a request to unstake their tokens at any time.
If the tokens aren&#x27;t staked yet, they will be uncommitted and available to withdraw.</p><p>To unstake staked tokens via the <code>NodeStakerProxy</code>, the token holder can use
the <strong>Unstake FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.11</a>) transaction.</p><p>This transaction requires no arguments.</p><p><strong>Warning: this will unstake all of the user&#x27;s staked tokens.</strong></p><p><em>Note: unstaked tokens will be held by the central staking contract until the end of the following epoch.
Once the tokens are released (unstaked), they can be claimed via the
<a href="#withdraw-unstaked-tokens">Withdraw Unstaked Tokens</a> action below.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="withdraw-unstaked-tokens">Withdraw Unstaked Tokens<a href="#withdraw-unstaked-tokens" class="hash-link" aria-label="Direct link to Withdraw Unstaked Tokens" title="Direct link to Withdraw Unstaked Tokens">​</a></h2><p>After tokens become unstaked, the token holder can withdraw them from the central staking contract.</p><p>To withdraw unstaked tokens via the <code>NodeStakerProxy</code>,
the token holder can use the <strong>Withdraw Unstaked FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.13</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of unstaked FLOW tokens to withdraw.</td></tr></tbody></table><p>This transaction moves the unstaked tokens back into the <code>LockedTokens.TokenManager</code> owned by the token holder.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="withdraw-rewarded-tokens">Withdraw Rewarded Tokens<a href="#withdraw-rewarded-tokens" class="hash-link" aria-label="Direct link to Withdraw Rewarded Tokens" title="Direct link to Withdraw Rewarded Tokens">​</a></h2><p>After earning rewards from staking, the token holder can withdraw them from the central staking contract.</p><p>To withdraw rewarded tokens via the <code>NodeStakerProxy</code>,
the token holder can use the <strong>Withdraw Rewarded FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.14</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of rewarded FLOW tokens to withdraw.</td></tr></tbody></table><p>This transaction moves the rewarded tokens back into the <code>LockedTokens.TokenManager</code> owned by the token holder.
However, unlike unstaked tokens, rewards are <em>unlocked FLOW</em> and can be immediately withdrawn from the locked account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-a-nodes-networking-address">Update A Node&#x27;s Networking Address<a href="#update-a-nodes-networking-address" class="hash-link" aria-label="Direct link to Update A Node&#x27;s Networking Address" title="Direct link to Update A Node&#x27;s Networking Address">​</a></h3><p>A user may update their node&#x27;s networking address if it has become inconsistent with the protocol state.</p><p>This operation can only be performed in the staking auction phase of an epoch.</p><p><em>Note: Currently, if a node updates its networking address and the new address does not match</em>
<em>what is stored in the protocol state for the node, the node will not be able to participate in the upcoming epoch</em>
<em>Only update your networking address if you have already confirmed with the Flow team that you can.</em>
<em>This restriction will be removed once fully automated epochs are completely implemented</em></p><p>The owner of a Staking Collection can use the <strong>Update Networking Address</strong> (<a href="/docs/core-contracts/locked-tokens">TH.25</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>nodeID</strong></td><td><code>String</code></td><td>The nodeID of the node to update.</td></tr><tr><td><strong>newAddress</strong></td><td><code>String</code></td><td>The new networking address</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-a-staker-record">Query a Staker Record<a href="#query-a-staker-record" class="hash-link" aria-label="Direct link to Query a Staker Record" title="Direct link to Query a Staker Record">​</a></h2><p>To return a struct with all the information associated with a node, anyone
can use the <strong>Get Node Info</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.06</a>) script with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>nodeID</strong></td><td><code>String</code></td><td>The 32 byte ID of the node</td></tr></tbody></table><p>This script returns a <code>FlowIDTableStaking.NodeInfo</code> <a href="https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowIDTableStaking.cdc#L264" target="_blank" rel="noopener noreferrer">struct</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stake-multiple-nodes-from-the-same-account">Stake Multiple Nodes from the Same Account<a href="#stake-multiple-nodes-from-the-same-account" class="hash-link" aria-label="Direct link to Stake Multiple Nodes from the Same Account" title="Direct link to Stake Multiple Nodes from the Same Account">​</a></h2><p>Currently, the <code>LockedTokens</code> contract only supports token holders staking to a single node.</p><p>If a token holder wants to create a second staking relationship, they must create a new account
and transfer their locked tokens to the new account by requesting authorization from the token admin.</p><p>We plan on adding functionality in the future to allow accounts to stake to multiple nodes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delegate-from-the-same-account">Delegate from the Same Account<a href="#delegate-from-the-same-account" class="hash-link" aria-label="Direct link to Delegate from the Same Account" title="Direct link to Delegate from the Same Account">​</a></h2><p>An account that registers a node with locked FLOW can also register as a delegator from the same account.
See the <a href="/docs/Concepts/nodes/locked-delegation-guide">Locked Delegation Guide</a> for how to register a delegator.</p><h1>Delegate</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-1">Setup<a href="#setup-1" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a href="#prerequisites-1" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>The token holder must <a href="/docs/staking/locked-staking-guide">configure their account to hold locked FLOW</a>
before they are able to complete the steps below. After this is complete,
the <code>LockedTokens.TokenHolder</code> can be used to perform staking operations from the account.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="register-as-a-delegator">Register as a Delegator<a href="#register-as-a-delegator" class="hash-link" aria-label="Direct link to Register as a Delegator" title="Direct link to Register as a Delegator">​</a></h2><p>To register as a delegator, the token holder can use the <strong>Register Delegator</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.17</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>id</strong></td><td><code>String</code></td><td>The ID of the node to delegate to.</td></tr><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of FLOW tokens to delegate.</td></tr></tbody></table><p>This transaction registers the account as a delegator to the node ID they specified
and attaches a <code>NodeDelegatorProxy</code> capability to the <code>TokenHolder</code> resource.
This capability can later be used to perform delegation actions.</p><p>Once an account has registered as a delegator with one node, they cannot register with any others.
For more information, see <a href="#delegate-to-multiple-nodes-from-the-same-account">Delegate to Multiple Nodes from the Same Account</a> below.
This feature will be added in the future.</p><p>An account can use this transaction to register a different delegator that replaces the old delegator, but only if they have withdrawn
ALL tokens for their old delegator from their record in the staking contract. If there are any tokens remaining,
the re-registration will fail. This is because the registration overwrites the old one, which would revoke access to the tokens.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delegate-new-tokens">Delegate New Tokens<a href="#delegate-new-tokens" class="hash-link" aria-label="Direct link to Delegate New Tokens" title="Direct link to Delegate New Tokens">​</a></h2><p>The token holder can delegate additional tokens after registering as a delegator. </p><p><em>Note: this transaction delegates additional tokens to the same node that was registered in the setup phase.
It is currently not possible to <a href="#delegate-to-multiple-nodes-from-the-same-account">delegate to multiple nodes from the same account</a>.</em></p><p>To delegate new tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Delegate New Locked FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.19</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of FLOW tokens to delegate.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="re-delegate-unstaked-tokens">Re-delegate Unstaked Tokens<a href="#re-delegate-unstaked-tokens" class="hash-link" aria-label="Direct link to Re-delegate Unstaked Tokens" title="Direct link to Re-delegate Unstaked Tokens">​</a></h2><p>After delegated tokens become unstaked, the token holder can choose to re-delegate the unstaked tokens to the same node.</p><p>To delegate unstaked tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Re-delegate Unstaked FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.20</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of unstaked FLOW tokens to delegate.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="re-delegate-rewarded-tokens">Re-delegate Rewarded Tokens<a href="#re-delegate-rewarded-tokens" class="hash-link" aria-label="Direct link to Re-delegate Rewarded Tokens" title="Direct link to Re-delegate Rewarded Tokens">​</a></h2><p>After earning rewards from delegation, the token holder can choose to re-delegate the rewarded tokens to the same node.</p><p>To delegate rewarded tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Re-delegate Rewarded FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.21</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of rewarded FLOW tokens to delegate.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unstake-delegated-tokens">Unstake Delegated Tokens<a href="#unstake-delegated-tokens" class="hash-link" aria-label="Direct link to Unstake Delegated Tokens" title="Direct link to Unstake Delegated Tokens">​</a></h2><p>The token holder can submit a request to unstake their delegated tokens at any time.
If the tokens aren&#x27;t staked yet, they will be uncommitted and available to withdraw.</p><p>To unstake delegated tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Unstake Delegated FOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.22</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of FLOW tokens to unstake.</td></tr></tbody></table><p><em>Note: unstaked delegated tokens will be held by the central staking contract for a period of time
(the rest of the current epoch plus all of the next epoch) before they are
released to the token holder. Once the tokens are released (unstaked),
they can be claimed via the <a href="#withdraw-unstaked-tokens">Withdraw Unstaked Tokens</a> action below.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="withdraw-unstaked-tokens-1">Withdraw Unstaked Tokens<a href="#withdraw-unstaked-tokens-1" class="hash-link" aria-label="Direct link to Withdraw Unstaked Tokens" title="Direct link to Withdraw Unstaked Tokens">​</a></h2><p>After delegated tokens become unstaked, the token holder can withdraw them from the central staking contract.</p><p>To withdraw unstaked tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Withdraw Unstaked FLOW </strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.23</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of unstaked FLOW tokens to withdraw.</td></tr></tbody></table><p>This transaction moves the unstaked tokens back into the <code>LockedTokens.TokenManager</code> owned by the token holder.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="withdraw-rewarded-tokens-1">Withdraw Rewarded Tokens<a href="#withdraw-rewarded-tokens-1" class="hash-link" aria-label="Direct link to Withdraw Rewarded Tokens" title="Direct link to Withdraw Rewarded Tokens">​</a></h2><p>After earning rewards from delegation, the token holder can withdraw them from the central staking contract.</p><p>To withdraw rewarded tokens via the <code>NodeDelegatorProxy</code>,
the token holder can use the <strong>Withdraw Rewarded FLOW</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.24</a>)
transaction with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>amount</strong></td><td><code>UFix64</code></td><td>The number of rewarded FLOW tokens to withdraw.</td></tr></tbody></table><p>This transaction moves the rewarded tokens back into the <code>LockedTokens.TokenManager</code> owned by the token holder.
However, unlike unstaked tokens, rewards are <em>unlocked FLOW</em> and can be immediately withdrawn from the lockbox.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="query-a-delegator-record">Query a Delegator Record<a href="#query-a-delegator-record" class="hash-link" aria-label="Direct link to Query a Delegator Record" title="Direct link to Query a Delegator Record">​</a></h2><p>To return a struct with all the information associated with a delegator, anyone
can use the <strong>Get Delegator Info</strong> (<a href="/docs/core-contracts/locked-tokens#token-holder">TH.21</a>) script with the following arguments:</p><table><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>nodeID</strong></td><td><code>String</code></td><td>The 32 byte ID of the node of the delegator</td></tr><tr><td><strong>nodeID</strong></td><td><code>UInt8</code></td><td>The ID of the delegator</td></tr></tbody></table><p>This script returns a <code>FlowIDTableStaking.DelegatorInfo</code> <a href="https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowIDTableStaking.cdc#L348" target="_blank" rel="noopener noreferrer">struct.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delegate-to-multiple-nodes-from-the-same-account">Delegate to Multiple Nodes from the Same Account<a href="#delegate-to-multiple-nodes-from-the-same-account" class="hash-link" aria-label="Direct link to Delegate to Multiple Nodes from the Same Account" title="Direct link to Delegate to Multiple Nodes from the Same Account">​</a></h2><p>Currently, the <code>LockedTokens</code> contract only supports token holders delegating to a single node.</p><p>If a token holder wants to create a second delegation relationship, they must create a new account
and transfer their locked tokens to the new account by requesting authorization from the token admin.</p><p>We plan on adding functionality in the future to allow accounts to delegate to multiple nodes.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-05-02T21:14:32.000Z">May 2, 2023</time></b> by <b>Alex</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Concepts/nodes/staking/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Staking FAQ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Concepts/nodes/staking/locked-third-party-operator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Stake Locked FLOW with a Third-Party Node Operator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#register-a-new-staked-node" class="table-of-contents__link toc-highlight">Register a New Staked Node</a></li></ul></li><li><a href="#stake-new-tokens" class="table-of-contents__link toc-highlight">Stake New Tokens</a></li><li><a href="#re-stake-unstaked-tokens" class="table-of-contents__link toc-highlight">Re-stake Unstaked Tokens</a></li><li><a href="#re-stake-rewarded-tokens" class="table-of-contents__link toc-highlight">Re-stake Rewarded Tokens</a></li><li><a href="#unstake-tokens" class="table-of-contents__link toc-highlight">Unstake Tokens</a></li><li><a href="#withdraw-unstaked-tokens" class="table-of-contents__link toc-highlight">Withdraw Unstaked Tokens</a></li><li><a href="#withdraw-rewarded-tokens" class="table-of-contents__link toc-highlight">Withdraw Rewarded Tokens</a><ul><li><a href="#update-a-nodes-networking-address" class="table-of-contents__link toc-highlight">Update A Node&#39;s Networking Address</a></li></ul></li><li><a href="#query-a-staker-record" class="table-of-contents__link toc-highlight">Query a Staker Record</a></li><li><a href="#stake-multiple-nodes-from-the-same-account" class="table-of-contents__link toc-highlight">Stake Multiple Nodes from the Same Account</a></li><li><a href="#delegate-from-the-same-account" class="table-of-contents__link toc-highlight">Delegate from the Same Account</a></li><li><a href="#setup-1" class="table-of-contents__link toc-highlight">Setup</a><ul><li><a href="#prerequisites-1" class="table-of-contents__link toc-highlight">Prerequisites</a></li></ul></li><li><a href="#register-as-a-delegator" class="table-of-contents__link toc-highlight">Register as a Delegator</a></li><li><a href="#delegate-new-tokens" class="table-of-contents__link toc-highlight">Delegate New Tokens</a></li><li><a href="#re-delegate-unstaked-tokens" class="table-of-contents__link toc-highlight">Re-delegate Unstaked Tokens</a></li><li><a href="#re-delegate-rewarded-tokens" class="table-of-contents__link toc-highlight">Re-delegate Rewarded Tokens</a></li><li><a href="#unstake-delegated-tokens" class="table-of-contents__link toc-highlight">Unstake Delegated Tokens</a></li><li><a href="#withdraw-unstaked-tokens-1" class="table-of-contents__link toc-highlight">Withdraw Unstaked Tokens</a></li><li><a href="#withdraw-rewarded-tokens-1" class="table-of-contents__link toc-highlight">Withdraw Rewarded Tokens</a></li><li><a href="#query-a-delegator-record" class="table-of-contents__link toc-highlight">Query a Delegator Record</a></li><li><a href="#delegate-to-multiple-nodes-from-the-same-account" class="table-of-contents__link toc-highlight">Delegate to Multiple Nodes from the Same Account</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools">SDK&#x27;s &amp; Tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn">Learning Resources</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence">Cadence</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/mobile">Mobile</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/fcl-js">FCL</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/flow-js-testing">JS Testing Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/flow-cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/emulator">Emulator</a></li><li class="footer__item"><a href="https://github.com/onflow/fcl-dev-wallet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dev Wallet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools/vscode-extension">VS Code Extension</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/community">Ecosystem</a></li><li class="footer__item"><a href="https://port.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Port<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/onflow/developer-grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flow.com/flow-responsible-disclosure" target="_blank" rel="noopener noreferrer" class="footer__link-item">Responsible Disclosure<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flowverse.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowverse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald Academy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://floats.city/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FLOATs (Attendance NFTs)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Start Building</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flow Playground<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/learn/kitty-items">Kitty Items</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cadence/tutorial">Cadence Tutorials</a></li><li class="footer__item"><a href="https://open-cadence.onflow.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cadence Cookbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/flow/core-contracts">Core Contracts &amp; Standards</a></li><li class="footer__item"><a href="https://academy.ecdao.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Emerald DAO Bootcamp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Network</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Mainnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://testnet.flowscan.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flowscan Testnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nodes/node-operation/past-sporks">Past Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nodes/node-operation/upcoming-sporks">Upcoming Sporks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nodes/node-operation">Node Operation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nodes/node-operation/spork">Spork Information</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/onflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://onflow.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OnFlow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Flow, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.88c6d70b.js"></script>
<script src="/docs/assets/js/main.5f1e5639.js"></script>
</body>
</html>