"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[80573],{2989:(e,t,o)=>{o.r(t),o.d(t,{CH:()=>u,assets:()=>l,chCodeConfig:()=>p,contentTitle:()=>a,default:()=>g,frontMatter:()=>s,metadata:()=>i,toc:()=>d});o(67294);var n=o(85893),r=o(11151),c=o(59794);const s={archived:!1,draft:!1,title:"4. Capability Tutorial",description:"An introduction to capabilities and how they interact with resources in Cadence",date:new Date("2022-05-10T00:00:00.000Z"),meta:{keywords:["tutorial","Flow","Cadence","Resources","Capabilities"]},tags:["reference","cadence","tutorial"],socialImageTitle:"Cadence Resources",socialImageDescription:"Capability smart contract image."},a=void 0,i={unversionedId:"cadence/tutorial/capabilities",id:"version-stable/cadence/tutorial/capabilities",title:"4. Capability Tutorial",description:"An introduction to capabilities and how they interact with resources in Cadence",source:"@site/versioned_docs/version-stable/cadence/tutorial/04-capabilities.mdx",sourceDirName:"cadence/tutorial",slug:"/cadence/tutorial/capabilities",permalink:"/docs/cadence/tutorial/capabilities",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/cadence/tutorial/04-capabilities.mdx",tags:[{label:"reference",permalink:"/docs/tags/reference"},{label:"cadence",permalink:"/docs/tags/cadence"},{label:"tutorial",permalink:"/docs/tags/tutorial"}],version:"stable",lastUpdatedBy:"Alex",lastUpdatedAt:1694451830,formattedLastUpdatedAt:"Sep 11, 2023",sidebarPosition:4,frontMatter:{archived:!1,draft:!1,title:"4. Capability Tutorial",description:"An introduction to capabilities and how they interact with resources in Cadence",date:"2022-05-10T00:00:00.000Z",meta:{keywords:["tutorial","Flow","Cadence","Resources","Capabilities"]},tags:["reference","cadence","tutorial"],socialImageTitle:"Cadence Resources",socialImageDescription:"Capability smart contract image."},sidebar:"cadence",previous:{title:"3. Resource Contract Tutorial",permalink:"/docs/cadence/tutorial/resources"},next:{title:"5.1 Non-Fungible Token Tutorial Part 1",permalink:"/docs/cadence/tutorial/non-fungible-tokens-1"}},l={},d=[{value:"Overview",id:"overview",level:2},{value:"Use-Cases for Capabilities and Scripts",id:"use-cases-for-capabilities-and-scripts",level:3},{value:"Accessing Resources with Capabilities",id:"accessing-resources-with-capabilities",level:2},{value:"Creating Capabilities and References to Stored Resources",id:"creating-capabilities-and-references-to-stored-resources",level:3},{value:"Capability Based Access Control",id:"capability-based-access-control",level:3},{value:"Executing Scripts",id:"executing-scripts",level:3},{value:"Reviewing Capabilities",id:"reviewing-capabilities",level:2}],u={annotations:c.ds,Code:c.EK},p={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/versioned_docs/version-stable/cadence/tutorial/04-capabilities.mdx"};function h(e){const t=Object.assign({h2:"h2",p:"p",a:"a",code:"code",ul:"ul",li:"li",h3:"h3",ol:"ol",hr:"hr",strong:"strong"},(0,r.ah)(),e.components),{Callout:o}=t;return u||b("CH",!1),u.Code||b("CH.Code",!0),o||b("Callout",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsxs)(o,{type:"success",children:[(0,n.jsxs)(t.p,{children:["Open the starter code for this tutorial in the Flow Playground. It is the same code that was in the previous tutorial: ",(0,n.jsx)("br",{})]}),(0,n.jsx)("a",{href:"https://play.onflow.org/a7f45bcd-8fda-45f6-b443-4b77302a1687",target:"_blank",children:(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://play.onflow.org/a7f45bcd-8fda-45f6-b443-4b77302a1687",children:"https://play.onflow.org/a7f45bcd-8fda-45f6-b443-4b77302a1687"})})}),(0,n.jsx)("br",{}),(0,n.jsx)(t.p,{children:"The tutorial will ask you to take various actions to interact with this code."})]}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsx)(t.p,{children:"Instructions that require you to take action are always included in a callout\nbox like this one. These highlighted actions are all that you need to do to\nget your code running, but reading the rest is necessary to understand the\nlanguage's design."})}),"\n",(0,n.jsxs)(t.p,{children:["This tutorial builds on the ",(0,n.jsxs)(t.a,{href:"/docs/cadence/tutorial/resources",children:["previous ",(0,n.jsx)(t.code,{children:"Resource"})," tutorial"]}),".\nBefore beginning this tutorial, you should have an idea of how accounts,transactions,resources, and signers work with basic field types.\nThis tutorial will build on your understanding of accounts and resources.\nYou'll learn how to interact with resources using ",(0,n.jsx)(t.a,{href:"../language/capability-based-access-control",children:"capabilities"}),"\nIn Cadence, resources are a composite type like a struct or a class, but with some special rules:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Each instance of a resource can only exist in exactly one location and cannot be copied."}),"\n",(0,n.jsx)(t.li,{children:"Resources must be explicitly moved from one location to another when accessed."}),"\n",(0,n.jsx)(t.li,{children:"Resources also cannot go out of scope at the end of function execution, they must be explicitly stored somewhere or destroyed."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"use-cases-for-capabilities-and-scripts",children:"Use-Cases for Capabilities and Scripts"}),"\n",(0,n.jsx)(t.p,{children:"Let's look at why you would want to use capabilities to expand access to resources in a real-world context."}),"\n",(0,n.jsx)(t.p,{children:"A real user's account will contain functions and fields that need varying levels of access scope and privacy.\nFor example, if you're working on an app that allows users to exchange tokens.\nWhile you definitely want to make a feature like withdrawing tokens\nfrom an account only accessible by the owner of the tokens,\nyour app should allow anybody to deposit tokens."}),"\n",(0,n.jsx)(t.p,{children:"Capabilities are what allows for this detailed control of owned assets.\nThey allow a user to indicate which of the functionality of their account\nshould be accessible to themselves, their trusted friends, and the public."}),"\n",(0,n.jsx)(t.p,{children:"For example, a user might want to allow a friend of theirs to use some of their money to spend,\nin this case, they could create a capability that gives the friend access to only this part of their account,\ninstead of having to give full control over."}),"\n",(0,n.jsx)(t.p,{children:"Or if a user authenticates a trading app for the first time,\nthe can could ask the user for a capability object that allows\nthe app to access the trading functionality of a user's account so that\nthe app doesn't need to ask the user for a signature every time."}),"\n",(0,n.jsx)(t.p,{children:"In this tutorial, you will:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Interact with the resource we created using transactions"}),"\n",(0,n.jsx)(t.li,{children:"Create capabilities to extend the resource access scope"}),"\n",(0,n.jsx)(t.li,{children:"Execute a script that interacts with the resource"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"accessing-resources-with-capabilities",children:"Accessing Resources with Capabilities"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.p,{children:["Before following this tutorial, you should have the ",(0,n.jsx)(t.code,{children:"HelloWorld"})," contract deployed in account ",(0,n.jsx)(t.code,{children:"0x01"}),",\njust like in the ",(0,n.jsxs)(t.a,{href:"/docs/cadence/tutorial/resources",children:["previous ",(0,n.jsx)(t.code,{children:"Resource"})," contract tutorial"]}),"."]}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsxs)(t.p,{children:["Open the Account ",(0,n.jsx)(t.code,{children:"0x01"})," tab with file named ",(0,n.jsx)(t.code,{children:"HelloWorldResource.cdc"}),". ",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(t.code,{children:"HelloWorldResource.cdc"})," should contain the following code:"]})}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:["HelloWorldResource-2.cdc"],active:"HelloWorldResource-2.cdc",heightRatio:1},files:[{name:"HelloWorldResource-2.cdc",focus:"",code:{lines:[{tokens:[{content:"pub contract",props:{style:{color:"#81A1C1"}}},{content:" HelloWorld ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a resource that only includes one function.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub resource",props:{style:{color:"#81A1C1"}}},{content:" HelloAsset ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'        // A transaction can call this function to get the "Hello, World!"',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // message from the resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        pub fun ",props:{style:{color:"#81A1C1"}}},{content:"hello",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:": String ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"            return ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Hello, World!",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // We're going to use the built-in create function to create a new instance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // of the HelloAsset resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"createHelloAsset",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"HelloAsset ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return <-create ",props:{style:{color:"#81A1C1"}}},{content:"HelloAsset",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Hello Asset",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsxs)(t.p,{children:["Deploy this code to account ",(0,n.jsx)(t.code,{children:"0x01"})," using the ",(0,n.jsx)(t.code,{children:"Deploy"})," button."]})}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsxs)(t.p,{children:["Click on the ",(0,n.jsx)(t.code,{children:"Create Hello"})," transaction and send it with ",(0,n.jsx)(t.code,{children:"0x01"})," as the signer."]})}),"\n",(0,n.jsxs)(t.p,{children:["The contract and transaction above creates and stores the resource we'll be using in this tutorial.\nFor a more detailed breakdown of the contract, have a look at the ",(0,n.jsx)(t.a,{href:"/docs/cadence/tutorial/resources",children:"previous tutorial"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"creating-capabilities-and-references-to-stored-resources",children:"Creating Capabilities and References to Stored Resources"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"You need explicit permission from the owner of an account to access its storage.\nCapabilities allow an account owner to grant access to specific fields and functions\nstored in their accounts. (Explained more below)"}),"\n",(0,n.jsxs)(t.p,{children:["In this transaction, you create a new capability,\nthen use the ",(0,n.jsx)(t.code,{children:"link"})," function to create a public link to your ",(0,n.jsx)(t.code,{children:"HelloAsset"})," resource object.\nNext you use that link to borrow a ",(0,n.jsx)(t.a,{href:"../language/references",children:"reference"}),"\nto the underlying object and call the ",(0,n.jsx)(t.code,{children:"hello()"})," function.\nA detailed explanation of what is happening in this transaction\nis below the transaction code so, if you feel lost, keep reading!"]}),"\n",(0,n.jsxs)(o,{type:"info",children:[(0,n.jsxs)(t.p,{children:["Open the transaction named ",(0,n.jsx)(t.code,{children:"Create Link"}),"."]}),(0,n.jsx)("br",{}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Create Link"})," should contain the following code:"]})]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:["CreateLink"],active:"CreateLink",heightRatio:1},files:[{name:"CreateLink",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" HelloWorld ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction creates a new capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// for the HelloAsset resource in storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// and adds it to the account's public area.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// Other accounts and scripts can use this capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// to create a reference to the private object to be able to",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// access its fields and call its methods.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  prepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"account",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Create a public capability by linking the capability to",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // a `target` object in account storage.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // The capability allows access to the object through an",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // interface defined by the owner.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // This does not check if the link is valid or if the target exists.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // It just creates the capability.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // The capability is created and stored at /public/Hello, and is",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // also returned from the function.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" capability = account.link",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&HelloWorld.HelloAsset",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"HelloAssetTutorial, target: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"HelloAssetTutorial)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Use the capability's borrow method to create a new reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // to the object that the capability links to",props:{style:{color:"#616E88"}}}]},{tokens:[{content:'    // We use optional chaining "??" to get the value because',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // result of the borrow could fail, so it is an optional.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // If the optional is nil,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // the panic will happen with a descriptive error message",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" helloReference = capability.",props:{style:{color:"#D8DEE9FF"}}},{content:"borrow",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the hello capability",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Call the hello function using the reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // to the HelloAsset resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(helloReference.",props:{style:{color:"#D8DEE9FF"}}},{content:"hello",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"))",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsxs)(t.p,{children:["Ensure account ",(0,n.jsx)(t.code,{children:"0x01"})," is still selected as a transaction signer. ",(0,n.jsx)("br",{}),"\nClick the ",(0,n.jsx)(t.code,{children:"Send"})," button to send the transaction."]})}),"\n",(0,n.jsx)(t.p,{children:"In this transaction, we use the prepare phase to:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Create a capability with the ",(0,n.jsx)(t.code,{children:"link"})," method to the stored object ",(0,n.jsx)(t.code,{children:"HelloWorld.HelloAsset"})," from the account path ",(0,n.jsx)(t.code,{children:"/storage/HelloAssetTutorial"})]}),"\n",(0,n.jsxs)(t.li,{children:["Store the capability in the account path ",(0,n.jsx)(t.code,{children:"/public/HelloAssetTutorial"})]}),"\n",(0,n.jsxs)(t.li,{children:["Use the ",(0,n.jsx)(t.code,{children:"borrow"})," method to create a reference to the object we linked to called ",(0,n.jsx)(t.code,{children:"helloReference"})]}),"\n",(0,n.jsxs)(t.li,{children:["Call the ",(0,n.jsx)(t.code,{children:"hello()"})," function using the reference we created, ",(0,n.jsx)(t.code,{children:"helloReference"})]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["You should see ",(0,n.jsx)(t.code,{children:'"Hello, World"'})," show up in the console again.\nYou might be confused that we were able to call a method on the ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object\nwithout actually being directly in control of it!\nIt is also stored in the ",(0,n.jsx)(t.code,{children:"/storage/"})," domain of the account, which should be private."]}),"\n",(0,n.jsxs)(t.p,{children:["This is because we created a ",(0,n.jsx)(t.a,{href:"../language/capability-based-access-control",children:(0,n.jsx)(t.strong,{children:"capability"})})," for the ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object.\nCapabilities are kind of like pointers in other languages, but which much more fine-grained control."]}),"\n",(0,n.jsx)(t.h3,{id:"capability-based-access-control",children:"Capability Based Access Control"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"../language/capability-based-access-control",children:"Capabilities"})," allow the owners of objects\nto specify what functionality of their private objects is available to others.\nThink of it kind of like an account's API, if you're familiar with the concept.\nThe account owner has private objects stored in their storage, like their collectibles or their money,\nbut they might still want others to be able to see what collectibles they have in their account,\nor they want to allow anyone to deposit more money of a certain currency in their account.\nSince these objects are stored in private storage by default, the owner has to do something\nto open up access to these while still retaining full control.\nWe create capabilities to accomplish this."]}),"\n",(0,n.jsxs)(t.p,{children:["In our example, the owner of ",(0,n.jsx)(t.code,{children:"HelloAsset"})," might still want to let other people call the ",(0,n.jsx)(t.code,{children:"hello"})," method.\nThis is what capabilities are for. They represent a link to an object in an account's storage that has the type specified when the link is created."]}),"\n",(0,n.jsxs)(t.p,{children:["It is important to remember that someone else who has this capability cannot move or destroy the object that the capability is linked to!\nThey can only access fields that the owner has explicitly declared in the type specification of the ",(0,n.jsx)(t.code,{children:"link"})," method (described below)."]}),"\n",(0,n.jsxs)(t.p,{children:["Capabilities do not have any meaningful functionality on their own, but every capability has a ",(0,n.jsx)(t.code,{children:"borrow"})," method,\nwhich creates a reference to the object that the capability is linked to.\nThis reference is used to read fields or call methods on the object they reference\nas if the owner of the reference had the actual object."]}),"\n",(0,n.jsx)(t.p,{children:"Note that this only allows access to fields and methods.\nIt does not allow copying, moving, or modifying the original object directly."}),"\n",(0,n.jsx)(t.p,{children:"Let's break down what is happening in this transaction."}),"\n",(0,n.jsxs)(t.p,{children:["First, we create a public link to the private ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object in ",(0,n.jsx)(t.code,{children:"/storage/"}),":"]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" capability = account.link",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&HelloWorld.HelloAsset",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"Hello, target: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"Hello)",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"link"})," method returns a capability that can be used to access this link."]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object is stored in ",(0,n.jsx)(t.code,{children:"/storage/HelloAssetTutorial"}),", which only the account owner can access.\nThey want any user in the network to be able to call the ",(0,n.jsx)(t.code,{children:"hello()"})," method. So they make a public capability in ",(0,n.jsx)(t.code,{children:"/public/HelloAssetTutorial"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["To create a capability, we use the ",(0,n.jsx)(t.code,{children:"AuthAccount.link"})," method to link a new capability to an object in storage.\nThe type contained in ",(0,n.jsx)(t.code,{children:"<>"})," is the restricted reference type that the capability represents.\nThe capability says that whoever borrows a reference from this capability can only have access to the fields and methods\nthat are specified by the type in ",(0,n.jsx)(t.code,{children:"<>"}),".\nThe specified type has to be a subtype of the type of the object being linked to,\nmeaning that it cannot contain any fields or functions that the linked object doesn't have."]}),"\n",(0,n.jsxs)(t.p,{children:["A reference is referred to by the ",(0,n.jsx)(t.code,{children:"&"})," symbol. Here, the capability references the ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object,\nso we specify ",(0,n.jsx)(t.code,{children:"<&HelloWorld.HelloAsset>"})," as the type, which gives access to everything in the ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object."]}),"\n",(0,n.jsxs)(t.p,{children:["The first argument to the ",(0,n.jsx)(t.code,{children:"link"})," function is the path where you want to store the link for the capability\nand the ",(0,n.jsx)(t.code,{children:"target"})," argument is the path to the object in storage that is to be linked to.\nWe always store links for capabilities in the ",(0,n.jsx)(t.code,{children:"/private/"})," or ",(0,n.jsx)(t.code,{children:"/public/"})," domains:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["We choose ",(0,n.jsx)(t.code,{children:"/private/"})," if we only want to allow one or a small number of users to access it"]}),"\n",(0,n.jsxs)(t.li,{children:["We choose ",(0,n.jsx)(t.code,{children:"/public/"})," if we want any user in the network to be able to access it."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Capabilities always link to objects in the ",(0,n.jsx)(t.code,{children:"/storage/"})," domain."]}),"\n",(0,n.jsxs)(t.p,{children:["To borrow a reference to an object from the capability, we use the capability's ",(0,n.jsx)(t.code,{children:"borrow"})," method."]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" helloReference = capability.",props:{style:{color:"#D8DEE9FF"}}},{content:"borrow",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the hello capability",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["This method creates the reference as the type we specified in ",(0,n.jsx)(t.code,{children:"<>"})," in the ",(0,n.jsx)(t.code,{children:"link"})," function.\nWhile borrowing the reference, we use\n",(0,n.jsx)(t.a,{href:"../language/composite-types#accessing-fields-and-functions-of-composite-types-using-optional-chaining",children:"optional chaining"}),"\nbecause the borrowing of the reference could fail.\nThe reference could be ",(0,n.jsx)(t.code,{children:"nil"})," if the targeted storage slot is empty, is already borrowed,\nor if the requested type exceeds what is allowed by the capability.\nWe panic with a descriptive error message so the caller can know better what went wrong."]}),"\n",(0,n.jsx)(t.p,{children:"We separate this process into capabilities and references to protect against reentrancy attacks.\nA reentrancy attack is where a malicious actor could call into an object multiple times.\nThese attacks have plagued other smart contract languages.\nOnly one reference to an object can exist at a time, so this type of vulnerability isn't possible for objects in storage when you use Cadence."}),"\n",(0,n.jsxs)(t.p,{children:["Additionally, the owner of an object can effectively revoke capabilities they have created by moving the underlying object or destroying the link with the ",(0,n.jsx)(t.code,{children:"unlink"})," method.\nIf the referenced object is moved or the link is destroyed, capabilities that have been created from that link are invalidated."]}),"\n",(0,n.jsxs)(t.p,{children:["You can find more ",(0,n.jsx)(t.a,{href:"../language/capability-based-access-control",children:"detailed documentation about capabilities in the language reference."})]}),"\n",(0,n.jsxs)(t.p,{children:["Now, anyone can call the ",(0,n.jsx)(t.code,{children:"hello()"})," method on your ",(0,n.jsx)(t.code,{children:"HelloAsset"})," object by borrowing a reference with your public capability in ",(0,n.jsx)(t.code,{children:"/public/Hello"}),"!\n(Covered in the next section)"]}),"\n",(0,n.jsxs)(t.p,{children:["Lastly, we call the ",(0,n.jsx)(t.code,{children:"hello()"})," method with our borrowed reference:"]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Call the hello function using the reference to the HelloAsset resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"log",props:{style:{color:"#88C0D0"}}},{content:"(helloReference.",props:{style:{color:"#D8DEE9FF"}}},{content:"hello",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"))",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["At the end of the transaction execution, the ",(0,n.jsx)(t.code,{children:"helloReference"})," value is lost,\nbut that is ok because while it references a resource, it isn't the actual resource itself, so it is ok to lose it."]}),"\n",(0,n.jsx)(t.p,{children:"In the next section, we look at how capabilities can expand the access a script has to an account."}),"\n",(0,n.jsx)(t.h3,{id:"executing-scripts",children:"Executing Scripts"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"A script is a very simple transaction type in Cadence that cannot perform\nany writes to the blockchain and can only read the state of an account or contract."}),"\n",(0,n.jsxs)(t.p,{children:["To execute a script, write a function called ",(0,n.jsx)(t.code,{children:"pub fun main()"}),".\nYou can click the execute script button to run the script.\nThe result of the script will be printed to the console output."]}),"\n",(0,n.jsxs)(o,{type:"info",children:[(0,n.jsxs)(t.p,{children:["Open the file ",(0,n.jsx)(t.code,{children:"Script1.cdc"}),"."]}),(0,n.jsx)("br",{}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Script1.cdc"})," should look like the following:"]})]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:["Script1.cdc"],active:"Script1.cdc",heightRatio:1},files:[{name:"Script1.cdc",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" HelloWorld ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"main",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Cadence code can get an account's public account object",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // by using the getAccount() built-in function.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" helloAccount = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Get the public capability from the public path of the owner's account",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" helloCapability = helloAccount.getCapability",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&HelloWorld.HelloAsset",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"HelloAssetTutorial)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // borrow a reference for the capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" helloReference = helloCapability.",props:{style:{color:"#D8DEE9FF"}}},{content:"borrow",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the hello capability",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // The log built-in function logs its argument to stdout.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:'    // Here we are using optional chaining to call the "hello"',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // method on the HelloAsset resource that is referenced",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // in the published area of the account.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(helloReference.",props:{style:{color:"#D8DEE9FF"}}},{content:"hello",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"))",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Here's what this script does:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["It fetches the ",(0,n.jsx)(t.code,{children:"PublicAccount"})," object with ",(0,n.jsx)(t.code,{children:"getAccount"})," and assigns it to the variable ",(0,n.jsx)(t.code,{children:"helloAccount"})]}),"\n",(0,n.jsxs)(t.li,{children:["Uses the ",(0,n.jsx)(t.code,{children:"getCapability"})," method to get the capability from the ",(0,n.jsx)(t.code,{children:"Create Link"})," transaction"]}),"\n",(0,n.jsxs)(t.li,{children:["Borrows a reference for the capability using the ",(0,n.jsx)(t.code,{children:"borrow"})," method and assigns it to ",(0,n.jsx)(t.code,{children:"helloReference"})]}),"\n",(0,n.jsxs)(t.li,{children:["Logs the result of the ",(0,n.jsx)(t.code,{children:"hello()"})," function from ",(0,n.jsx)(t.code,{children:"helloReference"})," to the console."]}),"\n"]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" helloAccount = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"PublicAccount"})," object is available to anyone in the network for every account,\nbut only has access to a small subset of functions that can be read from the ",(0,n.jsx)(t.code,{children:"/public/"})," domain in an account."]}),"\n",(0,n.jsxs)(t.p,{children:["Then, the script gets the capability that was created in ",(0,n.jsx)(t.code,{children:"Create Link"}),"."]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Get the public capability from the public path of the owner's account",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" helloCapability = helloAccount.",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"HelloAssetTutorial",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["To get a capability that is stored in an account, use the ",(0,n.jsx)(t.code,{children:"account.getCapability()"})," function.\nThis function is available on ",(0,n.jsx)(t.code,{children:"AuthAccount"}),"s and on ",(0,n.jsx)(t.code,{children:"PublicAccount"}),"s.\n",(0,n.jsx)(t.code,{children:"getCapability()"})," returns a capability for the link at the path that is specified,\nalso with the type that is specified.\nIt does not check if the target exists, so the borrow will fail if the capability is invalid."]}),"\n",(0,n.jsx)(t.p,{children:"After that, the script borrows a reference from the capability."}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" helloReference = helloCapability.",props:{style:{color:"#D8DEE9FF"}}},{content:"borrow",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Then, the script uses the reference to call the ",(0,n.jsx)(t.code,{children:"hello()"})," function and prints the result."]}),"\n",(0,n.jsx)(t.p,{children:"Let's execute the script to see it run correctly."}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsxs)(t.p,{children:["Click the ",(0,n.jsx)(t.code,{children:"Execute"})," button in the playground."]})}),"\n",(0,n.jsx)("img",{src:"https://storage.googleapis.com/flow-resources/documentation-assets/cadence-tuts/playground-execute.png"}),"\n",(0,n.jsx)(t.p,{children:"You should see something like this print:"}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'> "Hello, World"',props:{}}]},{tokens:[{content:'> Result > "void"',props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Good work!\nYour script ran successfully."}),"\n",(0,n.jsx)(t.p,{children:"One other really cool feature of scripts is that since they can't actually change anything on chain,\nthey can access any accounts' private storage and objects.\nThis allows scripts even more power to understand the full state of the chain\nand it is safe because they can't actually make any changes.\nAlso, everything on-chain is publicly readable anyway,\nso it is a logical feature for a blockchain programming language to have."}),"\n",(0,n.jsx)(t.p,{children:"A script can get the AuthAccount for an account address using the built-in getAuthAccount function:"}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"fun getAuthAccount(_ address: Address): AuthAccount",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["See the ",(0,n.jsx)(t.a,{href:"../language/accounts",children:"language reference"})," for more information about accounts."]}),"\n",(0,n.jsx)(t.h2,{id:"reviewing-capabilities",children:"Reviewing Capabilities"}),"\n",(0,n.jsx)(t.p,{children:"This tutorial expanded on the idea of resources in Cadence by expanding access scope to a resource using capabilities\nand covering more account storage API use-cases."}),"\n",(0,n.jsxs)(t.p,{children:["You deployed a smart contract with a resource, then created a capability to grant access to that resource.\nWith the capability, you used the borrow method to create a reference and used the reference to call the\nresource's ",(0,n.jsx)(t.code,{children:"hello()"})," function.\nFinally, you used a script to borrow the same capability and create a reference so that the script can\ncall the resource's ",(0,n.jsx)(t.code,{children:"hello()"})," function. This is important because script's cannot access account storage\nwithout using capabilities."]}),"\n",(0,n.jsx)(t.p,{children:"Now that you have completed the tutorial, you have the basic knowledge to write a simple Cadence program that can:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Implement a resource in a smart contract"}),"\n",(0,n.jsx)(t.li,{children:"Create capabilities to grant access to resources in an account"}),"\n",(0,n.jsx)(t.li,{children:"Interact with resources using both signed transactions and scripts"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Feel free to modify the smart contract to create different resources,\nexperiment with the available ",(0,n.jsx)(t.a,{href:"../language/accounts#account-storage-api",children:"account storage API"}),",\nand write new transactions and scripts that execute different functions from your smart contract.\nHave a look at the ",(0,n.jsx)(t.a,{href:"../language/capability-based-access-control",children:"capability-based access control page"}),"\nto find out more about what you can do with capabilities."]}),"\n",(0,n.jsxs)(t.p,{children:["You're on the right track to building more complex applications with Cadence,\nnow is a great time to check out the ",(0,n.jsx)(t.a,{href:"../design-patterns",children:"Cadence Best Practices document"}),"\nand ",(0,n.jsx)(t.a,{href:"../anti-patterns",children:"Anti-patterns document"})," as your applications become more complex."]})]})}const g=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(h,e)})):h(e)};function b(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);