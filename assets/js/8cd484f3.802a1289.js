"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[15380],{35994:(e,o,t)=>{t.r(o),t.d(o,{CH:()=>p,assets:()=>l,chCodeConfig:()=>u,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>a,toc:()=>d});t(67294);var n=t(85893),r=t(11151),s=t(59794);const c={title:"Transaction Fee Guide"},i=void 0,a={unversionedId:"guides/variable-transaction-fees",id:"guides/variable-transaction-fees",title:"Transaction Fee Guide",description:"This guide will explain why transaction fees are important, how they are calculated, and how you can handle fees within your implementation. Specifically, it lays out how you can estimate the costs of a transaction, how you can set the limit for costs, and how you can optimize your Cadence code to reduce transaction costs where possible.",source:"@site/docs/guides/variable-transaction-fees.md",sourceDirName:"guides",slug:"/guides/variable-transaction-fees",permalink:"/docs/next/guides/variable-transaction-fees",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/guides/variable-transaction-fees.md",tags:[],version:"current",lastUpdatedBy:"Gregor G",lastUpdatedAt:1693945828,formattedLastUpdatedAt:"Sep 5, 2023",frontMatter:{title:"Transaction Fee Guide"},sidebar:"guides",previous:{title:"Running a Node",permalink:"/docs/next/guides/runningNode"}},l={},d=[{value:"Understanding the need for transaction fees",id:"understanding-the-need-for-transaction-fees",level:2},{value:"Understanding fee structure",id:"understanding-fee-structure",level:2},{value:"Execution costs",id:"execution-costs",level:3},{value:"Inclusion costs",id:"inclusion-costs",level:3},{value:"Network surge",id:"network-surge",level:3},{value:"Storage fees",id:"storage-fees",level:3},{value:"Estimating transaction costs",id:"estimating-transaction-costs",level:2},{value:"Understanding execution effort",id:"understanding-execution-effort",level:3},{value:"Calculating final costs",id:"calculating-final-costs",level:3},{value:"Configuring execution limits",id:"configuring-execution-limits",level:2},{value:"Maximum transaction fees of a transaction",id:"maximum-transaction-fees-of-a-transaction",level:3},{value:"Optimizing Cadence code to reduce effort",id:"optimizing-cadence-code-to-reduce-effort",level:2},{value:"Educating users",id:"educating-users",level:2},{value:"How to learn more",id:"how-to-learn-more",level:2},{value:"FAQs",id:"faqs",level:2}],p={annotations:s.ds,Code:s.EK},u={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/docs/guides/variable-transaction-fees.md"};function g(e){const o=Object.assign({p:"p",blockquote:"blockquote",strong:"strong",h2:"h2",a:"a",h3:"h3",ul:"ul",li:"li",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",img:"img"},(0,r.ah)(),e.components);return p||f("CH",!1),p.Code||f("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{children:"This guide will explain why transaction fees are important, how they are calculated, and how you can handle fees within your implementation. Specifically, it lays out how you can estimate the costs of a transaction, how you can set the limit for costs, and how you can optimize your Cadence code to reduce transaction costs where possible."}),"\n",(0,n.jsx)(o.p,{children:"The guide will conclude with information on how to educate your users about fees and how to learn more about the implementation of transaction fees."}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": Transaction cost implementation is based on a community-involved FLIP process. The work is currently ongoing. Jump to the \u201cLearn More\u201d section to participate in the process."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"understanding-the-need-for-transaction-fees",children:"Understanding the need for transaction fees"}),"\n",(0,n.jsx)(o.p,{children:"Segmented transaction fees are essential to ensure fair pricing based on the impact on the network. For instance, more heavy operations will require more resources to process and propagate transactions. Common operations, however, will stay reasonably priced."}),"\n",(0,n.jsx)(o.p,{children:"Fees will improve the overall security of the network by making malicious actions (eg spam) on the network less viable."}),"\n",(0,n.jsx)(o.p,{children:"The unique Flow architecture is targeted at high throughput. It makes it easier to have slack in the system, so short spikes can be handled more gracefully."}),"\n",(0,n.jsx)(o.h2,{id:"understanding-fee-structure",children:"Understanding fee structure"}),"\n",(0,n.jsx)(o.p,{children:"Fees are calculated based on three components: execution fee, inclusion fee, and network surge factor."}),"\n",(0,n.jsx)(o.p,{children:"Inclusion and execution fees can be expressed as inclusion or execution effort and an associated multiplier to reflect the costs of the inclusion and execution effort. The final transaction fee calculation looks like this:"}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"inclusionFee = inclusionEffort * inclusionEffortCost;",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"executionFee = executionEffort * executionEffortCost;",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"totalFee = (inclusionFee + executionFee) * surgeFactor;",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": If you want to learn more about the cost function, ",(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow/blob/c05d847adf2f6fb509e42c17020484d7dd3e89bd/flips/20220111-execution-effort.md#final-execution-effort-feature-weights-and-maximum-execution-effort-limit",children:"take a look at FLIP 753"}),"."]}),"\n"]}),"\n",(0,n.jsx)(o.h3,{id:"execution-costs",children:"Execution costs"}),"\n",(0,n.jsx)(o.p,{children:"The execution effort for a transaction is determined by the code path the transaction takes and the actions it does. The actions that have an associated execution effort cost can be separated into four broad buckets:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Normal lines of cadence, loops, or function calls"}),"\n",(0,n.jsx)(o.li,{children:"Reading data from storage, charged per byte read"}),"\n",(0,n.jsx)(o.li,{children:"Writing data to storage, charged per byte written"}),"\n",(0,n.jsx)(o.li,{children:"Account creation"}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Cost overview"})}),"\n",(0,n.jsxs)(o.p,{children:["To provide you a better understanding of the cost ranges, here are some common transaction types and their associated execution costs, given the current ",(0,n.jsx)(o.code,{children:"executionEffortCost"})," and ",(0,n.jsx)(o.code,{children:"inclusionEffortCost"})," parameters:"]}),"\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:"Transaction Type"}),(0,n.jsx)(o.th,{align:"left",children:"Estimated cost (FLOW)"}),(0,n.jsx)(o.th,{align:"left",children:"Relative cost to FT transfer"})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"FT transfer"}),(0,n.jsx)(o.td,{align:"left",children:"0.00000185"}),(0,n.jsx)(o.td,{align:"left",children:"1 (baseline)"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Mint a small NFT (heavily depends on the NFT size)"}),(0,n.jsx)(o.td,{align:"left",children:"0.0000019"}),(0,n.jsx)(o.td,{align:"left",children:"1"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Empty Transaction"}),(0,n.jsx)(o.td,{align:"left",children:"0.000001"}),(0,n.jsx)(o.td,{align:"left",children:"0.5"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Add key to an account"}),(0,n.jsx)(o.td,{align:"left",children:"0.000001"}),(0,n.jsx)(o.td,{align:"left",children:"0.5"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Create 1 Account"}),(0,n.jsx)(o.td,{align:"left",children:"0.00000315"}),(0,n.jsx)(o.td,{align:"left",children:"1.7"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Create 10 accounts"}),(0,n.jsx)(o.td,{align:"left",children:"0.00002261"}),(0,n.jsx)(o.td,{align:"left",children:"12.2"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Deploying a contract that is ~50kb"}),(0,n.jsx)(o.td,{align:"left",children:"0.00002965"}),(0,n.jsx)(o.td,{align:"left",children:"16"})]})]})]}),"\n",(0,n.jsx)(o.h3,{id:"inclusion-costs",children:"Inclusion costs"}),"\n",(0,n.jsx)(o.p,{children:"The inclusion effort of a transaction represents the work needed for:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Including the transaction in a block"}),"\n",(0,n.jsx)(o.li,{children:"Transporting the transaction information from node to node"}),"\n",(0,n.jsx)(o.li,{children:"Verifying transaction signatures"}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["Right now, the inclusion effort is always 1.0 and the inclusion effort cost is fixed to ",(0,n.jsx)(o.code,{children:"0.000001"}),"."]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": Inclusion effort will always be calculable without executing the transaction code."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"In the future, costs for inclusion will be impacted by the byte size of the transaction and the number of signatures required."}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": The changes to variable inclusion costs will be updated in ",(0,n.jsx)(o.a,{href:"/docs/next/building-on-flow/nodes/node-operation/upcoming-sporks",children:"one of the upcoming sporks"}),"."]}),"\n"]}),"\n",(0,n.jsx)(o.h3,{id:"network-surge",children:"Network surge"}),"\n",(0,n.jsxs)(o.p,{children:["In the future, a network surge will be applied when the network is busy due to an increased influx of transactions required to be processed or a decrease in the ability to process transactions. Right now, the network surge is fixed to ",(0,n.jsx)(o.code,{children:"1.0"}),"."]}),"\n",(0,n.jsx)(o.h3,{id:"storage-fees",children:"Storage fees"}),"\n",(0,n.jsxs)(o.p,{children:["Storage fees are implemented differently from transaction fees. Read the ",(0,n.jsx)(o.a,{href:"/docs/next/concepts/fees#storage-capacity",children:"Storing Data on Flow guide"})," for more details. In summary, storage fees are a cost associated with storing data on-chain."]}),"\n",(0,n.jsx)(o.h2,{id:"estimating-transaction-costs",children:"Estimating transaction costs"}),"\n",(0,n.jsx)(o.p,{children:"Cost estimation is a two-step process. First, you need to gather the execution effort with either the emulator, on testnet, or on mainnet. Second, you use the execution effort for a transaction to calculate the final fees using one of the JavaScript or Go FCL SDKs."}),"\n",(0,n.jsx)(o.h3,{id:"understanding-execution-effort",children:"Understanding execution effort"}),"\n",(0,n.jsx)(o.p,{children:"Execution effort is best determined by running a transaction and reviewing the emitted event details."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Using Flow Emulator"})}),"\n",(0,n.jsxs)(o.p,{children:["You can ",(0,n.jsx)(o.a,{href:"/docs/next/tools/toolchains/emulator/#running-the-emulator-with-the-flow-cli",children:"start the emulator using the Flow CLI"}),". Run your transaction and take a look at the events emitted:"]}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"0",props:{style:{color:"#D8DEE9FF"}}},{content:"|",props:{style:{color:"#81A1C1"}}},{content:"emulator ",props:{style:{color:"#D8DEE9FF"}}},{content:"|",props:{style:{color:"#81A1C1"}}},{content:" time=",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"2022-04-06T17:13:22-07:00",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:" level=info msg=",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"\u2b50  Transaction executed",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:" computationUsed=3 txID=a782c2210c0c1f2a6637b20604d37353346bd5389005e4bff6ec7bcf507fac06",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"shell"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["You should see the ",(0,n.jsx)(o.code,{children:"computationUsed"})," field. Take a note of the value, you will use it in the next step."]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"On testnet or mainnet"})}),"\n",(0,n.jsxs)(o.p,{children:["Once a transaction is completed, you can use an explorer like ",(0,n.jsx)(o.a,{href:"https://flowscan.org/",children:"Flowscan"})," to review the transaction details and events emitted. For Flowscan, you can open the transaction in question and look for the event ",(0,n.jsx)(o.code,{children:"FeesDeducted"})," from the ",(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowFees.cdc",children:(0,n.jsx)(o.code,{children:"FlowFees"})})," contract:"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{src:t(12971).Z+"",loading:"lazy",alt:"flowscan-fees",width:"1748",height:"682"})}),"\n",(0,n.jsxs)(o.p,{children:["In the event data on the right side, you will see a set of fields representing ",(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowFees.cdc#L58",children:"FeeParameters"}),":"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"surgeFactor"}),"\n",(0,n.jsx)(o.li,{children:"inclusionEffort"}),"\n",(0,n.jsx)(o.li,{children:"executionEffort"}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["Take a note of the last value in the list - the ",(0,n.jsx)(o.code,{children:"executionEffort"})," value. You will use it in the next step."]}),"\n",(0,n.jsx)(o.h3,{id:"calculating-final-costs",children:"Calculating final costs"}),"\n",(0,n.jsx)(o.p,{children:"The cost for transactions can be calculated using the following FCL scripts on mainnet/testnet respectively."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"On mainnet"})}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" FlowFees ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0xf919ee77447b7497",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"main",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  inclusionEffort",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:",",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  executionEffort",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:")",props:{style:{color:"#ECEFF4"}}},{content:": UFix64 ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  return",props:{style:{color:"#81A1C1"}}},{content:" FlowFees.",props:{style:{color:"#D8DEE9FF"}}},{content:"computeFees",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"inclusionEffort",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" inclusionEffort, ",props:{style:{color:"#D8DEE9FF"}}},{content:"executionEffort",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" executionEffort",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"On testnet"})}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" FlowFees ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x912d5440f7e3769e",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"main",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  inclusionEffort",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:",",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  executionEffort",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:")",props:{style:{color:"#ECEFF4"}}},{content:": UFix64 ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  return",props:{style:{color:"#81A1C1"}}},{content:" FlowFees.",props:{style:{color:"#D8DEE9FF"}}},{content:"computeFees",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"inclusionEffort",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" inclusionEffort, ",props:{style:{color:"#D8DEE9FF"}}},{content:"executionEffort",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" executionEffort",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.h2,{id:"configuring-execution-limits",children:"Configuring execution limits"}),"\n",(0,n.jsx)(o.p,{children:"FCL SDKs allow you to set the execution effort limit for each transaction. Based on the execution effort limit determined in the previous step, you should set a reasonable maximum to avoid unexpected behavior and protect your users. The final transaction fee is computed from the actual execution effort used up to this maximum."}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": Keep in mind that the limits are not for the final fees that the user will have to pay. The limits are for the execution efforts specifically."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"It is important to set a limit that isn\u2019t too high or too low. If it is set too high, the payer needs to have more funds in their account before sending the transaction. If it is too low, the execution could fail and all state changes are dropped."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Using FCL JS SDK"})}),"\n",(0,n.jsxs)(o.p,{children:["You need to set the ",(0,n.jsx)(o.code,{children:"limit"})," parameter for the ",(0,n.jsx)(o.code,{children:"mutate"})," function, for example:"]}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import * as ",props:{style:{color:"#81A1C1"}}},{content:"fcl ",props:{style:{color:"#8FBCBB"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"@onflow/fcl",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"const ",props:{style:{color:"#81A1C1"}}},{content:"transactionId ",props:{style:{color:"#D8DEE9"}}},{content:"= await ",props:{style:{color:"#81A1C1"}}},{content:"fcl",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"mutate",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  cadence",props:{style:{color:"#88C0D0"}}},{content:": `",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    transaction {",props:{style:{color:"#A3BE8C"}}}]},{tokens:[{content:"      execute {",props:{style:{color:"#A3BE8C"}}}]},{tokens:[{content:'        log("Hello from execute")',props:{style:{color:"#A3BE8C"}}}]},{tokens:[{content:"      }",props:{style:{color:"#A3BE8C"}}}]},{tokens:[{content:"    }",props:{style:{color:"#A3BE8C"}}}]},{tokens:[{content:"  `,",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  proposer",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"fcl",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"currentUser",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  payer",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"fcl",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"currentUser",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  limit",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"100",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"const ",props:{style:{color:"#81A1C1"}}},{content:"transaction ",props:{style:{color:"#D8DEE9"}}},{content:"= await ",props:{style:{color:"#81A1C1"}}},{content:"fcl",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"tx",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"transactionId",props:{style:{color:"#D8DEE9"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"onceSealed",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"console",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"transaction",props:{style:{color:"#D8DEE9"}}},{content:";)",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"js"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Using FCL Go SDK"})}),"\n",(0,n.jsxs)(o.p,{children:["You need to call the ",(0,n.jsx)(o.code,{children:"SetComputeLimit"})," method to set the fee limit, for example:"]}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import ",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:'    "',props:{style:{color:"#ECEFF4"}}},{content:"github.com/onflow/flow-go-sdk",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:'    "',props:{style:{color:"#ECEFF4"}}},{content:"github.com/onflow/flow-go-sdk/crypto",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var ",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    myAddress",props:{style:{color:"#D8DEE9"}}},{content:"    flow",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"Address",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    myAccountKey",props:{style:{color:"#D8DEE9"}}},{content:" flow",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"AccountKey",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    myPrivateKey",props:{style:{color:"#D8DEE9"}}},{content:" crypto",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"PrivateKey",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"tx ",props:{style:{color:"#D8DEE9"}}},{content:":=",props:{style:{color:"#81A1C1"}}},{content:" flow",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"NewTransaction",props:{style:{color:"#88C0D0"}}},{content:"().",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    SetScript",props:{style:{color:"#88C0D0"}}},{content:"([]",props:{style:{color:"#ECEFF4"}}},{content:"byte",props:{style:{color:"#88C0D0"}}},{content:'("',props:{style:{color:"#ECEFF4"}}},{content:"transaction { execute { log(",props:{style:{color:"#A3BE8C"}}},{content:'\\"',props:{style:{color:"#EBCB8B"}}},{content:"Hello, World!",props:{style:{color:"#A3BE8C"}}},{content:'\\"',props:{style:{color:"#EBCB8B"}}},{content:") } }",props:{style:{color:"#A3BE8C"}}},{content:'")).',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    SetComputeLimit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"100",props:{style:{color:"#B48EAD"}}},{content:").",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    SetProposalKey",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"myAddress",props:{style:{color:"#D8DEE9FF"}}},{content:",",props:{style:{color:"#ECEFF4"}}},{content:" myAccountKey",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"Index",props:{style:{color:"#D8DEE9FF"}}},{content:",",props:{style:{color:"#ECEFF4"}}},{content:" myAccountKey",props:{style:{color:"#D8DEE9FF"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"SequenceNumber",props:{style:{color:"#D8DEE9FF"}}},{content:").",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    SetPayer",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"myAddress",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"go"},annotations:[]}]}),"\n",(0,n.jsx)(o.h3,{id:"maximum-transaction-fees-of-a-transaction",children:"Maximum transaction fees of a transaction"}),"\n",(0,n.jsx)(o.p,{children:"The maximum possible fees the payer could pay for a transaction can be calculated as the inclusion cost plus the execution cost as if the transaction was executed with execution effort equal to the transactions specified execution effort limit."}),"\n",(0,n.jsx)(o.p,{children:"The payer will never pay more than this amount for the transaction."}),"\n",(0,n.jsx)(o.h2,{id:"optimizing-cadence-code-to-reduce-effort",children:"Optimizing Cadence code to reduce effort"}),"\n",(0,n.jsx)(o.p,{children:"Several optimizations can lead to reduced execution time of transactions. Below is a list of some practices. This list is not exhaustive but rather exemplary."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Limit functions calls"})}),"\n",(0,n.jsx)(o.p,{children:"Whenever you make function calls, make sure these are absolutely required. In some cases, you might be able to check prerequisites and avoid additional calls:"}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"for",props:{style:{color:"#81A1C1"}}},{content:" obj ",props:{style:{color:"#D8DEE9FF"}}},{content:"in",props:{style:{color:"#81A1C1"}}},{content:" sampleList ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"   /// check if call is required",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"   if",props:{style:{color:"#81A1C1"}}},{content:" obj.id ",props:{style:{color:"#D8DEE9FF"}}},{content:"!= nil ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      functionCall",props:{style:{color:"#88C0D0"}}},{content:"(obj",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"   }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Limit loops and iterations"})}),"\n",(0,n.jsx)(o.p,{children:"Whenever you want to iterate over a list, make sure it is necessary to iterate through all elements as opposed to a subset. Avoid loops to grow in size too much over time. Limit loops when possible."}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Iterating over long lists can be costly",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"sum",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"list",props:{style:{color:"#88C0D0"}}},{content:": [",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:": Int ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" var",props:{style:{color:"#81A1C1"}}},{content:" total = ",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:" var",props:{style:{color:"#81A1C1"}}},{content:" i = ",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:" // if list grows too large, this might not be possible anymore",props:{style:{color:"#616E88"}}}]},{tokens:[{content:" while",props:{style:{color:"#81A1C1"}}},{content:" i ",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:" list.length ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"   total ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" total ",props:{style:{color:"#D8DEE9FF"}}},{content:"+",props:{style:{color:"#81A1C1"}}},{content:" list[i]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:" }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" return",props:{style:{color:"#81A1C1"}}},{content:" total",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'// Consider designing transactions (and scripts) in a way where work can be "chunked" into smaller pieces',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"partialSum",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"list",props:{style:{color:"#88C0D0"}}},{content:": [",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"], ",props:{style:{color:"#D8DEE9FF"}}},{content:"start",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"end",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:": Int ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" var",props:{style:{color:"#81A1C1"}}},{content:" partialTotal = ",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:" var",props:{style:{color:"#81A1C1"}}},{content:" i = start",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:" while",props:{style:{color:"#81A1C1"}}},{content:" i ",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:" end ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"   partialTotal ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" partialTotal ",props:{style:{color:"#D8DEE9FF"}}},{content:"+",props:{style:{color:"#81A1C1"}}},{content:" list[i]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:" }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" return",props:{style:{color:"#81A1C1"}}},{content:" partialTotal",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Understand the impact of function calls"})}),"\n",(0,n.jsx)(o.p,{children:"Some functions will require more execution efforts than others. You should carefully review what function calls are made and what execution they involve."}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// be aware functions that call a lot of other functions",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// (or call themselves) might cost a lot",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"fib",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"_ ",props:{style:{color:"#88C0D0"}}},{content:"x",props:{style:{color:"#D8DEE9"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:": Int ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" if",props:{style:{color:"#81A1C1"}}},{content:" x ",props:{style:{color:"#D8DEE9FF"}}},{content:"== ",props:{style:{color:"#81A1C1"}}},{content:"1 ",props:{style:{color:"#B48EAD"}}},{content:"||",props:{style:{color:"#81A1C1"}}},{content:" x",props:{style:{color:"#D8DEE9FF"}}},{content:"== ",props:{style:{color:"#81A1C1"}}},{content:"0 ",props:{style:{color:"#B48EAD"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"   return",props:{style:{color:"#81A1C1"}}},{content:" x",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:" }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" // + 2 function calls each recursion",props:{style:{color:"#616E88"}}}]},{tokens:[{content:" return ",props:{style:{color:"#81A1C1"}}},{content:"fib",props:{style:{color:"#88C0D0"}}},{content:"(x",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:"1",props:{style:{color:"#B48EAD"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"+ ",props:{style:{color:"#81A1C1"}}},{content:"fib",props:{style:{color:"#88C0D0"}}},{content:"(x",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// consider inlining functions with single statements, to reduce costs",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"add",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"_ ",props:{style:{color:"#88C0D0"}}},{content:"a",props:{style:{color:"#D8DEE9"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"_ ",props:{style:{color:"#88C0D0"}}},{content:"b",props:{style:{color:"#D8DEE9"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:": Int ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:" // single statement; worth inlining",props:{style:{color:"#616E88"}}}]},{tokens:[{content:" return",props:{style:{color:"#81A1C1"}}},{content:" a ",props:{style:{color:"#D8DEE9FF"}}},{content:"+",props:{style:{color:"#81A1C1"}}},{content:" b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Avoid excessive load and save operations"})}),"\n",(0,n.jsxs)(o.p,{children:["Avoid costly loading and storage operations and ",(0,n.jsx)(o.a,{href:"/docs/next/cadence/design-patterns#avoid-excessive-load-and-save-storage-operations-prefer-in-place-mutations",children:"borrow references"})," where possible, for example:"]}),"\n",(0,n.jsx)(p.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    prepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // Borrows a reference to the stored vault, much less costly operation that removing the vault from storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        let",props:{style:{color:"#81A1C1"}}},{content:" vault <- acct.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"exampleToken)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        let",props:{style:{color:"#81A1C1"}}},{content:" burnVault <- vault.",props:{style:{color:"#D8DEE9FF"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"10",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        destroy",props:{style:{color:"#81A1C1"}}},{content:" burnVault",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // No `save` required because we only used a reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": If the requested resource does not exist, no reading costs are charged."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Limit accounts created per transaction"})}),"\n",(0,n.jsx)(o.p,{children:"Creating accounts and adding keys are associated with costs. Try to only create accounts and keys when necessary."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Check user\u2019s balance before executing transactions"})}),"\n",(0,n.jsx)(o.p,{children:"You should ensure that the user\u2019s balance has enough balance to cover the highest possible fees. For FT transfers, you need to cover the amount to transfer in addition to the highest possible fees."}),"\n",(0,n.jsx)(o.h2,{id:"educating-users",children:"Educating users"}),"\n",(0,n.jsx)(o.p,{children:"Wallets will handle the presentation of the final transaction costs but you can still facilitate the user experience by educating them within your application."}),"\n",(0,n.jsx)(o.p,{children:"If your user is using self-custody wallets, they may have to pay the transaction and want to understand the fees. Here are some suggestions."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Explain that costs can vary depending on the network usage"})}),"\n",(0,n.jsx)(o.p,{children:"Suggested message: \u201cFees improve the security of the network. They are flexible to ensure fair pricing based on the impact on the network.\u201d"}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Explain that waiting for the network surge to pass is an option"})}),"\n",(0,n.jsx)(o.p,{children:"Inevitably, network surges will cause higher fees. Users who might want to submit a transaction while the network usage is surging should consider sending the transaction at a later time to reduce costs."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Explain that the wallet might not allow the transaction due to a lack of funds"})}),"\n",(0,n.jsx)(o.p,{children:"If dynamic fees increase to the highest possible level, the user\u2019s fund might not be enough to execute the transaction. Let the users know that they should either add funds or try when the network is less busy."}),"\n",(0,n.jsx)(o.h2,{id:"how-to-learn-more",children:"How to learn more"}),"\n",(0,n.jsx)(o.p,{children:"There are several places to learn more about transaction fees:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow/pull/660",children:"FLIP-660"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow/pull/753",children:"FLIP-753"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowFees.cdc",children:"Flow Fees Contract"})}),"\n"]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Note"}),": If you have thoughts on the implementation of transaction fees on Flow, you can ",(0,n.jsx)(o.a,{href:"https://forum.onflow.org/t/variable-transaction-fees-are-coming-to-flow/2941",children:"leave feedback on this forum post"}),"."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"faqs",children:"FAQs"}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"When will the fee update go into effect?"})}),"\n",(0,n.jsxs)(o.p,{children:["The updates were rolled out with the ",(0,n.jsx)(o.a,{href:"/docs/next/building-on-flow/nodes/node-operation/past-sporks#mainnet-17",children:"Spork on April 6, 2022"}),", and were enabled on ",(0,n.jsx)(o.a,{href:"https://forum.onflow.org/t/permissionless-contract-deployment-progress/2981",children:"June 1st"})," during the ",(0,n.jsx)(o.a,{href:"https://github.com/onflow/service-account/tree/main/transactions/set-execution-effort-weights/2022/jun-1",children:"weekly epoch transition"}),"."]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Why are fees collected even when transactions fail?"})}),"\n",(0,n.jsx)(o.p,{children:"Broadcasting and verifying a transaction requires execution, so costs are deducted appropriately."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"What execution costs are considered above average?"})}),"\n",(0,n.jsx)(o.p,{children:"There is no average for execution costs. Every function will vary significantly based on the logic implemented. You should review the optimization best practices to determine if you could reduce your costs."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Do hardware wallets like Ledger support segmented fees?"})}),"\n",(0,n.jsx)(o.p,{children:"Yes."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"What is the lowest execution cost?"})}),"\n",(0,n.jsx)(o.p,{children:"The lowest execution cost is 1. This means your transaction included one function call or loop that didn't read or write any date."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Can I determine how much a transaction will cost on mainnet without actually paying?"})}),"\n",(0,n.jsx)(o.p,{children:"You can estimate the costs in a two-way process: 1) determine execution costs for transactions (emulator or testnet) and 2) use an FCL SDK method to calculate the final transaction fees."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"How accurate will testnet fees be to mainnet fees?"})}),"\n",(0,n.jsx)(o.p,{children:"Final fees are determined by the surge factor on the network. The surge factor for the testnet will be different from the factor for the mainnet, so you need to expect a variation between mainnet and testnet estimates."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"I use Blocto and I haven't paid any fees yet. Why is that?"})}),"\n",(0,n.jsx)(o.p,{children:"That is because Blocto is acting as the payer for transactions. self-custody wallets may have the user pay the transaction. Additionally, apps can sponsor the transaction if they choose."})]})}const h=function(e){void 0===e&&(e={});const{wrapper:o}=Object.assign({},(0,r.ah)(),e.components);return o?(0,n.jsx)(o,Object.assign({},e,{children:(0,n.jsx)(g,e)})):g(e)};function f(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},12971:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"assets/images/flowscan-fees-cb6b2a52450fcbbef7f20f30c4130453.png"}}]);