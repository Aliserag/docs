"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[32581],{39623:(e,t,o)=>{o.r(t),o.d(t,{CH:()=>d,assets:()=>a,chCodeConfig:()=>u,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>p});o(67294);var n=o(85893),r=o(11151),s=o(59794);const c={title:"Access control",sidebar_position:13},i=void 0,l={unversionedId:"cadence/language/access-control",id:"cadence/language/access-control",title:"Access control",description:"Access control allows making certain parts of a program accessible/visible",source:"@site/docs/cadence/language/access-control.md",sourceDirName:"cadence/language",slug:"/cadence/language/access-control",permalink:"/docs/next/cadence/language/access-control",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/cadence/language/access-control.md",tags:[],version:"current",lastUpdatedBy:"Alex",lastUpdatedAt:1695045362,formattedLastUpdatedAt:"Sep 18, 2023",sidebarPosition:13,frontMatter:{title:"Access control",sidebar_position:13},sidebar:"cadence",previous:{title:"Resources",permalink:"/docs/next/cadence/language/resources"},next:{title:"Capabilities",permalink:"/docs/next/cadence/language/capabilities"}},a={},p=[{value:"Entitlements",id:"entitlements",level:2},{value:"Entitlement mappings",id:"entitlement-mappings",level:3},{value:"The <code>Identity</code> entitlement mapping",id:"the-identity-entitlement-mapping",level:3},{value:"Mapping composition",id:"mapping-composition",level:3},{value:"Built-in mutability entitlements",id:"built-in-mutability-entitlements",level:3}],d={annotations:s.ds,Code:s.EK},u={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/docs/cadence/language/access-control.md"};function g(e){const t=Object.assign({p:"p",ol:"ol",li:"li",a:"a",code:"code",ul:"ul",strong:"strong",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",em:"em",h2:"h2",h3:"h3"},(0,r.ah)(),e.components);return d||E("CH",!1),d.Code||E("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Access control allows making certain parts of a program accessible/visible\nand making other parts inaccessible/invisible."}),"\n",(0,n.jsx)(t.p,{children:"In Cadence, access control consists of:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Access control on objects in account storage,\nusing ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/capabilities",children:"capability security"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"A user is not able to access an object\nunless they own the object or have a reference to that object.\nThis means that nothing is truly public by default."}),"\n",(0,n.jsx)(t.p,{children:"Other accounts can not read or write the objects in an account\nunless the owner of the account has granted them access\nby providing references to the objects."}),"\n",(0,n.jsxs)(t.p,{children:["This kind of access control is covered in the pages\non ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/capabilities",children:"capabilities"}),"\nand ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/accounts/capabilities",children:"capability management"}),"."]}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsxs)(t.li,{children:["Access control within contracts and objects,\nusing access modifiers (",(0,n.jsx)(t.code,{children:"access"})," keyword)."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This page covers the second part of access control,\nusing access modifiers."}),"\n",(0,n.jsxs)(t.p,{children:["All declarations, such as ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/functions",children:"function"}),", ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/composite-types",children:"composite types"}),", and fields,\nmust be prefixed with an access modifier, using the ",(0,n.jsx)(t.code,{children:"access"})," keyword."]}),"\n",(0,n.jsx)(t.p,{children:"The access modifier determines where the declaration is accessible/visible.\nFields can only be assigned to and mutated from within the same or inner scope."}),"\n",(0,n.jsxs)(t.p,{children:["For example, to make a function publicly accessible (",(0,n.jsx)(t.code,{children:"access(all)"})," is explained below):"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"access(all) fun test() {}",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"There are five levels of access control:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Public access"})," means the declaration is accessible/visible in all scopes.\nThis includes the current scope, inner scopes, and the outer scopes."]}),"\n",(0,n.jsxs)(t.p,{children:["A declaration is made publicly accessible using the ",(0,n.jsx)(t.code,{children:"access(all)"})," modifier."]}),"\n",(0,n.jsx)(t.p,{children:"For example, a public field in a type can be accessed\non an instance of the type in an outer scope."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Entitled access"})," means the declaration is only accessible/visible\nto the owner of the object, or to ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/references",children:"references"}),"\nthat are authorized to the required ",(0,n.jsx)(t.a,{href:"#entitlements",children:"entitlements"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["A declaration is made accessible through entitlements by using the ",(0,n.jsx)(t.code,{children:"access(E)"})," syntax,\nwhere ",(0,n.jsx)(t.code,{children:"E"})," is a set of one or more entitlements,\nor a single ",(0,n.jsx)(t.a,{href:"#entitlement-mappings",children:"entitlement mapping"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["A reference is considered authorized to an entitlement\nif that entitlement appears in the ",(0,n.jsx)(t.code,{children:"auth"})," portion of the reference type."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, an ",(0,n.jsx)(t.code,{children:"access(E, F)"})," field on a resource ",(0,n.jsx)(t.code,{children:"R"})," can only be accessed by an owned (",(0,n.jsx)(t.code,{children:"@R"}),"-typed) value,\nor a reference to ",(0,n.jsx)(t.code,{children:"R"})," that is authorized to the ",(0,n.jsx)(t.code,{children:"E"})," and ",(0,n.jsx)(t.code,{children:"F"})," entitlements (",(0,n.jsx)(t.code,{children:"auth(E, F) &R"}),")."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Account access"})," means the declaration is only accessible/visible\nin the scope of the entire account where it is defined.\nThis means that other contracts in the account are able to access it."]}),"\n",(0,n.jsxs)(t.p,{children:["A declaration is made accessible by code in the same account,\nfor example other contracts, by using the ",(0,n.jsx)(t.code,{children:"access(account)"})," keyword."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Contract access"})," means the declaration is only accessible/visible\nin the scope of the contract that defined it.\nThis means that other declarations that are defined in the same contract can access it,\nbut not other contracts in the same account."]}),"\n",(0,n.jsxs)(t.p,{children:["A declaration is made accessible by code in the same contract\nby using the ",(0,n.jsx)(t.code,{children:"access(contract)"})," keyword."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Private access"})," means the declaration is only accessible/visible\nin the current and inner scopes."]}),"\n",(0,n.jsxs)(t.p,{children:["A declaration is made accessible by code in the same containing type\nby using the ",(0,n.jsx)(t.code,{children:"access(self)"})," keyword."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, an ",(0,n.jsx)(t.code,{children:"access(self)"})," field can only be accessed\nby functions of the type is part of, not by code in an outer scope."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"To summarize the behavior for variable declarations, constant declarations, and fields:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{align:"left",children:"Declaration kind"}),(0,n.jsx)(t.th,{align:"left",children:"Access modifier"}),(0,n.jsx)(t.th,{align:"left",children:"Accessible in"}),(0,n.jsx)(t.th,{align:"left",children:"Assignable in"}),(0,n.jsx)(t.th,{align:"left",children:"Mutable in"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"let"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(self)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.em,{children:"None"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"let"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(contract)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current, inner, and containing contract"}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.em,{children:"None"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"let"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(account)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current, inner, and other contracts in same account"}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.em,{children:"None"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"let"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(all)"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.strong,{children:"All"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.em,{children:"None"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"let"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(E)"})}),(0,n.jsxs)(t.td,{align:"left",children:[(0,n.jsx)(t.strong,{children:"All"})," with required entitlements"]}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.em,{children:"None"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"var"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(self)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"var"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(contract)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current, inner, and containing contract"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"var"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(account)"})}),(0,n.jsx)(t.td,{align:"left",children:"Current, inner, and other contracts in same account"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"var"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(all)"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.strong,{children:"All"})}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"var"})}),(0,n.jsx)(t.td,{align:"left",children:(0,n.jsx)(t.code,{children:"access(E)"})}),(0,n.jsxs)(t.td,{align:"left",children:[(0,n.jsx)(t.strong,{children:"All"})," with required entitlements"]}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"}),(0,n.jsx)(t.td,{align:"left",children:"Current and inner"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Declarations of ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/composite-types",children:"composite types"})," must be public.\nHowever, even though the declarations/types are publicly visible,\nresources can only be created, and events can only be emitted\nfrom inside the contract they are declared in."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Declare a private constant, inaccessible/invisible in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" a = ",props:{style:{color:"#D8DEE9FF"}}},{content:"1",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Declare a public constant, accessible/visible in all scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" b = ",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Declare a public struct, accessible/visible in all scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"struct",props:{style:{color:"#81A1C1"}}},{content:" SomeStruct ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a private constant field which is only readable",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // in the current and inner scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" a: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a public constant field which is readable in all scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" b: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a private variable field which is only readable",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and writable in the current and inner scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"var",props:{style:{color:"#81A1C1"}}},{content:" c: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a public variable field which is not settable,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // so it is only writable in the current and inner scopes,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and readable in all scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"var",props:{style:{color:"#81A1C1"}}},{content:" d: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Arrays and dictionaries declared without (set) cannot be",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // mutated in external scopes",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" arr: [",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // The initializer is omitted for brevity.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a private function which is only callable",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // in the current and inner scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"privateTest",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Declare a public function which is callable in all scopes.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"publicTest",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // The initializer is omitted for brevity.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" some = ",props:{style:{color:"#D8DEE9FF"}}},{content:"SomeStruct",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot read private constant field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.a",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot set private constant field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.a ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"1",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Valid: can read public constant field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot set public constant field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.b ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"2",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot read private variable field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.c",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot set private variable field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.c ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"3",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Valid: can read public variable field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.d",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot set public variable field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.d ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"4",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot mutate a public field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.f.",props:{style:{color:"#D8DEE9FF"}}},{content:"append",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: cannot mutate a public field in outer scope.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.f[",props:{style:{color:"#D8DEE9FF"}}},{content:"3",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"1",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Valid: can call non-mutating methods on a public field in outer scope",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"some.f.",props:{style:{color:"#D8DEE9FF"}}},{content:"contains",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.h2,{id:"entitlements",children:"Entitlements"}),"\n",(0,n.jsxs)(t.p,{children:["Entitlements provide granular access control to each member of a composite.\nEntitlements are declared using the syntax ",(0,n.jsx)(t.code,{children:"entitlement E"}),",\nwhere ",(0,n.jsx)(t.code,{children:"E"})," is the name of the entitlement."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, the following code declares two entitlements called ",(0,n.jsx)(t.code,{children:"E"})," and ",(0,n.jsx)(t.code,{children:"F"}),":"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement E",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"entitlement F",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Entitlements can be imported from other contracts and used the same way as other types.\nWhen using entitlements defined in another contract, the same qualified name syntax is used as for other types:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"contract",props:{style:{color:"#81A1C1"}}},{content:" C ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    entitlement E",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Outside of ",(0,n.jsx)(t.code,{children:"C"}),", ",(0,n.jsx)(t.code,{children:"E"})," is used with ",(0,n.jsx)(t.code,{children:"C.E"})," syntax."]}),"\n",(0,n.jsxs)(t.p,{children:["Entitlements exist in the same namespace as types, so if a contract declares a resource called ",(0,n.jsx)(t.code,{children:"R"}),",\nit is impossible to declare an entitlement that is also called ",(0,n.jsx)(t.code,{children:"R"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Entitlements can be used in access modifiers composite members (fields and functions)\nto specify which references to those composites are allowed to access those members."}),"\n",(0,n.jsxs)(t.p,{children:["An access modifier can include more than one entitlement,\njoined with either an ",(0,n.jsx)(t.code,{children:"|"}),', to indicate disjunction ("or"),\nor a ',(0,n.jsx)(t.code,{children:","}),', to indicate conjunction ("and").\nThe two kinds of separators cannot be combined in the same set.']}),"\n",(0,n.jsx)(t.p,{children:"For example:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" SomeResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  // requires a reference to have an `E` entitlement to read this field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  access",props:{style:{color:"#88C0D0"}}},{content:"(E",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  let",props:{style:{color:"#81A1C1"}}},{content:" a: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  // requires a reference to have either an `E` OR an `F` entitlement to read this field.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  access",props:{style:{color:"#88C0D0"}}},{content:"(E | F",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  let",props:{style:{color:"#81A1C1"}}},{content:" b: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"   // requires a reference to have both an `E` AND an `F` entitlement to read this field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  access",props:{style:{color:"#88C0D0"}}},{content:"(E, F",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  let",props:{style:{color:"#81A1C1"}}},{content:" b: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  // intializers omitted for brevity",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  // ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Assuming the following constants exists,\nwhich have owned or ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/references",children:"reference"})," types:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" r: @",props:{style:{color:"#D8DEE9FF"}}},{content:"SomeResource",props:{style:{color:"#81A1C1"}}},{content:" = ",props:{style:{color:"#D8DEE9FF"}}},{content:"// ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" refE: ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"E",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"SomeResource",props:{style:{color:"#81A1C1"}}},{content:" = ",props:{style:{color:"#D8DEE9FF"}}},{content:"// ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" refF: ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"F",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"SomeResource",props:{style:{color:"#81A1C1"}}},{content:" = ",props:{style:{color:"#D8DEE9FF"}}},{content:"// ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" refEF: ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"E",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"F",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"SomeResource",props:{style:{color:"#81A1C1"}}},{content:" = ",props:{style:{color:"#D8DEE9FF"}}},{content:"// ...",props:{style:{color:"#616E88"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"The references can be used as follows:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'// valid, because `r` is owned and thus is "fully entitled"',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"r.a",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'// valid, because `r` is owned and thus is "fully entitled"',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"r.b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'// valid, because `r` is owned and thus is "fully entitled"',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"r.c",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refE` has an `E` entitlement as required",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refE.a",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refE` has one of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refE.b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// invalid, because `refE` only has one of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refE.c",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// invalid, because `refF` has an `E` entitlement, not an `F`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refF.a",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refF` has one of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refF.b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// invalid, because `refF` only has one of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refF.c",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refEF` has an `E` entitlement",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refEF.a",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refEF` has both of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refEF.b",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// valid, because `refEF` has both of the two required entitlements",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"refEF.c",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Note particularly in this example how the owned value ",(0,n.jsx)(t.code,{children:"r"})," can access all entitled members on ",(0,n.jsx)(t.code,{children:"SomeResource"}),".\nOwned values are not affected by entitled declarations."]}),"\n",(0,n.jsx)(t.h3,{id:"entitlement-mappings",children:"Entitlement mappings"}),"\n",(0,n.jsx)(t.p,{children:"Entitlement mappings are a way to statically declare how entitlements are propagated\nfrom parents to child objects in a nesting hierarchy."}),"\n",(0,n.jsx)(t.p,{children:"When objects have fields that are child objects,\nto grant access to the inner object based on the entitlements of the reference to the parent object."}),"\n",(0,n.jsx)(t.p,{children:"Consider the following example,\nwhich uses entitlements to control access to an inner resource:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement OuterEntitlement",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"entitlement InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" InnerResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"foo",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}},{content:" ... ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"bar",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}},{content:" ... ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" OuterResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" childResource: @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"childResource",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".childResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:" childResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // The parent resource has to provide two accessor functions",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // which return a reference to the inner resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // If the reference to the outer resource is unauthorized",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and does not have the OuterEntitlement entitlement,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // the outer resource allows getting an unauthorized reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // to the inner resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // If the reference to the outer resource is authorized",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and it has the OuterEntitlement entitlement,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // the outer resource allows getting an authorized reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // to the inner resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"getPubRef",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" &",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return",props:{style:{color:"#81A1C1"}}},{content:" &",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".childResource as &InnerResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(OuterEntitlement",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"getEntitledRef",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:": auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerEntitlement",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return",props:{style:{color:"#81A1C1"}}},{content:" &",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".childResource as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &InnerResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["With this pattern, it is possible to store a ",(0,n.jsx)(t.code,{children:"InnerResource"})," in an ",(0,n.jsx)(t.code,{children:"OuterResource"}),",\nand create different ways to access that nested resource depending on the entitlement one possesses."]}),"\n",(0,n.jsxs)(t.p,{children:["An unauthorized reference to ",(0,n.jsx)(t.code,{children:"OuterResource"})," can only be used to call the ",(0,n.jsx)(t.code,{children:"getPubRef"})," function,\nand thus can only obtain an unauthorized reference to ",(0,n.jsx)(t.code,{children:"InnerResource"}),".\nThat reference to the ",(0,n.jsx)(t.code,{children:"InnerResource"})," then only allows calling the function ",(0,n.jsx)(t.code,{children:"foo"}),", which is publicly accessible,\nbut not function ",(0,n.jsx)(t.code,{children:"bar"}),", as it needs the ",(0,n.jsx)(t.code,{children:"InnerEntitlement"})," entitlement, which is not granted."]}),"\n",(0,n.jsxs)(t.p,{children:["However a ",(0,n.jsx)(t.code,{children:"OuterEntitlement"}),"-authorized reference to the ",(0,n.jsx)(t.code,{children:"OuterResource"})," can be used to call the ",(0,n.jsx)(t.code,{children:"getEntitledRef"})," function,\nwhich returns a ",(0,n.jsx)(t.code,{children:"InnerEntitlement"}),"-authorized reference to ",(0,n.jsx)(t.code,{children:"InnerResource"}),",\nwhich in turn can be used to call function ",(0,n.jsx)(t.code,{children:"bar"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["This pattern is functional, but it is unfortunate that the accessor functions to ",(0,n.jsx)(t.code,{children:"InnerResource"}),' have to be "duplicated".']}),"\n",(0,n.jsx)(t.p,{children:"To avoid necessitating this duplication, entitlement mappings can be used."}),"\n",(0,n.jsx)(t.p,{children:"Entitlement mappings are declared using the syntax:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Where ",(0,n.jsx)(t.code,{children:"M"})," is the name of the mapping."]}),"\n",(0,n.jsxs)(t.p,{children:["The body of the mapping contains zero or more rules of the form ",(0,n.jsx)(t.code,{children:"A -> B"}),",\nwhere ",(0,n.jsx)(t.code,{children:"A"})," and ",(0,n.jsx)(t.code,{children:"B"})," are entitlements.\nEach rule defines that, given a reference with the entitlement on the left,\na reference with the entitlement on the right is returned."]}),"\n",(0,n.jsx)(t.p,{children:"An entitlement mapping thus defines a function from an input set of entitlements (called the domain)\nto an output set (called the range or the image)."}),"\n",(0,n.jsx)(t.p,{children:"Using entitlement mappings, the above example could be equivalently written as:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement OuterEntitlement",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"entitlement InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Specify a mapping for entitlements called `OuterToInnerMap`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// which maps the entitlement `OuterEntitlement` to the entitlement `InnerEntitlement`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"entitlement mapping OuterToInnerMap ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    OuterEntitlement ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" InnerResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"foo",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}},{content:" ... ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(InnerEntitlement",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    fun ",props:{style:{color:"#81A1C1"}}},{content:"bar",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}},{content:" ... ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" OuterResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // Use the entitlement mapping `OuterToInnerMap`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // This declares that when the field `childResource` is accessed",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // using a reference authorized with the entitlement `OuterEntitlement`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // then a reference with the entitlement `InnerEntitlement` is returned.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // This is equivalent to the two accessor functions",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // that were necessary in the previous example.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(OuterToInnerMap",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" childResource: @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"childResource",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".childResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:" childResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // No accessor functions are needed.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// given some value `r` of type `@OuterResource`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" pubRef = &r as &OuterResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" pubInnerRef = pubRef.childResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"// has type `&InnerResource`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" entitledRef = &r as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(OuterEntitlement",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &OuterResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" entitledInnerRef = entitledRef.childResource  ",props:{style:{color:"#D8DEE9FF"}}},{content:"// has type `auth(InnerEntitlement) &InnerResource`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // as `OuterEntitlement` is defined to map to `InnerEntitlement`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'// `r` is an owned value, and is thus considered "fully-entitled" to `OuterResource`,',props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// so this access yields a value authorized to the entire image of `OuterToInnerMap`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// in this case `InnerEntitlement`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" alsoEntitledInnerRef = r.childResource",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Entitlement mappings can be used either in accessor functions (as in the example above),\nor in fields whose types are either references, or containers (composite types, dictionaries, and arrays)."}),"\n",(0,n.jsx)(t.p,{children:"Entitlement mappings need not be 1:1.\nIt is valid to define a mapping where many inputs map to the same output,\nor where one input maps to many outputs."}),"\n",(0,n.jsx)(t.p,{children:'Entitlement mappings preserve the "kind" of the set they are mapping.\nThat is, mapping a conjunction ("and") set produces a conjunction set,\nand mapping a disjunction ("or") set produces a disjunction set.'}),"\n",(0,n.jsx)(t.p,{children:'Because entitlement separators cannot be combined in the same set,\nattempting to map disjunction ("or") sets through certain complex mappings can result in a type error.'}),"\n",(0,n.jsx)(t.p,{children:"For example, given the following entitlement mapping:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  A ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" B",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  A ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" C",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  D ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" E",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Attempting to map ",(0,n.jsx)(t.code,{children:"(A | D)"})," through ",(0,n.jsx)(t.code,{children:"M"})," will fail,\nsince ",(0,n.jsx)(t.code,{children:"A"})," should map to ",(0,n.jsx)(t.code,{children:"(B, C)"})," and ",(0,n.jsx)(t.code,{children:"D"})," should map to ",(0,n.jsx)(t.code,{children:"E"}),',\nbut these two outputs cannot be combined into a disjunction ("or") set.']}),"\n",(0,n.jsxs)(t.p,{children:["A good example for how entitlement mappings can be used is the ",(0,n.jsxs)(t.a,{href:"/docs/next/cadence/language/accounts/",children:[(0,n.jsx)(t.code,{children:"Account"})," type"]}),"."]}),"\n",(0,n.jsxs)(t.h3,{id:"the-identity-entitlement-mapping",children:["The ",(0,n.jsx)(t.code,{children:"Identity"})," entitlement mapping"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Identity"})," is a built-in entitlement mapping that maps every input to itself as the output.\nAny entitlement set passed through the ",(0,n.jsx)(t.code,{children:"Identity"})," map will come out unchanged in the output."]}),"\n",(0,n.jsx)(t.p,{children:"For instance:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement X",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" InnerResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // ...",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" OuterResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(Identity",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" childResource: @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(Identity",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    getChildResource",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(Identity",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &InnerResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return",props:{style:{color:"#81A1C1"}}},{content:" &",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".childResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"childResource",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"InnerResource",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".childResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:" childResource",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"example",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"outerRef",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"X",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &OuterResource) ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" innerRef = outerRef.childResource ",props:{style:{color:"#D8DEE9FF"}}},{content:"// `innerRef` has type `auth(X) &InnerResource`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // as `outerRef` was authorized with entitlement `X`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["One important point to note about the ",(0,n.jsx)(t.code,{children:"Identity"})," mapping, however,\nis that its full output range is unknown, and theoretically infinite.\nBecause of that,\naccessing an ",(0,n.jsx)(t.code,{children:"Identity"}),"-mapped field or function with an owned value will yield an empty output set."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, calling ",(0,n.jsx)(t.code,{children:"getChildResource()"})," on an owned ",(0,n.jsx)(t.code,{children:"OuterResource"})," value,\nwill produce an unauthorized ",(0,n.jsx)(t.code,{children:"&InnerResource"})," reference."]}),"\n",(0,n.jsx)(t.h3,{id:"mapping-composition",children:"Mapping composition"}),"\n",(0,n.jsx)(t.p,{children:"Entitlement mappings can be composed.\nIn the definition of an entitlement mapping,\nit is possible to include the definition of one or more other mappings,\nto copy over their mapping relations."}),"\n",(0,n.jsxs)(t.p,{children:["An entitlement mapping is included into another entitlement mapping using the ",(0,n.jsx)(t.code,{children:"include M"})," syntax,\nwhere ",(0,n.jsx)(t.code,{children:"M"})," is the name of the entitlement mapping to be included."]}),"\n",(0,n.jsxs)(t.p,{children:["In general, an ",(0,n.jsx)(t.code,{children:"include M"})," statement in the definition of an entitlement mapping ",(0,n.jsx)(t.code,{children:"N"}),"\nis equivalent to simply copy-pasting all the relations defined in ",(0,n.jsx)(t.code,{children:"M"})," into ",(0,n.jsx)(t.code,{children:"N"}),"'s definition."]}),"\n",(0,n.jsxs)(t.p,{children:["Support for ",(0,n.jsx)(t.code,{children:"include"})," is provided primarily to reduce code-reuse and promote composition."]}),"\n",(0,n.jsx)(t.p,{children:"For example:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  X ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" Y",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  Y ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" Z",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"entitlement mapping N ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  E ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" F",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"entitlement mapping P ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  include M",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  include N",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  F ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" G",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["The entitlement mapping ",(0,n.jsx)(t.code,{children:"P"})," includes all of the relations defined in ",(0,n.jsx)(t.code,{children:"M"})," and ",(0,n.jsx)(t.code,{children:"N"}),",\nalong with the additional relations defined in its own definition."]}),"\n",(0,n.jsxs)(t.p,{children:["It is also possible to include the ",(0,n.jsx)(t.code,{children:"Identity"})," mapping.\nAny mapping ",(0,n.jsx)(t.code,{children:"M"})," that includes the ",(0,n.jsx)(t.code,{children:"Identity"})," mapping will map its input set to itself,\nalong with any additional relations defined in the mapping,\nor in other included mappings."]}),"\n",(0,n.jsx)(t.p,{children:"For instance:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    include Identity",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    X ",props:{style:{color:"#D8DEE9FF"}}},{content:"->",props:{style:{color:"#81A1C1"}}},{content:" Y",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["The mapping ",(0,n.jsx)(t.code,{children:"M"})," maps the entitlement set ",(0,n.jsx)(t.code,{children:"(X)"})," to ",(0,n.jsx)(t.code,{children:"(X, Y)"}),",\nand ",(0,n.jsx)(t.code,{children:"(Y)"})," to ",(0,n.jsx)(t.code,{children:"(Y)"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Includes that produce a cyclical mapping are rejected by the type-checker."}),"\n",(0,n.jsx)(t.h3,{id:"built-in-mutability-entitlements",children:"Built-in mutability entitlements"}),"\n",(0,n.jsx)(t.p,{children:"A prominent use-case of entitlements is to control access to object based on mutability."}),"\n",(0,n.jsx)(t.p,{children:"For example, in a composite, the author would want to control the access to certain fields to be read-only,\nand some fields to be mutable, etc."}),"\n",(0,n.jsx)(t.p,{children:"In order to support this, the following built-in entitlements can be used:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"Insert"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"Remove"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"Mutate"})}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["These are primarily used by the built-in ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/values-and-types#arrays",children:"array"}),"\nand ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/values-and-types#dictionaries",children:"dictionary"})," functions,\nbut are available to be used in access modifiers of any declaration."]}),"\n",(0,n.jsxs)(t.p,{children:["While Cadence does not support entitlement composition or inheritance,\nthe ",(0,n.jsx)(t.code,{children:"Mutate"})," entitlement is intended to be used as an equivalent form\nto the conjunction of the ",(0,n.jsx)(t.code,{children:"(Insert, Remove)"})," entitlement set."]})]})}const h=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(g,e)})):g(e)};function E(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);