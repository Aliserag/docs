"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9913],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),i=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=i(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=i(n),m=a,f=u["".concat(c,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(f,l(l({ref:t},p),{},{components:n})):o.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,l[1]=s;for(var i=2;i<r;i++)l[i]=n[i];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},56249:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>i});var o=n(87462),a=(n(67294),n(3905));const r={title:"Testnet Deployment Guidelines",sidebar_title:"2. Testnet Deployment"},l=void 0,s={unversionedId:"flow/dapp-development/testnet-deployment",id:"flow/dapp-development/testnet-deployment",title:"Testnet Deployment Guidelines",description:"The Flow test network, known as Flow Testnet, exists to help developers test their software and smart contracts against a live network. It's also used as a means of releasing and testing new protocol and smart contract features before they are integrated into Flow's main network (Mainnet).",source:"@site/docs/flow/dapp-development/testnet-deployment.md",sourceDirName:"flow/dapp-development",slug:"/flow/dapp-development/testnet-deployment",permalink:"/flow/dapp-development/testnet-deployment",draft:!1,tags:[],version:"current",lastUpdatedBy:"Tom Haile",lastUpdatedAt:1682538265,formattedLastUpdatedAt:"Apr 26, 2023",frontMatter:{title:"Testnet Deployment Guidelines",sidebar_title:"2. Testnet Deployment"},sidebar:"tutorialSidebar",previous:{title:"Smart Contracts for Flow Dapps",permalink:"/flow/dapp-development/smart-contracts"},next:{title:"Testnet Testing Guidelines",permalink:"/flow/dapp-development/testnet-testing"}},c={},i=[{value:"Getting Started on Testnet",id:"getting-started-on-testnet",level:2},{value:"Creating an Account",id:"creating-an-account",level:3},{value:"Generate a Key",id:"generate-a-key",level:4},{value:"Create Your Account",id:"create-your-account",level:4},{value:"Need More FLOW?",id:"need-more-flow",level:4},{value:"Accessing Flow Testnet",id:"accessing-flow-testnet",level:3},{value:"Creating Additional Accounts",id:"creating-additional-accounts",level:3},{value:"Deploying a Contract",id:"deploying-a-contract",level:3},{value:"Making Use of Core Contracts",id:"making-use-of-core-contracts",level:3},{value:"Redeploying Your Application",id:"redeploying-your-application",level:3},{value:"Making Your NFT Discoverable",id:"making-your-nft-discoverable",level:3},{value:"Risks for Early Adopters",id:"risks-for-early-adopters",level:2},{value:"Breaking Changes",id:"breaking-changes",level:3},{value:"Testnet Sporking",id:"testnet-sporking",level:3},{value:"&quot;Real Value&quot; on Testnet",id:"real-value-on-testnet",level:3}],p={toc:i},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The Flow test network, known as Flow Testnet, exists to help developers test their software and smart contracts against a live network. It's also used as a means of releasing and testing new protocol and smart contract features before they are integrated into Flow's main network (Mainnet)."),(0,a.kt)("p",null,"When the Flow protocol is updated or a new version of Cadence is released, those updates will always be made available on the ",(0,a.kt)("a",{parentName:"p",href:"/emulator"},"Flow Emulator")," ",(0,a.kt)("em",{parentName:"p"},"before")," they're integrated into Flow Testnet or Flow Mainnet."),(0,a.kt)("h2",{id:"getting-started-on-testnet"},"Getting Started on Testnet"),(0,a.kt)("h3",{id:"creating-an-account"},"Creating an Account"),(0,a.kt)("p",null,"Anybody can use the ",(0,a.kt)("a",{parentName:"p",href:"https://testnet-faucet-v2.onflow.org/"},"Testnet Faucet")," to create and fund a Testnet account."),(0,a.kt)("h4",{id:"generate-a-key"},"Generate a Key"),(0,a.kt)("p",null,"To start, you'll need to generate an asymmetric cryptographic key pair (see ",(0,a.kt)("a",{parentName:"p",href:"/concepts/accounts-and-keys"},"Accounts & Keys")," for a list of supported algorithms)."),(0,a.kt)("p",null,"For Testnet, you can generate a new key pair with the ",(0,a.kt)("a",{parentName:"p",href:"/flow-cli"},"Flow CLI"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"> flow keys generate\n\n\ud83d\ude4f If you want to create an account on testnet with the generated keys use this link:\nhttps://testnet-faucet.onflow.org/?key=2a56a2....\n\n\n\ud83d\udd34\ufe0f Store private key safely and don't share with anyone!\nPrivate Key      55e92c7083...\nPublic Key       2a56a24a63...\n\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note"),": By default, this command generates an ECDSA key pair on the P-256 curve. Keep in mind, the CLI is intended for development purposes only and is not recommended for production use. Handling keys using a Key Management Service is the best practice.")),(0,a.kt)("h4",{id:"create-your-account"},"Create Your Account"),(0,a.kt)("p",null,"Once you've generated a key pair, you can either open the link from the CLI prompt or visit the ",(0,a.kt)("a",{parentName:"p",href:"https://testnet-faucet.onflow.org/"},"Faucet")," yourself. If you visit the faucet yourself, make sure you enter the ",(0,a.kt)("em",{parentName:"p"},"public key"),' into the "Create Account" form at the top of the page.'),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Important"),": Flow isn't responsible for securing and storing the private keys for testnet accounts. You must store your private key in a safe place so that you can later use it to sign transactions that you submit to Testnet.")),(0,a.kt)("h4",{id:"need-more-flow"},"Need More FLOW?"),(0,a.kt)("p",null,"Each account created through the Testnet Faucet comes with 1000 FLOW. However, you can always request a top up through the Faucet if needed."),(0,a.kt)("p",null,'Submit your testnet address through the "Funding an Account" form on the ',(0,a.kt)("a",{parentName:"p",href:"https://testnet-faucet.onflow.org/"},"Faucet")," page."),(0,a.kt)("h3",{id:"accessing-flow-testnet"},"Accessing Flow Testnet"),(0,a.kt)("p",null,"Use the following address to programmatically connect to Flow Testnet:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"access.devnet.nodes.onflow.org:9000\n")),(0,a.kt)("p",null,"Go SDK Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'import "github.com/onflow/flow-go-sdk/client"\n\nfunc main() {\n  flowAccessHost := "access.devnet.nodes.onflow.org:9000"\n  flowClient, _ := client.New(flowAccessHost, grpc.WithInsecure())\n\n  // ...\n}\n')),(0,a.kt)("h3",{id:"creating-additional-accounts"},"Creating Additional Accounts"),(0,a.kt)("p",null,"It may be necessary to create additional accounts for testing purposes and you can do so using ",(0,a.kt)("a",{parentName:"p",href:"/flow-cli/create-accounts/"},"Flow CLI account create command"),"."),(0,a.kt)("p",null,"First you need to initialize the configuration:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"> flow project init\n")),(0,a.kt)("p",null,"Add the account created with the use of faucet above to the ",(0,a.kt)("inlineCode",{parentName:"p"},"accounts")," property in configuration, like so:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js:title=flow.json"},'{\n...\n  "accounts": {\n    "my-testnet-account": {\n      "address": "ADDRESS_FROM_FAUCET",\n      "key": "PRIVATE_KEY_GENERATED_IN_PREVIOUS_STEP"\n    }\n  }\n...\n}\n')),(0,a.kt)("p",null,"After adding account to the configuration you can use that account to fund the creation of more accounts by using\n",(0,a.kt)("a",{parentName:"p",href:"/flow-cli/create-accounts"},"CLI account create")," command."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"> flow accounts create \\\n    --key a69c6986e846ba6d0....1397f5904cd319c3e01e96375d5777f1a47010 \\\n    --host access.devnet.nodes.onflow.org:9000 \\\n    --signer my-testnet-account\n\nAddress  0x01cf0e2f2f715450\nBalance  10000000\nKeys     1\n\nKey 0   Public Key       a69c6986e846ba6d0....1397f5904cd319c3e01e96375d5777f1a47010\n    Weight           1000\n    Signature Algorithm  ECDSA_P256\n    Hash Algorithm       SHA3_256\n\nContracts Deployed: 0\n")),(0,a.kt)("h3",{id:"deploying-a-contract"},"Deploying a Contract"),(0,a.kt)("p",null,"Using the account you created above, you can deploy additional contract accounts using the ",(0,a.kt)("a",{parentName:"p",href:"/flow-cli/deploy-project-contracts"},"Flow CLI deploy command"),"."),(0,a.kt)("p",null,"Make sure flow project was initialized in the previous step and the ",(0,a.kt)("inlineCode",{parentName:"p"},"flow.json")," is present."),(0,a.kt)("p",null,"You can then specify your contracts you wish to deploy in the configuration like so:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js:title=flow.json"},'{\n  ...\n  "contracts": {\n    "NonFungibleToken": "./cadence/contracts/NonFungibleToken.cdc",\n    "KittyItems": "./cadence/contracts/KittyItems.cdc"\n  },\n  "deployments": {\n    "testnet": {\n      "my-testnet-account": ["KittyItems", "NonFungibleToken"]\n    }\n  },\n  ...\n}\n')),(0,a.kt)("p",null,"Here's a sketch of the contract source files:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pub contract NonFungibleToken {\n  // ...\n}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import NonFungibleToken from "./NonFungibleToken.cdc"\n\npub contract KittyItems {\n  // ...\n}\n')),(0,a.kt)("p",null,"You can now deploy all the contracts by running deploy command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"flow project deploy\n")),(0,a.kt)("p",null,"Please read more about deployment in ",(0,a.kt)("a",{parentName:"p",href:"/flow-cli/deploy-project-contracts"},"the Flow CLI project deployment guide"),"."),(0,a.kt)("h3",{id:"making-use-of-core-contracts"},"Making Use of Core Contracts"),(0,a.kt)("p",null,"Flow Testnet comes with some useful contracts already deployed, called ",(0,a.kt)("strong",{parentName:"p"},"core contracts.")," There are ",(0,a.kt)("a",{parentName:"p",href:"https://docs.onflow.org/core-contracts/"},"reference pages with import addresses for the core contracts"),"."),(0,a.kt)("p",null,"Once your accounts are set up and you're ready to develop, you can look over ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples"},"some code examples from the Flow Go SDK"),"."),(0,a.kt)("h3",{id:"redeploying-your-application"},"Redeploying Your Application"),(0,a.kt)("p",null,"If you discover your application is broken after an update, use the latest emulator to test changes to your application. Once you are satisfied that you've patched any breaking changes, you'll need to ",(0,a.kt)("a",{parentName:"p",href:"/dapp-development/testnet-deployment/#deploying-a-contract"},"redeploy your contracts to Testnet"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note"),": Make sure to follow the steps listed in the ",(0,a.kt)("a",{parentName:"p",href:"/dapp-development/testnet-testing"},"Testnet Testing Guidelines"))),(0,a.kt)("h3",{id:"making-your-nft-discoverable"},"Making Your NFT Discoverable"),(0,a.kt)("p",null,"Wallets like Blocto may use the ",(0,a.kt)("a",{parentName:"p",href:"https://alchemyapi.io/"},"Alchemy API")," to discover and display NFT collections on the Flow blockchain. In order to get your NFT listed on Alchemy, you should follow the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/alchemyplatform/alchemy-flow-contracts#adding-a-new-contract"},"steps listed in the Alchemy repository"),"."),(0,a.kt)("h2",{id:"risks-for-early-adopters"},"Risks for Early Adopters"),(0,a.kt)("h3",{id:"breaking-changes"},"Breaking Changes"),(0,a.kt)("p",null,"The Flow blockchain is improved continuously and thus version updates to Cadence, Flow node software, and the Flow SDKs will contain important updates as well as breaking changes."),(0,a.kt)("p",null,"You should anticipate future updates and join the community (",(0,a.kt)("a",{parentName:"p",href:"https://forum.onflow.org/"},"Forum")," or ",(0,a.kt)("a",{parentName:"p",href:"https://www.onflow.org/discord"},"Discord"),") to stay tuned on important announcements. Notices and guidelines for changes will be provided as early as possible."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note"),": In some instances, you might need to ",(0,a.kt)("a",{parentName:"p",href:"#redeploying-your-application"},"redeploy Your Application"),".")),(0,a.kt)("h3",{id:"testnet-sporking"},"Testnet Sporking"),(0,a.kt)("p",null,'"Sporking" (soft forking) is the process of upgrading the Flow network node software and migrating the chain state from one version to another.'),(0,a.kt)("p",null,"Currently, ",(0,a.kt)("strong",{parentName:"p"},"historical event data is not migrated between sporks.")," You'll need to design your application with this in mind. We recognize the usefulness of historical event data and plan on adding a means of accessing it in the near future."),(0,a.kt)("h3",{id:"real-value-on-testnet"},'"Real Value" on Testnet'),(0,a.kt)("p",null,'Flow Testnet is explicitly for experimentation and testing and should not be used to exchange "real value" (e.g. developing a fiat money on/off-ramp for your testnet application). Accounts using the testnet to exchange real value will be subject to removal.'))}d.isMDXComponent=!0}}]);