"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4661],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),c=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,g=u["".concat(i,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(g,l(l({ref:t},p),{},{components:n})):a.createElement(g,l({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[u]="string"==typeof e?e:r,l[1]=s;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},70319:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const o={},l=void 0,s={unversionedId:"Tooling/flow-go-sdk/index",id:"Tooling/flow-go-sdk/index",title:"index",description:"View on GitHub \xbb",source:"@site/docs/Tooling/flow-go-sdk/index.mdx",sourceDirName:"Tooling/flow-go-sdk",slug:"/Tooling/flow-go-sdk/",permalink:"/docs/Tooling/flow-go-sdk/",draft:!1,tags:[],version:"current",lastUpdatedBy:"Alex",lastUpdatedAt:1683063625,formattedLastUpdatedAt:"May 2, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Start Development Tools with the Flow CLI",permalink:"/docs/Tooling/flow-cli/tools"},next:{title:"error-codes",permalink:"/docs/Tooling/flow-go-sdk/error-codes"}},i={},c=[{value:"Overview",id:"overview",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Installing",id:"installing",level:3},{value:"Importing the Library",id:"importing-the-library",level:3},{value:"Connect",id:"connect",level:2},{value:"Querying the Flow Network",id:"querying-the-flow-network",level:2},{value:"Get Blocks",id:"get-blocks",level:3},{value:"Examples",id:"examples",level:4},{value:"Get Account",id:"get-account",level:3},{value:"Examples",id:"examples-1",level:4},{value:"Get Transactions",id:"get-transactions",level:3},{value:"Get Events",id:"get-events",level:3},{value:"Examples",id:"examples-2",level:4},{value:"Get Collections",id:"get-collections",level:3},{value:"Execute Scripts",id:"execute-scripts",level:3},{value:"Mutate Flow Network",id:"mutate-flow-network",level:2},{value:"Transactions",id:"transactions",level:2},{value:"Build Transactions",id:"build-transactions",level:3},{value:"Sign Transactions",id:"sign-transactions",level:3},{value:"Single party, single signature",id:"single-party-single-signature",level:3},{value:"Single party, multiple signatures",id:"single-party-multiple-signatures",level:3},{value:"Multiple parties",id:"multiple-parties",level:3},{value:"Multiple parties, two authorizers",id:"multiple-parties-two-authorizers",level:3},{value:"Multiple parties, multiple signatures",id:"multiple-parties-multiple-signatures",level:3},{value:"Send Transactions",id:"send-transactions",level:3},{value:"Create Accounts",id:"create-accounts",level:3},{value:"Public Key",id:"public-key",level:4},{value:"Generate Keys",id:"generate-keys",level:3},{value:"Transfering Flow",id:"transfering-flow",level:3},{value:"Cadence Script",id:"cadence-script",level:2},{value:"Build the Transaction",id:"build-the-transaction",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{align:"center"},(0,r.kt)("a",{href:"https://docs.onflow.org/sdks/"},(0,r.kt)("img",{src:"./sdk-banner.svg",alt:"Logo",width:"300",height:"auto"})),(0,r.kt)("p",{align:"center"}," ",(0,r.kt)("br",null),(0,r.kt)("a",{href:"https://github.com/onflow/flow-go-sdk"},(0,r.kt)("strong",null,"View on GitHub \xbb"))," ",(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("a",{href:"https://docs.onflow.org/sdk-guidelines/"},"SDK Specifications")," \xb7",(0,r.kt)("a",{href:"https://github.com/onflow/flow-go-sdk/blob/master/CONTRIBUTING.md"},"Contribute")," \xb7",(0,r.kt)("a",{href:"https://github.com/onflow/flow-go-sdk/issues"},"Report a Bug"))),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"This reference documents all the methods available in the SDK, and explains in detail how these methods work.\nSDKs are open source, and you can use them according to the licence."),(0,r.kt)("p",null,"The library client specifications can be found here:"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("h3",{id:"installing"},"Installing"),(0,r.kt)("p",null,"The recommended way to install Go Flow SDK is by using Go modules."),(0,r.kt)("p",null,"If you already initialized your Go project, you can run the following command in your terminal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"go get github.com/onflow/flow-go-sdk\n")),(0,r.kt)("p",null,"It's usually good practice to pin your dependencies to a specific version.\nRefer to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/onflow/flow-go-sdk/tags"},"SDK releases")," page to identify the latest version."),(0,r.kt)("h3",{id:"importing-the-library"},"Importing the Library"),(0,r.kt)("p",null,"After the library has been installed you can import it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'import "github.com/onflow/flow-go-sdk"\n')),(0,r.kt)("h2",{id:"connect"},"Connect"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#New"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"The Go SDK library uses HTTP or gRPC APIs to communicate with the access nodes and it must be configured with correct access node API URL.\nThe library provides default factories for connecting to Flow AN APIs and you can easily switch between HTTP or gRPC if you use the provided client interface."),(0,r.kt)("p",null,"You can check more examples for creating clients in the examples:\n",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/http_grpc_clients/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("p",null,"Basic Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"// common client interface\nvar flowClient client.Client\n\n// initialize an http emulator client\nflowClient, err := http.NewClient(http.EmulatorHost)\n\n// initialize a gPRC emulator client\nflowClient, err = grpc.NewClient(grpc.EmulatorHost)\n")),(0,r.kt)("p",null,"You can also initialize an HTTP client or gRPC client directly which will offer you access to network specific options,\nbut be aware you won't be able to easily switch between those since they don't implement a common interface. This is only\nadvisable if the implementation needs the access to those advanced options.\nAdvanced Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"// initialize http specific client\nhttpClient, err := http.NewHTTPClient(http.EMULATOR_URL)\n\n// initialize grpc specific client\ngrpcClient, err := grpc.NewGRPCClient(\n    grpc.EMULATOR_URL,\n    grpcOpts.WithTransportCredentials(insecure.NewCredentials()),\n)\n")),(0,r.kt)("h2",{id:"querying-the-flow-network"},"Querying the Flow Network"),(0,r.kt)("p",null,"After you have established a connection with an access node, you can query the\nFlow network to retrieve data about blocks, accounts, events and transactions. We will explore\nhow to retrieve each of these entities in the sections below."),(0,r.kt)("h3",{id:"get-blocks"},"Get Blocks"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.GetBlockByHeight"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Query the network for block by id, height or get the latest block."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Block ID")," is SHA3-256 hash of the entire block payload. This hash is stored as an ID field on any block response object (ie. response from ",(0,r.kt)("inlineCode",{parentName:"p"},"GetLatestBlock"),")."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Block height")," expresses the height of the block on the chain. The latest block height increases by one for every valid block produced."),(0,r.kt)("h4",{id:"examples"},"Examples"),(0,r.kt)("p",null,"This example depicts ways to get the latest block as well as any other block by height or ID:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/get_blocks/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo() {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    // get the latest sealed block\n    isSealed := true\n    latestBlock, err := flowClient.GetLatestBlock(ctx, isSealed)\n    printBlock(latestBlock, err)\n\n    // get the block by ID\n    blockID := latestBlock.ID.String()\n    blockByID, err := flowClient.GetBlockByID(ctx, flow.HexToID(blockID))\n    printBlock(blockByID, err)\n\n    // get block by height\n    blockByHeight, err := flowClient.GetBlockByHeight(ctx, 0)\n    printBlock(blockByHeight, err)\n}\n\nfunc printBlock(block *flow.Block, err error) {\n    examples.Handle(err)\n\n    fmt.Printf("\\nID: %s\\n", block.ID)\n    fmt.Printf("height: %d\\n", block.Height)\n    fmt.Printf("timestamp: %s\\n\\n", block.Timestamp)\n}\n')),(0,r.kt)("p",null,"Result output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ID: 835dc83939141097aa4297aa6cf69fc600863e3b5f9241a0d7feac1868adfa4f\nheight: 10\ntimestamp: 2021-10-06 15:06:07.105382 +0000 UTC\n\n\nID: 835dc83939141097aa4297aa6cf69fc600863e3b5f9241a0d7feac1868adfa4f\nheight: 10\ntimestamp: 2021-10-06 15:06:07.105382 +0000 UTC\n\n\nID: 7bc42fe85d32ca513769a74f97f7e1a7bad6c9407f0d934c2aa645ef9cf613c7\nheight: 0\ntimestamp: 2018-12-19 22:32:30.000000042 +0000 UTC\n")),(0,r.kt)("h3",{id:"get-account"},"Get Account"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.GetAccount"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Retrieve any account from Flow network's latest block or from a specified block height.\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"GetAccount")," method is actually an alias for the get account at latest block method."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Account address")," is a unique account identifier. Be mindful about the ",(0,r.kt)("inlineCode",{parentName:"p"},"0x")," prefix, you should use the prefix as a default representation but be careful and safely handle user inputs without the prefix."),(0,r.kt)("p",null,"An account includes the following data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Address: the account address."),(0,r.kt)("li",{parentName:"ul"},"Balance: balance of the account."),(0,r.kt)("li",{parentName:"ul"},"Contracts: list of contracts deployed to the account."),(0,r.kt)("li",{parentName:"ul"},"Keys: list of keys associated with the account.")),(0,r.kt)("h4",{id:"examples-1"},"Examples"),(0,r.kt)("p",null,"Example depicts ways to get an account at the latest block and at a specific block height:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/get_accounts/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo() {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    // get account from the latest block\n    address := flow.HexToAddress("f8d6e0586b0a20c7")\n    account, err := flowClient.GetAccount(ctx, address)\n    printAccount(account, err)\n\n    // get account from the block by height 0\n    account, err = flowClient.GetAccountAtBlockHeight(ctx, address, 0)\n    printAccount(account, err)\n}\n\nfunc printAccount(account *flow.Account, err error) {\n    examples.Handle(err)\n\n    fmt.Printf("\\nAddress: %s", account.Address.String())\n    fmt.Printf("\\nBalance: %d", account.Balance)\n    fmt.Printf("\\nContracts: %d", len(account.Contracts))\n    fmt.Printf("\\nKeys: %d\\n", len(account.Keys))\n}\n')),(0,r.kt)("p",null,"Result output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Address: f8d6e0586b0a20c7\nBalance: 999999999999600000\nContracts: 2\nKeys: 1\n\nAddress: f8d6e0586b0a20c7\nBalance: 999999999999600000\nContracts: 2\nKeys: 1\n")),(0,r.kt)("h3",{id:"get-transactions"},"Get Transactions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.GetTransaction"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Retrieve transactions from the network by providing a transaction ID. After a transaction has been submitted, you can also get the transaction result to check the status."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Transaction ID")," is a hash of the encoded transaction payload and can be calculated before submitting the transaction to the network."),(0,r.kt)("p",null,"\u26a0\ufe0f The transaction ID provided must be from the current spork."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Transaction status")," represents the state of transaction in the blockchain. Status can change until it is sealed."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Status"),(0,r.kt)("th",{parentName:"tr",align:null},"Final"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"UNKNOWN"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction has not yet been seen by the network")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PENDING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction has not yet been included in a block")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"FINALIZED"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction has been included in a block")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EXECUTED"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction has been executed but the result has not yet been sealed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SEALED"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction has been executed and the result is sealed in a block")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EXPIRED"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"The transaction reference block is outdated before being executed")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/get_transactions/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo(txID flow.Identifier) {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    tx, err := flowClient.GetTransaction(ctx, txID)\n    printTransaction(tx, err)\n\n    txr, err := flowClient.GetTransactionResult(ctx, txID)\n    printTransactionResult(txr, err)\n}\n\nfunc printTransaction(tx *flow.Transaction, err error) {\n    examples.Handle(err)\n\n    fmt.Printf("\\nID: %s", tx.ID().String())\n    fmt.Printf("\\nPayer: %s", tx.Payer.String())\n    fmt.Printf("\\nProposer: %s", tx.ProposalKey.Address.String())\n    fmt.Printf("\\nAuthorizers: %s", tx.Authorizers)\n}\n\nfunc printTransactionResult(txr *flow.TransactionResult, err error) {\n    examples.Handle(err)\n\n    fmt.Printf("\\nStatus: %s", txr.Status.String())\n    fmt.Printf("\\nError: %v", txr.Error)\n}\n')),(0,r.kt)("p",null,"Example output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ID: fb1272c57cdad79acf2fcf37576d82bf760e3008de66aa32a900c8cd16174e1c\nPayer: f8d6e0586b0a20c7\nProposer: f8d6e0586b0a20c7\nAuthorizers: []\nStatus: SEALED\nError: <nil>\n")),(0,r.kt)("h3",{id:"get-events"},"Get Events"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.GetEventsForBlockIDs"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Retrieve events by a given type in a specified block height range or through a list of block IDs."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Event type")," is a string that follow a standard format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"A.{contract address}.{contract name}.{event name}\n")),(0,r.kt)("p",null,"Please read more about ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/core-contracts/flow-token/"},"events in the documentation"),". The exception to this standard are\ncore events, and you should read more about them in ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/cadence/language/core-events/"},"this document"),"."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Block height range")," expresses the height of the start and end block in the chain."),(0,r.kt)("h4",{id:"examples-2"},"Examples"),(0,r.kt)("p",null,"Example depicts ways to get events within block range or by block IDs:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/get_events/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo(deployedContract *flow.Account, runScriptTx *flow.Transaction) {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    // Query for account creation events by type\n    result, err := flowClient.GetEventsForHeightRange(ctx, "flow.AccountCreated", 0, 30)\n    printEvents(result, err)\n\n    // Query for our custom event by type\n    customType := fmt.Sprintf("AC.%s.EventDemo.EventDemo.Add", deployedContract.Address.Hex())\n    result, err = flowClient.GetEventsForHeightRange(ctx, customType, 0, 10)\n    printEvents(result, err)\n\n    // Get events directly from transaction result\n    txResult, err := flowClient.GetTransactionResult(ctx, runScriptTx.ID())\n    examples.Handle(err)\n    printEvent(txResult.Events)\n}\n\nfunc printEvents(result []client.BlockEvents, err error) {\n    examples.Handle(err)\n\n    for _, block := range result {\n        printEvent(block.Events)\n    }\n}\n\nfunc printEvent(events []flow.Event) {\n    for _, event := range events {\n        fmt.Printf("\\n\\nType: %s", event.Type)\n        fmt.Printf("\\nValues: %v", event.Value)\n        fmt.Printf("\\nTransaction ID: %s", event.TransactionID)\n    }\n}\n')),(0,r.kt)("p",null,"Example output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Type: flow.AccountCreated\nValues: flow.AccountCreated(address: 0xfd43f9148d4b725d)\nTransaction ID: ba9d53c8dcb0f9c2f854f93da8467a22d053eab0c540bde0b9ca2f7ad95eb78e\n\nType: flow.AccountCreated\nValues: flow.AccountCreated(address: 0xeb179c27144f783c)\nTransaction ID: 8ab7bfef3de1cf8b2ffb36559446100bf4129a9aa88d6bc59f72a467acf0c801\n\n...\n\nType: A.eb179c27144f783c.EventDemo.Add\nValues: A.eb179c27144f783c.EventDemo.Add(x: 2, y: 3, sum: 5)\nTransaction ID: f3a2e33687ad23b0e02644ebbdcd74a7cd8ea7214065410a8007811d0bcbd353\n")),(0,r.kt)("h3",{id:"get-collections"},"Get Collections"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.GetCollection"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Retrieve a batch of transactions that have been included in the same block, known as ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"collections")),".\nCollections are used to improve consensus throughput by increasing the number of transactions per block and they act as a link between a block and a transaction."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Collection ID")," is SHA3-256 hash of the collection payload."),(0,r.kt)("p",null,"Example retrieving a collection:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo(exampleCollectionID flow.Identifier) {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    // get collection by ID\n    collection, err := flowClient.GetCollection(ctx, exampleCollectionID)\n    printCollection(collection, err)\n}\n\nfunc printCollection(collection *flow.Collection, err error) {\n    examples.Handle(err)\n\n    fmt.Printf("\\nID: %s", collection.ID().String())\n    fmt.Printf("\\nTransactions: %s", collection.TransactionIDs)\n}\n')),(0,r.kt)("p",null,"Example output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ID: 3d7b8037381f2497d83f2f9e09422c036aae2a59d01a7693fb6003b4d0bc3595\nTransactions: [cf1184e3de4bd9a7232ca3d0b9dd2cfbf96c97888298b81a05c086451fa52ec1]\n")),(0,r.kt)("h3",{id:"execute-scripts"},"Execute Scripts"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.ExecuteScriptAtLatestBlock"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Scripts allow you to write arbitrary non-mutating Cadence code on the Flow blockchain and return data. You can learn more about ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/cadence/language/"},"Cadence and scripts here"),", but we are now only interested in executing the script code and getting back the data."),(0,r.kt)("p",null,"We can execute a script using the latest state of the Flow blockchain or we can choose to execute the script at a specific time in history defined by a block height or block ID."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Block ID")," is SHA3-256 hash of the entire block payload, but you can get that value from the block response properties."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Block height")," expresses the height of the block in the chain."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/execute_script/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo() {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    script := []byte(`\n        pub fun main(a: Int): Int {\n            return a + 10\n        }\n    `)\n    args := []cadence.Value{ cadence.NewInt(5) }\n    value, err := flowClient.ExecuteScriptAtLatestBlock(ctx, script, args)\n\n    examples.Handle(err)\n    fmt.Printf("\\nValue: %s", value.String())\n\n    complexScript := []byte(`\n        pub struct User {\n            pub var balance: UFix64\n            pub var address: Address\n            pub var name: String\n\n            init(name: String, address: Address, balance: UFix64) {\n                self.name = name\n                self.address = address\n                self.balance = balance\n            }\n        }\n\n        pub fun main(name: String): User {\n            return User(\n                name: name,\n                address: 0x1,\n                balance: 10.0\n            )\n        }\n    `)\n    args = []cadence.Value{ cadence.NewString("Dete") }\n    value, err = flowClient.ExecuteScriptAtLatestBlock(ctx, complexScript, args)\n    printComplexScript(value, err)\n}\n\ntype User struct {\n    balance uint64\n    address flow.Address\n    name string\n}\n\nfunc printComplexScript(value cadence.Value, err error) {\n    examples.Handle(err)\n    fmt.Printf("\\nString value: %s", value.String())\n\n    s := value.(cadence.Struct)\n    u := User{\n        balance: s.Fields[0].ToGoValue().(uint64),\n        address: s.Fields[1].ToGoValue().([flow.AddressLength]byte),\n        name:    s.Fields[2].ToGoValue().(string),\n    }\n\n    fmt.Printf("\\nName: %s", u.name)\n    fmt.Printf("\\nAddress: %s", u.address.String())\n    fmt.Printf("\\nBalance: %d", u.balance)\n}\n')),(0,r.kt)("p",null,"Example output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'Value: 15\nString value: s.34a17571e1505cf6770e6ef16ca387e345e9d54d71909f23a7ec0d671cd2faf5.User(balance: 10.00000000, address: 0x1, name: "Dete")\nName: Dete\nAddress: 0000000000000001\nBalance: 1000000000\n')),(0,r.kt)("h2",{id:"mutate-flow-network"},"Mutate Flow Network"),(0,r.kt)("p",null,"Flow, like most blockchains, allows anybody to submit a transaction that mutates the shared global chain state. A transaction is an object that holds a payload, which describes the state mutation, and one or more authorizations that permit the transaction to mutate the state owned by specific accounts."),(0,r.kt)("p",null,"Transaction data is composed and signed with help of the SDK. The signed payload of transaction then gets submitted to the access node API. If a transaction is invalid or the correct number of authorizing signatures are not provided, it gets rejected."),(0,r.kt)("p",null,"Executing a transaction requires couple of steps:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#build-the-transaction"},"Building transaction"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#sign-transactions"},"Signing transaction"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#send-transactions"},"Sending transaction"),".")),(0,r.kt)("h2",{id:"transactions"},"Transactions"),(0,r.kt)("p",null,"A transaction is nothing more than a signed set of data that includes script code which are instructions on how to mutate the network state and properties that define and limit it's execution. All these properties are explained bellow."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Script")," field is the portion of the transaction that describes the state mutation logic. On Flow, transaction logic is written in ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/cadence/"},"Cadence"),". Here is an example transaction script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'transaction(greeting: String) {\n  execute {\n    log(greeting.concat(", World!"))\n  }\n}\n')),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Arguments"),". A transaction can accept zero or more arguments that are passed into the Cadence script. The arguments on the transaction must match the number and order declared in the Cadence script. Sample script from above accepts a single ",(0,r.kt)("inlineCode",{parentName:"p"},"String")," argument."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://docs.onflow.org/concepts/transaction-signing/#proposal-key"},"Proposal key"))," must be provided to act as a sequence number and prevent reply and other potential attacks."),(0,r.kt)("p",null,"Each account key maintains a separate transaction sequence counter; the key that lends its sequence number to a transaction is called the proposal key."),(0,r.kt)("p",null,"A proposal key contains three fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Account address"),(0,r.kt)("li",{parentName:"ul"},"Key index"),(0,r.kt)("li",{parentName:"ul"},"Sequence number")),(0,r.kt)("p",null,"A transaction is only valid if its declared sequence number matches the current on-chain sequence number for that key. The sequence number increments by one after the transaction is executed."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://docs.onflow.org/concepts/transaction-signing/#signer-roles"},"Payer"))," is the account that pays the fees for the transaction. A transaction must specify exactly one payer. The payer is only responsible for paying the network and gas fees; the transaction is not authorized to access resources or code stored in the payer account."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://docs.onflow.org/concepts/transaction-signing/#signer-roles"},"Authorizers"))," are accounts that authorize a transaction to read and mutate their resources. A transaction can specify zero or more authorizers, depending on how many accounts the transaction needs to access."),(0,r.kt)("p",null,"The number of authorizers on the transaction must match the number of AuthAccount parameters declared in the prepare statement of the Cadence script."),(0,r.kt)("p",null,"Example transaction with multiple authorizers:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"transaction {\n  prepare(authorizer1: AuthAccount, authorizer2: AuthAccount) { }\n}\n")),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Gas limit")," is the limit on the amount of computation a transaction requires, and it will abort if it exceeds its gas limit.\nCadence uses metering to measure the number of operations per transaction. You can read more about it in the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/cadence/"},"Cadence documentation"),"."),(0,r.kt)("p",null,"The gas limit depends on the complexity of the transaction script. Until dedicated gas estimation tooling exists, it's best to use the emulator to test complex transactions and determine a safe limit."),(0,r.kt)("p",null,"\ud83d\udcd6 ",(0,r.kt)("strong",{parentName:"p"},"Reference block")," specifies an expiration window (measured in blocks) during which a transaction is considered valid by the network.\nA transaction will be rejected if it is submitted past its expiry block. Flow calculates transaction expiry using the ",(0,r.kt)("em",{parentName:"p"},"reference block")," field on a transaction.\nA transaction expires after ",(0,r.kt)("inlineCode",{parentName:"p"},"600")," blocks are committed on top of the reference block, which takes about 10 minutes at average Mainnet block rates."),(0,r.kt)("h3",{id:"build-transactions"},"Build Transactions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk#Transaction"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Building a transaction involves setting the required properties explained above and producing a transaction object."),(0,r.kt)("p",null,"Here we define a simple transaction script that will be used to execute on the network and serve as a good learning example."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'transaction(greeting: String) {\n\n  let guest: Address\n\n  prepare(authorizer: AuthAccount) {\n    self.guest = authorizer.address\n  }\n\n  execute {\n    log(greeting.concat(",").concat(self.guest.toString()))\n  }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/transaction_signing/single_party/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'import (\n  "context"\n  "os"\n  "github.com/onflow/flow-go-sdk"\n  "github.com/onflow/flow-go-sdk/client"\n)\n\nfunc main() {\n\n  greeting, err := os.ReadFile("Greeting2.cdc")\n  if err != nil {\n    panic("failed to load Cadence script")\n  }\n\n  proposerAddress := flow.HexToAddress("9a0766d93b6608b7")\n  proposerKeyIndex := 3\n\n  payerAddress := flow.HexToAddress("631e88ae7f1d7c20")\n  authorizerAddress := flow.HexToAddress("7aad92e5a0715d21")\n\n  var accessAPIHost string\n\n  // Establish a connection with an access node\n  flowClient := examples.NewFlowClient()\n\n  // Get the latest sealed block to use as a reference block\n  latestBlock, err := flowClient.GetLatestBlockHeader(context.Background(), true)\n  if err != nil {\n    panic("failed to fetch latest block")\n  }\n\n  // Get the latest account info for this address\n  proposerAccount, err := flowClient.GetAccountAtLatestBlock(context.Background(), proposerAddress)\n  if err != nil {\n    panic("failed to fetch proposer account")\n  }\n\n  // Get the latest sequence number for this key\n  sequenceNumber := proposerAccount.Keys[proposerKeyIndex].SequenceNumber\n\n  tx := flow.NewTransaction().\n    SetScript(greeting).\n    SetGasLimit(100).\n    SetReferenceBlockID(latestBlock.ID).\n    SetProposalKey(proposerAddress, proposerKeyIndex, sequenceNumber).\n    SetPayer(payerAddress).\n    AddAuthorizer(authorizerAddress)\n\n  // Add arguments last\n\n  hello := cadence.NewString("Hello")\n\n  err = tx.AddArgument(hello)\n  if err != nil {\n    panic("invalid argument")\n  }\n}\n')),(0,r.kt)("p",null,"After you have successfully ",(0,r.kt)("a",{parentName:"p",href:"#build-the-transaction"},"built a transaction")," the next step in the process is to sign it."),(0,r.kt)("h3",{id:"sign-transactions"},"Sign Transactions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk#Transaction.SignEnvelope"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Flow introduces new concepts that allow for more flexibility when creating and signing transactions.\nBefore trying the examples below, we recommend that you read through the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/"},"transaction signature documentation"),"."),(0,r.kt)("p",null,"After you have successfully ",(0,r.kt)("a",{parentName:"p",href:"#build-the-transaction"},"built a transaction")," the next step in the process is to sign it. Flow transactions have envelope and payload signatures, and you should learn about each in the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/#anatomy-of-a-transaction"},"signature documentation"),"."),(0,r.kt)("p",null,"Quick example of building a transaction:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    "github.com/onflow/flow-go-sdk"\n    "github.com/onflow/flow-go-sdk/crypto"\n)\n\nvar (\n    myAddress    flow.Address\n    myAccountKey flow.AccountKey\n    myPrivateKey crypto.PrivateKey\n)\n\ntx := flow.NewTransaction().\n    SetScript([]byte("transaction { execute { log(\\"Hello, World!\\") } }")).\n    SetGasLimit(100).\n    SetProposalKey(myAddress, myAccountKey.Index, myAccountKey.SequenceNumber).\n    SetPayer(myAddress)\n')),(0,r.kt)("p",null,"Transaction signing is done through the ",(0,r.kt)("inlineCode",{parentName:"p"},"crypto.Signer")," interface. The simplest (and least secure) implementation of ",(0,r.kt)("inlineCode",{parentName:"p"},"crypto.Signer")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"crypto.InMemorySigner"),"."),(0,r.kt)("p",null,"Signatures can be generated more securely using keys stored in a hardware device such as an ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Hardware_security_module"},"HSM"),". The ",(0,r.kt)("inlineCode",{parentName:"p"},"crypto.Signer")," interface is intended to be flexible enough to support a variety of signer implementations and is not limited to in-memory implementations."),(0,r.kt)("p",null,"Simple signature example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'// construct a signer from your private key and configured hash algorithm\nmySigner, err := crypto.NewInMemorySigner(myPrivateKey, myAccountKey.HashAlgo)\nif err != nil {\n    panic("failed to create a signer")\n}\n\nerr = tx.SignEnvelope(myAddress, myAccountKey.Index, mySigner)\nif err != nil {\n    panic("failed to sign transaction")\n}\n')),(0,r.kt)("p",null,"Flow supports great flexibility when it comes to transaction signing, we can define multiple authorizers (multi-sig transactions) and have different payer account than proposer. We will explore advanced signing scenarios bellow."),(0,r.kt)("h3",{id:"single-party-single-signature"},(0,r.kt)("a",{parentName:"h3",href:"https://docs.onflow.org/concepts/transaction-signing/#single-party-single-signature"},"Single party, single signature")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Proposer, payer and authorizer are the same account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x01"),")."),(0,r.kt)("li",{parentName:"ul"},"Only the envelope must be signed."),(0,r.kt)("li",{parentName:"ul"},"Proposal key must have full signing weight.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Account"),(0,r.kt)("th",{parentName:"tr",align:null},"Key ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Weight"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1000")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples#single-party-single-signature"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'account1, _ := c.GetAccount(ctx, flow.HexToAddress("01"))\n\nkey1 := account1.Keys[0]\n\n// create signer from securely-stored private key\nkey1Signer := getSignerForKey1()\n\nreferenceBlock, _ := flow.GetLatestBlock(ctx, true)\ntx := flow.NewTransaction().\n    SetScript([]byte(`\n        transaction {\n            prepare(signer: AuthAccount) { log(signer.address) }\n        }\n    `)).\n    SetGasLimit(100).\n    SetProposalKey(account1.Address, key1.Index, key1.SequenceNumber).\n    SetReferenceBlockID(referenceBlock.ID).\n    SetPayer(account1.Address).\n    AddAuthorizer(account1.Address)\n\n// account 1 signs the envelope with key 1\nerr := tx.SignEnvelope(account1.Address, key1.Index, key1Signer)\n')),(0,r.kt)("h3",{id:"single-party-multiple-signatures"},(0,r.kt)("a",{parentName:"h3",href:"https://docs.onflow.org/concepts/transaction-signing/#single-party-multiple-signatures"},"Single party, multiple signatures")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Proposer, payer and authorizer are the same account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x01"),")."),(0,r.kt)("li",{parentName:"ul"},"Only the envelope must be signed."),(0,r.kt)("li",{parentName:"ul"},"Each key has weight 500, so two signatures are required.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Account"),(0,r.kt)("th",{parentName:"tr",align:null},"Key ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Weight"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"500")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"500")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples#single-party-multiple-signatures"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'account1, _ := c.GetAccount(ctx, flow.HexToAddress("01"))\n\nkey1 := account1.Keys[0]\nkey2 := account1.Keys[1]\n\n// create signers from securely-stored private keys\nkey1Signer := getSignerForKey1()\nkey2Signer := getSignerForKey2()\n\nreferenceBlock, _ := flow.GetLatestBlock(ctx, true)\ntx := flow.NewTransaction().\n    SetScript([]byte(`\n        transaction {\n            prepare(signer: AuthAccount) { log(signer.address) }\n        }\n    `)).\n    SetGasLimit(100).\n    SetProposalKey(account1.Address, key1.Index, key1.SequenceNumber).\n    SetReferenceBlockID(referenceBlock.ID).\n    SetPayer(account1.Address).\n    AddAuthorizer(account1.Address)\n\n// account 1 signs the envelope with key 1\nerr := tx.SignEnvelope(account1.Address, key1.Index, key1Signer)\n\n// account 1 signs the envelope with key 2\nerr = tx.SignEnvelope(account1.Address, key2.Index, key2Signer)\n')),(0,r.kt)("h3",{id:"multiple-parties"},(0,r.kt)("a",{parentName:"h3",href:"https://docs.onflow.org/concepts/transaction-signing/#multiple-parties"},"Multiple parties")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Proposer and authorizer are the same account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x01"),")."),(0,r.kt)("li",{parentName:"ul"},"Payer is a separate account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x02"),")."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x01")," signs the payload."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," signs the envelope.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," must sign last since it is the payer.")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Account"),(0,r.kt)("th",{parentName:"tr",align:null},"Key ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Weight"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x02")),(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"1000")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples#multiple-parties"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'account1, _ := c.GetAccount(ctx, flow.HexToAddress("01"))\naccount2, _ := c.GetAccount(ctx, flow.HexToAddress("02"))\n\nkey1 := account1.Keys[0]\nkey3 := account2.Keys[0]\n\n// create signers from securely-stored private keys\nkey1Signer := getSignerForKey1()\nkey3Signer := getSignerForKey3()\n\nreferenceBlock, _ := flow.GetLatestBlock(ctx, true)\ntx := flow.NewTransaction().\n    SetScript([]byte(`\n        transaction {\n            prepare(signer: AuthAccount) { log(signer.address) }\n        }\n    `)).\n    SetGasLimit(100).\n    SetProposalKey(account1.Address, key1.Index, key1.SequenceNumber).\n    SetReferenceBlockID(referenceBlock.ID).\n    SetPayer(account2.Address).\n    AddAuthorizer(account1.Address)\n\n// account 1 signs the payload with key 1\nerr := tx.SignPayload(account1.Address, key1.Index, key1Signer)\n\n// account 2 signs the envelope with key 3\n// note: payer always signs last\nerr = tx.SignEnvelope(account2.Address, key3.Index, key3Signer)\n')),(0,r.kt)("h3",{id:"multiple-parties-two-authorizers"},(0,r.kt)("a",{parentName:"h3",href:"https://docs.onflow.org/concepts/transaction-signing/#multiple-parties"},"Multiple parties, two authorizers")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Proposer and authorizer are the same account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x01"),")."),(0,r.kt)("li",{parentName:"ul"},"Payer is a separate account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x02"),")."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x01")," signs the payload."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," signs the envelope.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," must sign last since it is the payer."))),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," is also an authorizer to show how to include two AuthAccounts into an transaction")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Account"),(0,r.kt)("th",{parentName:"tr",align:null},"Key ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Weight"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"1000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x02")),(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"1000")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples#multiple-parties-two-authorizers"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'account1, _ := c.GetAccount(ctx, flow.HexToAddress("01"))\naccount2, _ := c.GetAccount(ctx, flow.HexToAddress("02"))\n\nkey1 := account1.Keys[0]\nkey3 := account2.Keys[0]\n\n// create signers from securely-stored private keys\nkey1Signer := getSignerForKey1()\nkey3Signer := getSignerForKey3()\n\nreferenceBlock, _ := flow.GetLatestBlock(ctx, true)\ntx := flow.NewTransaction().\n    SetScript([]byte(`\n        transaction {\n            prepare(signer1: AuthAccount, signer2: AuthAccount) {\n              log(signer.address)\n              log(signer2.address)\n          }\n        }\n    `)).\n    SetGasLimit(100).\n    SetProposalKey(account1.Address, key1.Index, key1.SequenceNumber).\n    SetReferenceBlockID(referenceBlock.ID).\n    SetPayer(account2.Address).\n    AddAuthorizer(account1.Address).\n    AddAuthorizer(account2.Address)\n\n// account 1 signs the payload with key 1\nerr := tx.SignPayload(account1.Address, key1.Index, key1Signer)\n\n// account 2 signs the envelope with key 3\n// note: payer always signs last\nerr = tx.SignEnvelope(account2.Address, key3.Index, key3Signer)\n')),(0,r.kt)("h3",{id:"multiple-parties-multiple-signatures"},(0,r.kt)("a",{parentName:"h3",href:"https://docs.onflow.org/concepts/transaction-signing/#multiple-parties"},"Multiple parties, multiple signatures")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Proposer and authorizer are the same account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x01"),")."),(0,r.kt)("li",{parentName:"ul"},"Payer is a separate account (",(0,r.kt)("inlineCode",{parentName:"li"},"0x02"),")."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x01")," signs the payload."),(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," signs the envelope.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Account ",(0,r.kt)("inlineCode",{parentName:"li"},"0x02")," must sign last since it is the payer."))),(0,r.kt)("li",{parentName:"ul"},"Both accounts must sign twice (once with each of their keys).")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Account"),(0,r.kt)("th",{parentName:"tr",align:null},"Key ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Weight"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"500")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x01")),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"500")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x02")),(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"500")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0x02")),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"500")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/tree/master/examples#multiple-parties-multiple-signatures"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'account1, _ := c.GetAccount(ctx, flow.HexToAddress("01"))\naccount2, _ := c.GetAccount(ctx, flow.HexToAddress("02"))\n\nkey1 := account1.Keys[0]\nkey2 := account1.Keys[1]\nkey3 := account2.Keys[0]\nkey4 := account2.Keys[1]\n\n// create signers from securely-stored private keys\nkey1Signer := getSignerForKey1()\nkey2Signer := getSignerForKey1()\nkey3Signer := getSignerForKey3()\nkey4Signer := getSignerForKey4()\n\nreferenceBlock, _ := flow.GetLatestBlock(ctx, true)\ntx := flow.NewTransaction().\n    SetScript([]byte(`\n        transaction {\n            prepare(signer: AuthAccount) { log(signer.address) }\n        }\n    `)).\n    SetGasLimit(100).\n    SetProposalKey(account1.Address, key1.Index, key1.SequenceNumber).\n    SetReferenceBlockID(referenceBlock.ID).\n    SetPayer(account2.Address).\n    AddAuthorizer(account1.Address)\n\n// account 1 signs the payload with key 1\nerr := tx.SignPayload(account1.Address, key1.Index, key1Signer)\n\n// account 1 signs the payload with key 2\nerr = tx.SignPayload(account1.Address, key2.Index, key2Signer)\n\n// account 2 signs the envelope with key 3\n// note: payer always signs last\nerr = tx.SignEnvelope(account2.Address, key3.Index, key3Signer)\n\n// account 2 signs the envelope with key 4\n// note: payer always signs last\nerr = tx.SignEnvelope(account2.Address, key4.Index, key4Signer)\n')),(0,r.kt)("h3",{id:"send-transactions"},"Send Transactions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/client#Client.SendTransaction"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"After a transaction has been ",(0,r.kt)("a",{parentName:"p",href:"#build-the-transaction"},"built")," and ",(0,r.kt)("a",{parentName:"p",href:"#sign-transactions"},"signed"),", it can be sent to the Flow blockchain where it will be executed. If sending was successful you can then ",(0,r.kt)("a",{parentName:"p",href:"#get-transactions"},"retrieve the transaction result"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/onflow/flow-go-sdk/blob/master/examples/send_transactions/main.go"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/try.svg",width:"130"})))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'func demo(tx *flow.Transaction) {\n    ctx := context.Background()\n    flowClient := examples.NewFlowClient()\n\n    err := flowClient.SendTransaction(ctx, *tx)\n    if err != nil {\n        fmt.Println("error sending transaction", err)\n    }\n}\n')),(0,r.kt)("h3",{id:"create-accounts"},"Create Accounts"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/onflow/flow-go-sdk/templates#CreateAccount"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"On Flow, account creation happens inside a transaction. Because the network allows for a many-to-many relationship between public keys and accounts, it's not possible to derive a new account address from a public key offline."),(0,r.kt)("p",null,"The Flow VM uses a deterministic address generation algorithm to assign account addresses on chain. You can find more details about address generation in the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/"},"accounts & keys documentation"),"."),(0,r.kt)("h4",{id:"public-key"},"Public Key"),(0,r.kt)("p",null,"Flow uses ECDSA key pairs to control access to user accounts. Each key pair can be used in combination with the SHA2-256 or SHA3-256 hashing algorithms."),(0,r.kt)("p",null,"\u26a0\ufe0f You'll need to authorize at least one public key to control your new account."),(0,r.kt)("p",null,"Flow represents ECDSA public keys in raw form without additional metadata. Each key is a single byte slice containing a concatenation of its X and Y components in big-endian byte form."),(0,r.kt)("p",null,"A Flow account can contain zero (not possible to control) or more public keys, referred to as account keys. Read more about ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/#accounts"},"accounts in the documentation"),"."),(0,r.kt)("p",null,"An account key contains the following data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Raw public key (described above)"),(0,r.kt)("li",{parentName:"ul"},"Signature algorithm"),(0,r.kt)("li",{parentName:"ul"},"Hash algorithm"),(0,r.kt)("li",{parentName:"ul"},"Weight (integer between 0-1000)")),(0,r.kt)("p",null,"Account creation happens inside a transaction, which means that somebody must pay to submit that transaction to the network. We'll call this person the account creator. Make sure you have read ",(0,r.kt)("a",{parentName:"p",href:"#send-transactions"},"sending a transaction section")," first."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'var (\n  creatorAddress    flow.Address\n  creatorAccountKey *flow.AccountKey\n  creatorSigner     crypto.Signer\n)\n\nvar accessAPIHost string\n\n// Establish a connection with an access node\nflowClient := examples.NewFlowClient()\n\n// Use the templates package to create a new account creation transaction\ntx := templates.CreateAccount([]*flow.AccountKey{accountKey}, nil, creatorAddress)\n\n// Set the transaction payer and proposal key\ntx.SetPayer(creatorAddress)\ntx.SetProposalKey(\n    creatorAddress,\n    creatorAccountKey.Index,\n    creatorAccountKey.SequenceNumber,\n)\n\n// Get the latest sealed block to use as a reference block\nlatestBlock, err := flowClient.GetLatestBlockHeader(context.Background(), true)\nif err != nil {\n    panic("failed to fetch latest block")\n}\n\ntx.SetReferenceBlockID(latestBlock.ID)\n\n// Sign and submit the transaction\nerr = tx.SignEnvelope(creatorAddress, creatorAccountKey.Index, creatorSigner)\nif err != nil {\n    panic("failed to sign transaction envelope")\n}\n\nerr = flowClient.SendTransaction(context.Background(), *tx)\nif err != nil {\n    panic("failed to send transaction to network")\n}\n')),(0,r.kt)("p",null,"After the account creation transaction has been submitted you can retrieve the new account address by ",(0,r.kt)("a",{parentName:"p",href:"#get-transactions"},"getting the transaction result"),"."),(0,r.kt)("p",null,"The new account address will be emitted in a system-level ",(0,r.kt)("inlineCode",{parentName:"p"},"flow.AccountCreated")," event."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'result, err := flowClient.GetTransactionResult(ctx, tx.ID())\nif err != nil {\n    panic("failed to get transaction result")\n}\n\nvar newAddress flow.Address\n\nif result.Status != flow.TransactionStatusSealed {\n    panic("address not known until transaction is sealed")\n}\n\nfor _, event := range result.Events {\n    if event.Type == flow.EventAccountCreated {\n        newAddress = flow.AccountCreatedEvent(event).Address()\n        break\n    }\n}\n')),(0,r.kt)("h3",{id:"generate-keys"},"Generate Keys"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/#supported-signature--hash-algorithms"},(0,r.kt)("img",{src:"https://raw.githubusercontent.com/onflow/sdks/main/templates/documentation/ref.svg",width:"130"}))),(0,r.kt)("p",null,"Flow uses ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm"},"ECDSA")," signatures to control access to user accounts. Each key pair can be used in combination with the ",(0,r.kt)("inlineCode",{parentName:"p"},"SHA2-256")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"SHA3-256")," hashing algorithms."),(0,r.kt)("p",null,"Here's how to generate an ECDSA private key for the P-256 (secp256r1) curve."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'import "github.com/onflow/flow-go-sdk/crypto"\n\n// deterministic seed phrase\n// note: this is only an example, please use a secure random generator for the key seed\nseed := []byte("elephant ears space cowboy octopus rodeo potato cannon pineapple")\n\nprivateKey, err := crypto.GeneratePrivateKey(crypto.ECDSA_P256, seed)\n\n// the private key can then be encoded as bytes (i.e. for storage)\nencPrivateKey := privateKey.Encode()\n// the private key has an accompanying public key\npublicKey := privateKey.PublicKey()\n')),(0,r.kt)("p",null,"The example above uses an ECDSA key pair on the P-256 (secp256r1) elliptic curve. Flow also supports the secp256k1 curve used by Bitcoin and Ethereum. Read more about ",(0,r.kt)("a",{parentName:"p",href:"https://docs.onflow.org/concepts/accounts-and-keys/#supported-signature--hash-algorithms"},"supported algorithms here"),"."),(0,r.kt)("h3",{id:"transfering-flow"},"Transfering Flow"),(0,r.kt)("p",null,"This is an example of how to construct a FLOW token transfer transaction\nwith the Flow Go SDK."),(0,r.kt)("h2",{id:"cadence-script"},"Cadence Script"),(0,r.kt)("p",null,"The following Cadence script will transfer FLOW tokens from a sender\nto a recipient."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note: this transaction is only compatible with Flow Mainnet.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cadence"},'import FungibleToken from 0xf233dcee88fe0abe\nimport FlowToken from 0x1654653399040a61\n\ntransaction(amount: UFix64, recipient: Address) {\n  let sentVault: @FungibleToken.Vault\n  prepare(signer: AuthAccount) {\n    let vaultRef = signer.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)\n      ?? panic("failed to borrow reference to sender vault")\n\n    self.sentVault <- vaultRef.withdraw(amount: amount)\n  }\n\n  execute {\n    let receiverRef =  getAccount(recipient)\n      .getCapability(/public/flowTokenReceiver)\n      .borrow<&{FungibleToken.Receiver}>()\n        ?? panic("failed to borrow reference to recipient vault")\n\n    receiverRef.deposit(from: <-self.sentVault)\n  }\n}\n')),(0,r.kt)("h2",{id:"build-the-transaction"},"Build the Transaction"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    "github.com/onflow/cadence"\n    "github.com/onflow/flow-go-sdk"\n)\n\n// Replace with script above\nconst transferScript string = TOKEN_TRANSFER_CADENCE_SCRIPT\n\nvar (\n    senderAddress    flow.Address\n    senderAccountKey flow.AccountKey\n    senderPrivateKey crypto.PrivateKey\n)\n\nfunc main() {\n    tx := flow.NewTransaction().\n        SetScript([]byte(transferScript)).\n        SetGasLimit(100).\n        SetPayer(senderAddress).\n        SetAuthorizer(senderAddress).\n        SetProposalKey(senderAddress, senderAccountKey.Index, senderAccountKey.SequenceNumber)\n\n    amount, err := cadence.NewUFix64("123.4")\n    if err != nil {\n        panic(err)\n    }\n\n    recipient := cadence.NewAddress(flow.HexToAddress("0xabc..."))\n\n    err = tx.AddArgument(amount)\n    if err != nil {\n        panic(err)\n    }\n\n    err = tx.AddArgument(recipient)\n    if err != nil {\n        panic(err)\n    }\n}\n')))}d.isMDXComponent=!0}}]);