"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[85532],{50637:(e,t,o)=>{o.r(t),o.d(t,{CH:()=>d,assets:()=>l,chCodeConfig:()=>u,contentTitle:()=>a,default:()=>f,frontMatter:()=>c,metadata:()=>i,toc:()=>p});o(67294);var n=o(85893),r=o(11151),s=o(59794);const c={title:"References",sidebar_position:18},a=void 0,i={unversionedId:"cadence/language/references",id:"cadence/language/references",title:"References",description:"It is possible to create references to objects, i.e. resources or structures.",source:"@site/docs/cadence/language/references.mdx",sourceDirName:"cadence/language",slug:"/cadence/language/references",permalink:"/docs/next/cadence/language/references",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/cadence/language/references.mdx",tags:[],version:"current",lastUpdatedBy:"Jordan Ribbink",lastUpdatedAt:1695073958,formattedLastUpdatedAt:"Sep 18, 2023",sidebarPosition:18,frontMatter:{title:"References",sidebar_position:18},sidebar:"cadence",previous:{title:"Intersection Types",permalink:"/docs/next/cadence/language/intersection-types"},next:{title:"Imports",permalink:"/docs/next/cadence/language/imports"}},l={},p=[{value:"Authorized References",id:"authorized-references",level:2},{value:"References and Entitlement Mappings",id:"references-and-entitlement-mappings",level:3},{value:"Field and Index Access",id:"field-and-index-access",level:2},{value:"Index Assignment",id:"index-assignment",level:3},{value:"Reference Validity",id:"reference-validity",level:2}],d={annotations:s.ds,Code:s.EK},u={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/docs/cadence/language/references.mdx"};function g(e){const t=Object.assign({p:"p",strong:"strong",code:"code",a:"a",h2:"h2",h3:"h3",ul:"ul",li:"li"},(0,r.ah)(),e.components),{Callout:o}=t;return d||y("CH",!1),d.Code||y("CH.Code",!0),o||y("Callout",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"It is possible to create references to objects, i.e. resources or structures.\nA reference can be used to access fields and call functions on the referenced object."}),"\n",(0,n.jsxs)(t.p,{children:["References are ",(0,n.jsx)(t.strong,{children:"copied"}),", i.e. they are value types."]}),"\n",(0,n.jsxs)(t.p,{children:["References have the type ",(0,n.jsx)(t.code,{children:"&T"}),", where ",(0,n.jsx)(t.code,{children:"T"})," is the type of the referenced object."]}),"\n",(0,n.jsxs)(t.p,{children:["References are created using the ",(0,n.jsx)(t.code,{children:"&"})," operator.\nThe reference type must be explicitly provided,\nfor example through a type annotation on a variable declaration,\nor a type assertion using the ",(0,n.jsx)(t.code,{children:"as"})," operator."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" hello = ",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Hello",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Create a reference to the `String` `hello`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// Provide the reference type `&String` using a type assertion",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" helloRef = &hello as &String",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"helloRef.length ",props:{style:{color:"#D8DEE9FF"}}},{content:"// is `5`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Create another reference to the `String` `hello`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// Provide the reference type `&String` using a type annotation instead",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" alsoHelloRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:" = &hello",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: Cannot create a reference without an explicit type",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" unknownRef = &hello",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"The reference type must be a supertype of the referenced object's type."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Invalid: Cannot create a reference to `hello`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// typed as `&Int`, as it has type `String`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" intRef = &hello as &Int",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"When creating a reference to an optional value, the result is an optional reference.\nIf the referenced value is nil, the resulting reference itself will be nil.\nIf the referenced value exists, then forcing the optional reference will yield a reference to that value:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" nilValue: ",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:"? = ",props:{style:{color:"#D8DEE9FF"}}},{content:"nil",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" nilRef = &nilValue as &String",props:{style:{color:"#D8DEE9FF"}}},{content:"? ",props:{style:{color:"#81A1C1"}}},{content:"// r has type &String?",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" n = nilRef",props:{style:{color:"#D8DEE9FF"}}},{content:"! ",props:{style:{color:"#81A1C1"}}},{content:"// error, forced nil value",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" strValue: ",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:"? = ",props:{style:{color:"#D8DEE9FF"}}},{content:'""',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" strRef = &strValue as &String",props:{style:{color:"#D8DEE9FF"}}},{content:"? ",props:{style:{color:"#81A1C1"}}},{content:"// r has type &String?",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" n = strRef",props:{style:{color:"#D8DEE9FF"}}},{content:"! ",props:{style:{color:"#81A1C1"}}},{content:"// n has type &String",props:{style:{color:"#616E88"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["References are covariant in their base types.\nFor example, ",(0,n.jsx)(t.code,{children:"&T"})," is a subtype of ",(0,n.jsx)(t.code,{children:"&U"}),", if ",(0,n.jsx)(t.code,{children:"T"})," is a subtype of ",(0,n.jsx)(t.code,{children:"U"}),"."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Declare a resource interface named `HasCount`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that has a field `count`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"resource interface",props:{style:{color:"#81A1C1"}}},{content:" HasCount ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    count: Int",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Declare a resource named `Counter` that conforms to `HasCount`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" Counter",props:{style:{color:"#D8DEE9FF"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"HasCount ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"var",props:{style:{color:"#81A1C1"}}},{content:" count: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"count",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".count ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" count",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"increment",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".count ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".count ",props:{style:{color:"#D8DEE9FF"}}},{content:"+ ",props:{style:{color:"#81A1C1"}}},{content:"1",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Create a new instance of the resource type `Counter`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// and create a reference to it, typed as `&Counter`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// so the reference allows access to all fields and functions",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// of the counter",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" counter <- ",props:{style:{color:"#D8DEE9FF"}}},{content:"create ",props:{style:{color:"#81A1C1"}}},{content:"Counter",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"count",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"42",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" counterRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"Counter",props:{style:{color:"#81A1C1"}}},{content:" = &counter as &Counter",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"counterRef.count  ",props:{style:{color:"#D8DEE9FF"}}},{content:"// is `42`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"counterRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"increment",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"counterRef.count  ",props:{style:{color:"#D8DEE9FF"}}},{content:"// is `43`",props:{style:{color:"#616E88"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["References can be freely upcasted and downcasted, and are covariant in their referenced type.\nSo, for example, for some struct ",(0,n.jsx)(t.code,{children:"S"}),", ",(0,n.jsx)(t.code,{children:"&S"})," is a subtype of ",(0,n.jsx)(t.code,{children:"&AnyStruct"}),", but not of ",(0,n.jsx)(t.code,{children:"&Int"}),"."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Create an reference to the counter,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// typed with the intersection type `&{HasCount}`,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// i.e. some resource that conforms to the `HasCount` interface",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" countRef = &counter as &",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"HasCount",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"countRef.count  ",props:{style:{color:"#D8DEE9FF"}}},{content:"// is `43`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Invalid: The function `increment` is not available",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// for the type `&{HasCount}`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"countRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"increment",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// We can conditionally downcast `countRef` to a `Counter` if it has",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that type at runtime.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" counterRef2: &",props:{style:{color:"#D8DEE9FF"}}},{content:"Counter",props:{style:{color:"#81A1C1"}}},{content:" = countRef as",props:{style:{color:"#D8DEE9FF"}}},{content:"?",props:{style:{color:"#81A1C1"}}},{content:" &Counter",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"counterRef2.",props:{style:{color:"#D8DEE9FF"}}},{content:"increment",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["References are ephemeral, i.e. they cannot be ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/accounts/storage",children:"stored"}),".\nInstead, consider ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/capabilities",children:"storing a capability and borrowing it"})," when needed."]}),"\n",(0,n.jsx)(t.h2,{id:"authorized-references",children:"Authorized References"}),"\n",(0,n.jsxs)(t.p,{children:["By default, references are ",(0,n.jsx)(t.strong,{children:"unauthorized"}),".\nHowever, they may also be ",(0,n.jsx)(t.strong,{children:"authorized"})," to a set of ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/access-control#entitlements",children:"entitlements"})]}),"\n",(0,n.jsxs)(t.p,{children:["Authorized references have the ",(0,n.jsx)(t.code,{children:"auth"})," modifier,\nalong with the set of entitlements to which they are authorized. The full syntax is:\n",(0,n.jsx)(t.code,{children:"auth(E, F, G) &T"})," for a reference authorized to ",(0,n.jsx)(t.code,{children:"E"}),", ",(0,n.jsx)(t.code,{children:"F"})," and ",(0,n.jsx)(t.code,{children:"G"}),",\nor ",(0,n.jsx)(t.code,{children:"auth(E | F | G) &T"})," for a refernece authorized to ",(0,n.jsx)(t.code,{children:"E"}),", ",(0,n.jsx)(t.code,{children:"F"}),", ",(0,n.jsx)(t.strong,{children:"or"})," ",(0,n.jsx)(t.code,{children:"G"}),".\nAuthorized references are subtypes of unauthorized references."]}),"\n",(0,n.jsx)(t.p,{children:"Entitlements can only be given to references when they are created,\nand references to a value can only be created by the owner of the value.\nWhen creating a reference, that reference can be given any set of entitlements the value owner wishes to add."}),"\n",(0,n.jsxs)(t.p,{children:["Possessing an entitlement allows a reference to have access to functions and fields on its referenced type\nthat require that entitlement. E.g, if we extended the ",(0,n.jsx)(t.code,{children:"HasCount"})," interface with a function:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement Reset",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"resource interface",props:{style:{color:"#81A1C1"}}},{content:" HasCount ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    count: Int",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(Reset",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"resetCount",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Then an unauthorized reference of type ",(0,n.jsx)(t.code,{children:"&{HasCount}"})," would be unable to call ",(0,n.jsx)(t.code,{children:"resetCount"}),".\nHowever, we can create a reference that can, like so:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let authCountRef: auth(Reset) &{HasCount} = &counter",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Valid, because `authCountRef` is authorized to `Reset`",props:{}}]},{tokens:[{content:"authCountRef.resetCount()",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:'It is important to note that while references are covariant (and downcastable) with respect to their reference type,\nthe authorization portion of the reference can never be downcast.\nIn fact, the only way to "add" entitlements to a reference is to do so at the time of its creation, like in the example above.\nA reference will never have any more entitlements than the set with which it was created,\nand the set of entitlements on a reference at runtime will always match the set expressed in its static type.\nOne implication of this is that upcasting an authorized reference actually changes its runtime type:'}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let authCountRef: auth(Reset) &{HasCount} = &counter",props:{}}]},{tokens:[{content:"let unauthCountRef = authCountRef as &{HasCount}",props:{}}]},{tokens:[{content:"let authCountRef2 = unauthCountRef as? auth(Reset) &{HasCount}",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Invalid: `authCountRef2` is `nil`, as the upcast of `authCountRef` cleared the",props:{}}]},{tokens:[{content:"// `Reset` entitlement from the reference, meaning that it cannot be regained on downcasting.",props:{}}]},{tokens:[{content:"authCountRef2.resetCount()",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:'The benefit of this is that there is never any "surprising" behavior with regards to entitlements,\nevery reference value is transparent about what it is capable of at runtime.'}),"\n",(0,n.jsxs)(t.p,{children:["While entitlement sets on references cannot be downcast, they can be upcast, or used in places expecting supertypes,\nand have special subtyping rules based on whether they are ",(0,n.jsx)(t.code,{children:"|"})," or ",(0,n.jsx)(t.code,{children:","}),"-separated sets."]}),"\n",(0,n.jsxs)(t.p,{children:["In general, an entitlement set ",(0,n.jsx)(t.code,{children:"{Us}"})," is a subtype of an entitlement set ",(0,n.jsx)(t.code,{children:"{Vs}"})," when ",(0,n.jsx)(t.code,{children:"{Us}"})," has more entitlements\nin it than ",(0,n.jsx)(t.code,{children:"{Vs}"}),", and when both are ",(0,n.jsx)(t.code,{children:","}),"-separated (as they will be in most cases), this is the rule exactly:\n",(0,n.jsx)(t.code,{children:"{Us}"})," is a subset of ",(0,n.jsx)(t.code,{children:"{Vs}"})," when it is a superset of ",(0,n.jsx)(t.code,{children:"{Vs}"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Conversely, if both are ",(0,n.jsx)(t.code,{children:"|"}),"-separated, the rule is reversed:\n",(0,n.jsx)(t.code,{children:"{Us}"})," is a subset of ",(0,n.jsx)(t.code,{children:"{Vs}"})," when it is a subset of ",(0,n.jsx)(t.code,{children:"{Vs}"}),".\nIt may be helpful to think of this as saying that ",(0,n.jsx)(t.code,{children:"{Us}"})," is more specific than ",(0,n.jsx)(t.code,{children:"{Vs}"})," in this case;\n",(0,n.jsx)(t.code,{children:"{Vs}"})," expresses a set of entitlements that the reference ",(0,n.jsx)(t.strong,{children:"might"})," possess,\nwhile ",(0,n.jsx)(t.code,{children:"{Us}"})," is expressing a more specific set of potential entitlements."]}),"\n",(0,n.jsxs)(t.p,{children:["Lastly, if ",(0,n.jsx)(t.code,{children:"{Us}"})," is ",(0,n.jsx)(t.code,{children:","}),"-separated while ",(0,n.jsx)(t.code,{children:"{Vs}"})," is ",(0,n.jsx)(t.code,{children:"|"}),"-separated,\nthen ",(0,n.jsx)(t.code,{children:"{Us}"})," is a subset of ",(0,n.jsx)(t.code,{children:"{Vs}"})," when any of the ",(0,n.jsx)(t.code,{children:"Us"})," also appears in ",(0,n.jsx)(t.code,{children:"{Vs}"}),".\nTo see why, consider again that ",(0,n.jsx)(t.code,{children:"{Vs}"})," expresses a set of entitlements that the reference ",(0,n.jsx)(t.strong,{children:"might"})," possess,\nand as long as at least one of these entitlements is in ",(0,n.jsx)(t.code,{children:"{Us}"})," (which is a set of entitlements that we ",(0,n.jsx)(t.strong,{children:"know"})," the reference has),\nthen the description provided by ",(0,n.jsx)(t.code,{children:"{Vs}"})," is correct."]}),"\n",(0,n.jsx)(t.p,{children:"As an example to illustrate these rules:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let eRef: auth(E) &T = ...",props:{}}]},{tokens:[{content:"let efRef: auth(E, F) &T = ...",props:{}}]},{tokens:[{content:"let eOrFRef: auth(E | F) &T = ...",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Invalid, `eRef` only has `E` but `F` is required",props:{}}]},{tokens:[{content:"eRef as auth(F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Invalid, `eRef` only has `E` but both `E` and `F` are required",props:{}}]},{tokens:[{content:"eRef as auth(E, F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Valid, `eRef` definitely has `E` and either `E` or `F` is sufficient",props:{}}]},{tokens:[{content:"eRef as auth(E | F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Valid, `efRef` both `E` and `F` but only `F` is required",props:{}}]},{tokens:[{content:"efRef as auth(F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Valid, `efRef` both `E` and `F`, and either is sufficient",props:{}}]},{tokens:[{content:"efRef as auth(E | F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Invalid, `eOrFRef` has one of `E` or `F` but we need to definitely have `F`",props:{}}]},{tokens:[{content:"eOrFRef as auth(F) &T",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"// Invalid, `eOrFRef` has one of `E` or `F` but we need both",props:{}}]},{tokens:[{content:"eOrFRef as auth(E, F) &T",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(t.h3,{id:"references-and-entitlement-mappings",children:"References and Entitlement Mappings"}),"\n",(0,n.jsxs)(t.p,{children:["In most situations, an ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/access-control#entitlement-mappings",children:"entitlement mapping"})," is valid in the ",(0,n.jsx)(t.code,{children:"auth"})," portion of a reference type.\nHowever, in certain specific circumstances in the definition of a field or function on a composite type, an entitlement mapping may be used in an ",(0,n.jsx)(t.code,{children:"auth"})," modifier."]}),"\n",(0,n.jsx)(t.p,{children:"When a field is defined with an entitlement mapping:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // omitted",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"resource interface",props:{style:{color:"#81A1C1"}}},{content:" I ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(M",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" foo: ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"M",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"T",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Here, the ",(0,n.jsx)(t.code,{children:"M"})," in ",(0,n.jsx)(t.code,{children:"auth(M) &T"})," indicates that the entitlements that the reference produced by an ",(0,n.jsx)(t.code,{children:"iRef.foo"})," access will have\nare determined by the entitlements to ",(0,n.jsx)(t.code,{children:"I"})," that ",(0,n.jsx)(t.code,{children:"iRef"})," has, for some ",(0,n.jsx)(t.code,{children:"iRef"})," value that is a reference to ",(0,n.jsx)(t.code,{children:"{I}"}),'. Conceptually,\nit creates a correspondence between the "output" reference\'s type and the "input" access modifier.']}),"\n",(0,n.jsx)(t.p,{children:"When an accessor function is defined with an entitlement mapping:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"entitlement mapping M ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // omitted",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" I ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" myField: ",props:{style:{color:"#D8DEE9FF"}}},{content:"T",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(M",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"fun ",props:{style:{color:"#81A1C1"}}},{content:"getMyField",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:": auth",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"M",props:{style:{color:"#81A1C1"}}},{content:") &",props:{style:{color:"#D8DEE9FF"}}},{content:"T ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return",props:{style:{color:"#81A1C1"}}},{content:" &",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".myField as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(M",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &T",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"M"})," in the ",(0,n.jsx)(t.code,{children:"auth(M) &T"})," of the function's return type annotation indicates the same thing as in the field case.\nHowever, in this example ",(0,n.jsx)(t.code,{children:"M"})," is also used in a reference type within the body of the function.\nInside the body of function with entitlement-mapped access,\nthe name of the entitlement mapping may be used as a stand-in for the output entitlements of the map."]}),"\n",(0,n.jsx)(t.h2,{id:"field-and-index-access",children:"Field and Index Access"}),"\n",(0,n.jsx)(t.p,{children:"References to container types (structs/resources, dictionaries and arrays) can be used to access (read/write) fields\nor elements of the container."}),"\n",(0,n.jsx)(t.p,{children:"When a field/index is read through a reference, it will return:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"A reference, if the field / value at index is also container-typed."}),"\n",(0,n.jsx)(t.li,{children:"Or, the concrete value, if the value is a primitive type."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["For example, consider the below ",(0,n.jsx)(t.code,{children:"Collection"})," resource which has two fields: one (id) is String-typed,\nand the other (ownedNFTs) is dictionary-typed."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"resource",props:{style:{color:"#81A1C1"}}},{content:" Collection ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Primitive-typed field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"var",props:{style:{color:"#81A1C1"}}},{content:" id: ",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Dictionary typed field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(all",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"var",props:{style:{color:"#81A1C1"}}},{content:" ownedNFTs: @{",props:{style:{color:"#D8DEE9FF"}}},{content:"UInt64",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"NFT",props:{style:{color:"#81A1C1"}}},{content:"}",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Thus,"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" collectionRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"Collection",props:{style:{color:"#81A1C1"}}},{content:" = ...",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// `collectionRef.ownedNFTs` would return a reference of type `&{UInt64: NFT}`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" ownedNFTsRef: &{",props:{style:{color:"#D8DEE9FF"}}},{content:"UInt64",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"NFT",props:{style:{color:"#81A1C1"}}},{content:"} = collectionRef.ownedNFTs",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Whereas, `collectionRef.id` would return the value, since it is a primitive type.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" id: ",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:" = collectionRef.id",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"Similarly, accessing an element of an array/dictionary will return a reference."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Index-access to an array reference would return a reference to the element.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" resourceArrayRef: &[",props:{style:{color:"#D8DEE9FF"}}},{content:"AnyResource",props:{style:{color:"#81A1C1"}}},{content:"] = ...",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" elementRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"AnyResource",props:{style:{color:"#81A1C1"}}},{content:" = collectionArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Whereas, if the array is of a primitive type, it will return the concrete value.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" intArrayRef: &[",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"] = ...",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" element: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:" = intArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Index-access to a dictionary reference would return a reference to the value.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" resourceDictionaryRef: &{",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"AnyResource",props:{style:{color:"#81A1C1"}}},{content:"} = ...",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" valueRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"AnyResource",props:{style:{color:"#81A1C1"}}},{content:"? = resourceDictionaryRef[",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"two",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Whereas, if the dictionary values are of a primitive type, it will return the concrete value.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" intDictionaryRef: &{",props:{style:{color:"#D8DEE9FF"}}},{content:"String",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"} = ...",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" value: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Int",props:{style:{color:"#81A1C1"}}},{content:"? = intDictionaryRef[",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"two",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"It is also important to note that, in the above examples, the returned references have no entitlements.\ni.e: they are non-auth references."}),"\n",(0,n.jsxs)(t.p,{children:["To get entitled references for struct/resource fields, they must be defined with ",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/access-control#entitlement-mappings",children:"entitlement mappings"}),".\nHowever, accessing a value at an index/key of an array/dictionary reference would always return a non-auth reference."]}),"\n",(0,n.jsx)(t.h3,{id:"index-assignment",children:"Index Assignment"}),"\n",(0,n.jsxs)(t.p,{children:["Assigning to an index of an array or a dictionary reference is an entitled-operation.\nIn other words, the assignment operator for arrays/dictionaries would also have the ",(0,n.jsx)(t.code,{children:"Mutate"})," and ",(0,n.jsx)(t.code,{children:"Insert"}),"\n",(0,n.jsx)(t.a,{href:"/docs/next/cadence/language/access-control#built-in-mutability-entitlements",children:"built-in entitlements"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Think of assignment as a built-in function with ",(0,n.jsx)(t.code,{children:"Mutate"})," or ",(0,n.jsx)(t.code,{children:"(Insert, Remove)"})," entitlements. e.g:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"access",props:{style:{color:"#88C0D0"}}},{content:"(Mutate | (Insert, Remove",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:") s",props:{style:{color:"#D8DEE9FF"}}},{content:"et",props:{style:{color:"#88C0D0"}}},{content:"(keyOrIndex, value",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}},{content:" ... ",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["Note that the syntax for having nested entitlements in access modifiers like ",(0,n.jsx)(t.code,{children:"(Mutate | (Insert, Remove))"}),"\nis not currently supported, but this is for illustration purpose only."]}),"\n",(0,n.jsx)(t.p,{children:"Thus,"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" arrayRef = &array as &[String]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"arrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"John",props:{style:{color:"#A3BE8C"}}},{content:'"               ',props:{style:{color:"#ECEFF4"}}},{content:"// Static Error: updating via a read-only reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" mutableArrayRef = &array as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(Mutate",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &[String]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"mutableArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"John",props:{style:{color:"#A3BE8C"}}},{content:'"        ',props:{style:{color:"#ECEFF4"}}},{content:"// OK",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" insertableArrayRef = &array as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(Insert",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &[String]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"insertableArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"John",props:{style:{color:"#A3BE8C"}}},{content:'"     ',props:{style:{color:"#ECEFF4"}}},{content:"// Static Error: doesn't have the required entitlement",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" removableArrayRef = &array as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(Remove",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &[String]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"removableArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"John",props:{style:{color:"#A3BE8C"}}},{content:'"     ',props:{style:{color:"#ECEFF4"}}},{content:"// Static Error: doesn't have the required entitlement",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"var",props:{style:{color:"#81A1C1"}}},{content:" insertableAndRemovableArrayRef = &array as ",props:{style:{color:"#D8DEE9FF"}}},{content:"auth",props:{style:{color:"#88C0D0"}}},{content:"(Insert, Remove",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:" &[String]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"insertableAndRemovableArrayRef[",props:{style:{color:"#D8DEE9FF"}}},{content:"2",props:{style:{color:"#B48EAD"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"John",props:{style:{color:"#A3BE8C"}}},{content:'"        ',props:{style:{color:"#ECEFF4"}}},{content:"// OK",props:{style:{color:"#616E88"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.h2,{id:"reference-validity",children:"Reference Validity"}),"\n",(0,n.jsxs)(t.p,{children:["Ephemeral references stay valid throughout the course of the program.\nHowever, ",(0,n.jsx)(t.strong,{children:"references to resources"})," can become invalid during the execution of a program,\nif the referenced resource is moved or destroyed after taking the reference."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" r <-",props:{style:{color:"#D8DEE9FF"}}},{content:"create ",props:{style:{color:"#81A1C1"}}},{content:"R",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Take a reference to resource.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" ref = &r as &R",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Then transfer the resource into an account.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// This will invalidate all the references taken to the resource `r`.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"account.storage.",props:{style:{color:"#D8DEE9FF"}}},{content:"save",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"r, ",props:{style:{color:"#D8DEE9FF"}}},{content:"to",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"r",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Static error, since the referenced resource has been moved.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"ref.id ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"2",props:{style:{color:"#B48EAD"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(t.p,{children:"A reference is invalidated upon the first transfer of the underlying resource,\nregardless of the origin and the destination."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" ref = &r as &R",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Moving a resource to a different variable invalidates all references to it.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" r2 <- r",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Static error, since the referenced resource has been moved.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"ref.id ",props:{style:{color:"#D8DEE9FF"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"2",props:{style:{color:"#B48EAD"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o,{type:"info",children:(0,n.jsx)(t.p,{children:"Invalidations of storage references are not statically caught, but only at run-time."})})]})}const f=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(g,e)})):g(e)};function y(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);