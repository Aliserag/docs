"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[65715],{58296:(e,t,o)=>{o.r(t),o.d(t,{CH:()=>u,assets:()=>d,chCodeConfig:()=>p,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>a,toc:()=>l});o(67294);var n=o(85893),r=o(11151),i=o(59794);const c={title:"Add FCL Support for WalletConnect 2.0"},s="Add FCL Support for WalletConnect 2.0",a={unversionedId:"tooling/fcl-js/wallet-connect",id:"tooling/fcl-js/wallet-connect",title:"Add FCL Support for WalletConnect 2.0",description:"To improve developer experience and streamline Flow dApp integration with WalletConnect 2.0 wallets, FCL ^1.3.0 introduces support for discovery-service plugins. These ServicePlugins allow for injection of client configured services, service methods, and the execution strategies required to interact with them.",source:"@site/docs/tooling/fcl-js/wallet-connect.mdx",sourceDirName:"tooling/fcl-js",slug:"/tooling/fcl-js/wallet-connect",permalink:"/docs/next/tooling/fcl-js/wallet-connect",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/tooling/fcl-js/wallet-connect.mdx",tags:[],version:"current",lastUpdatedBy:"Giovanni Sanchez",lastUpdatedAt:1688763961,formattedLastUpdatedAt:"Jul 7, 2023",frontMatter:{title:"Add FCL Support for WalletConnect 2.0"},sidebar:"docsSidebar",previous:{title:"Signing and Verifying Arbitrary Data",permalink:"/docs/next/tooling/fcl-js/user-signatures"},next:{title:"overview",permalink:"/docs/next/tooling/fcl-dev-wallet/overview"}},d={},l=[{value:"How does it work?",id:"how-does-it-work",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Implementation path",id:"implementation-path",level:3},{value:"1. Add required packages",id:"1-add-required-packages",level:3},{value:"2. Obtain a WalletConnect projectID",id:"2-obtain-a-walletconnect-projectid",level:3},{value:"3. Initialize WalletConnect <code>SignClient</code> and <code>FclWcServicePlugin</code>",id:"3-initialize-walletconnect-signclient-and-fclwcserviceplugin",level:3},{value:"Configuration options",id:"configuration-options",level:4},{value:"Returns",id:"returns",level:4},{value:"4. Add FclWcServicePlugin to FCL Plugin Registry",id:"4-add-fclwcserviceplugin-to-fcl-plugin-registry",level:3},{value:"Usage",id:"usage",level:4},{value:"ServicePlugin Spec",id:"serviceplugin-spec",level:3},{value:"Integrating With Wallet Discovery",id:"integrating-with-wallet-discovery",level:2},{value:"<code>discovery-service</code> ServicePlugin",id:"discovery-service-serviceplugin",level:4},{value:"How to add your FCL compatible WalletConnect wallet to Discovery (UI/API)",id:"how-to-add-your-fcl-compatible-walletconnect-wallet-to-discovery-uiapi",level:3},{value:"Wallet Provider Spec",id:"wallet-provider-spec",level:2},{value:"Implementation path",id:"implementation-path-1",level:3},{value:"Metadata requirements",id:"metadata-requirements",level:4},{value:"Next steps",id:"next-steps",level:2}],u={annotations:i.ds,Code:i.EK},p={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/docs/tooling/fcl-js/wallet-connect.mdx"};function g(e){const t=Object.assign({h1:"h1",p:"p",strong:"strong",code:"code",a:"a",h2:"h2",ul:"ul",li:"li",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",h4:"h4",hr:"hr",ol:"ol",img:"img"},(0,r.ah)(),e.components);return u||f("CH",!1),u.Code||f("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"add-fcl-support-for-walletconnect-20",children:"Add FCL Support for WalletConnect 2.0"}),"\n",(0,n.jsxs)(t.p,{children:["To improve developer experience and streamline ",(0,n.jsx)(t.strong,{children:"Flow"})," dApp integration with ",(0,n.jsx)(t.strong,{children:"WalletConnect 2.0"})," wallets, ",(0,n.jsxs)(t.strong,{children:["FCL ",(0,n.jsx)(t.code,{children:"^1.3.0"})]})," introduces support for ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"discovery-service"})})," plugins. These ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"ServicePlugins"})})," allow for injection of client configured ",(0,n.jsx)(t.strong,{children:"services"}),", service ",(0,n.jsx)(t.strong,{children:"methods"}),", and the execution ",(0,n.jsx)(t.strong,{children:"strategies"})," required to interact with them.\nFCL dApps can opt-in through use of the ",(0,n.jsx)(t.a,{href:"https://www.npmjs.com/package/@onflow/fcl-wc",children:(0,n.jsx)(t.strong,{children:"fcl-wc"})})," package and ",(0,n.jsx)(t.strong,{children:"FCL Plugin Registry"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"When using FCL Discovery for authentication, dApps are able to support most FCL-compatible wallets and their users on Flow without any custom integrations or changes needed to the dApp code."}),"\n",(0,n.jsx)(t.p,{children:"These instructions explain how dApps can also add support for FCL compatible wallets that use the WalletConnect 2.0 protocol."}),"\n",(0,n.jsx)(t.h2,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"fc-wc"})})," package is used to initialize a ",(0,n.jsx)(t.strong,{children:"WalletConnect 2.0"})," ",(0,n.jsx)(t.a,{href:"https://docs.walletconnect.com/2.0/introduction/sign",children:(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"SignClient"})})})," instance, and build a ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"discovery-service"})})," ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"ServicePlugin"})})," based on dApp specified options."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"discovery-service"})})," plugins are used to add opt-in wallets and other services to ",(0,n.jsx)(t.strong,{children:"FCL Wallet Discovery"})," (UI/API)."]}),"\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.strong,{children:"FCL Plugin Registry"})," offers dApps the ability to add new services, methods, and the execution strategies needed to interact with them."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"requirements",children:"Requirements"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"fcl"})," version >= ",(0,n.jsx)(t.code,{children:"1.3.0"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"fcl-wc"})," version >= ",(0,n.jsx)(t.code,{children:"1.0.0"})]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"implementation-path",children:"Implementation path"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{align:"center"}),(0,n.jsx)(t.th,{align:"left"}),(0,n.jsx)(t.th,{align:"left"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.a,{href:"#1-add-required-packages",children:(0,n.jsx)(t.strong,{children:"1"})})}),(0,n.jsx)(t.td,{align:"left",children:"Add required packages"}),(0,n.jsxs)(t.td,{align:"left",children:["Install and import minimum ",(0,n.jsx)(t.code,{children:"fcl"})," and ",(0,n.jsx)(t.code,{children:"fcl-wc"})," ",(0,n.jsx)(t.a,{href:"#requirements",children:"versions"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.a,{href:"#2-obtain-a-walletconnect-projectid",children:(0,n.jsx)(t.strong,{children:"2"})})}),(0,n.jsxs)(t.td,{align:"left",children:["Obtain a WalletConnect ",(0,n.jsx)(t.code,{children:"projectID"})]}),(0,n.jsxs)(t.td,{align:"left",children:["Visit ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/",children:"WalletConnect Cloud Registry"})," and register for public relay server access and an application ",(0,n.jsx)(t.code,{children:"projectId"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.a,{href:"#3-initialize-walletconnect-signclient-and-fclwcserviceplugin",children:(0,n.jsx)(t.strong,{children:"3"})})}),(0,n.jsxs)(t.td,{align:"left",children:["Initialize WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"})," and ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})]}),(0,n.jsxs)(t.td,{align:"left",children:["Initialize WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"})," and ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})," with ",(0,n.jsx)(t.a,{href:"#configuration-options",children:"configuration options"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.a,{href:"#4-add-fclwcserviceplugin-to-fcl-plugin-registry",children:(0,n.jsx)(t.strong,{children:"4"})})}),(0,n.jsxs)(t.td,{align:"left",children:["Add ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})," to FCL Plugin Registry"]}),(0,n.jsxs)(t.td,{align:"left",children:["Inject ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})," via ",(0,n.jsx)(t.code,{children:"fcl.pluginRegistry.add(FclWcServicePlugin)"})]})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"1-add-required-packages",children:"1. Add required packages"}),"\n",(0,n.jsxs)(t.p,{children:["Install the ",(0,n.jsx)(t.code,{children:"fcl"})," and ",(0,n.jsx)(t.code,{children:"fcl-wc"})," packages:"]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"npm ",props:{style:{color:"#D8DEE9FF"}}},{content:"install @onflow/fcl@ @onflow/fcl-wc",props:{style:{color:"#A3BE8C"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,n.jsx)(t.h3,{id:"2-obtain-a-walletconnect-projectid",children:"2. Obtain a WalletConnect projectID"}),"\n",(0,n.jsxs)(t.p,{children:["Visit ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/",children:"WalletConnect Cloud Registry"})," and register for public relay server access and an application ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"projectId"})}),"."]}),"\n",(0,n.jsxs)(t.h3,{id:"3-initialize-walletconnect-signclient-and-fclwcserviceplugin",children:["3. Initialize WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"})," and ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})]}),"\n",(0,n.jsxs)(t.p,{children:["In addition to the WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"}),", the ",(0,n.jsx)(t.code,{children:"init"})," method of ",(0,n.jsx)(t.code,{children:"fcl-wc"})," returns a ",(0,n.jsx)(t.a,{href:"#serviceplugin-spec",children:(0,n.jsx)(t.code,{children:"ServicePlugin"})})," object. This object can be injected using the ",(0,n.jsx)(t.a,{href:"#pluginregistry",children:"FCL Plugin Registry"})," to add support for new service methods and their corresponding execution strategies (like ",(0,n.jsx)(t.code,{children:"WC/RPC"})," for WalletConnect ).\nA ",(0,n.jsx)(t.code,{children:"discovery-service"})," ",(0,n.jsx)(t.code,{children:"ServicePlugin"})," may also include additional opt-in wallets to offer your users through FCL Wallet Discovery."]}),"\n",(0,n.jsx)(t.h4,{id:"configuration-options",children:"Configuration options"}),"\n",(0,n.jsxs)(t.p,{children:["Initialize WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"})," and ",(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})," with the following configuration options:"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Default"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"projectId"})}),(0,n.jsxs)(t.td,{children:["boolean ",(0,n.jsx)(t.strong,{children:"(required)"})]}),(0,n.jsx)(t.td,{children:"null"}),(0,n.jsxs)(t.td,{children:["A WalletConnect projectId for public relay server access. Your Project ID can be obtained from ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/app",children:"WalletConnect Cloud Dashboard"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"metadata"})}),(0,n.jsx)(t.td,{children:"object"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{ }"})}),(0,n.jsxs)(t.td,{children:["Optional dApp metadata to describe your application and define its appearance in a web browser. More details can be found ",(0,n.jsx)(t.a,{href:"https://docs.walletconnect.com/2.0/swift/sign/dapp-usage",children:"here"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"includeBaseWC"})}),(0,n.jsx)(t.td,{children:"boolean"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Optional configuration to include a generic WalletConnect service in FCL Discovery (UI/API). ",(0,n.jsx)("br",{})," \u2757 BaseWC Service offers no deeplink support for mobile."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"wcRequestHook"})}),(0,n.jsx)(t.td,{children:"function"}),(0,n.jsx)(t.td,{children:"null"}),(0,n.jsx)(t.td,{children:"Optional function is called on all desktop WalletConnect client session proposals and signing requests. Use this to handle alerting user to check wallet for approval."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"pairingModalOverride"})}),(0,n.jsx)(t.td,{children:"function"}),(0,n.jsx)(t.td,{children:"null"}),(0,n.jsxs)(t.td,{children:["Optional function called to allow override of included QRCodeModal. Function receives two arguments: ",(0,n.jsx)("br",{})," 1. Connection ",(0,n.jsx)(t.code,{children:"uri"})," to display QR code or send to wallet to create pairing. ",(0,n.jsx)("br",{})," 2. Callback function to manually cancel the request."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"wallets"})}),(0,n.jsx)(t.td,{children:"array"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"[ ]"})}),(0,n.jsxs)(t.td,{children:["Optional list of WalletConnect ",(0,n.jsx)(t.code,{children:"authn"})," services to include in FCL Wallet Discovery (UI/API). ",(0,n.jsx)("br",{})," \u2757 Only available for use on ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"testnet"})}),". These services will be combined with wallets returned from ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/",children:"WalletConnect cloud registry API"})," and sent to Discovery for display in UI and inclusion in API response."]})]})]})]}),"\n",(0,n.jsx)(t.h4,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"#fclwcserviceplugin",children:"FclWcServicePlugin"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"ServicePlugin"})}),(0,n.jsxs)(t.td,{children:["A ",(0,n.jsx)(t.code,{children:"ServicePlugin"})," of type ",(0,n.jsx)(t.code,{children:"discovery-service"}),".  May also include optional ",(0,n.jsx)(t.code,{children:"authn"})," services to offer through FCL Wallet Discovery (UI/API)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"#",children:"client"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"SignClient"})}),(0,n.jsxs)(t.td,{children:["An initialized WalletConnect ",(0,n.jsx)(t.a,{href:"https://docs.walletconnect.com/2.0/introduction/sign",children:(0,n.jsx)(t.code,{children:"SignClient"})}),"."]})]})]})]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"const ",props:{style:{color:"#81A1C1"}}},{content:"FclWcServicePlugin ",props:{style:{color:"#D8DEE9"}}},{content:"= ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  name",props:{style:{color:"#88C0D0"}}},{content:': "',props:{style:{color:"#ECEFF4"}}},{content:"fcl-plugin-service-walletconnect",props:{style:{color:"#A3BE8C"}}},{content:'",',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  f_type",props:{style:{color:"#88C0D0"}}},{content:': "',props:{style:{color:"#ECEFF4"}}},{content:"ServicePlugin",props:{style:{color:"#A3BE8C"}}},{content:'",   ',props:{style:{color:"#ECEFF4"}}},{content:"// the type of FCL plugin",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  type",props:{style:{color:"#88C0D0"}}},{content:': "',props:{style:{color:"#ECEFF4"}}},{content:"discovery-service",props:{style:{color:"#A3BE8C"}}},{content:'", ',props:{style:{color:"#ECEFF4"}}},{content:"// the is a service sent to Discovery",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  services",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" [",props:{style:{color:"#D8DEE9FF"}}},{content:"Service",props:{style:{color:"#D8DEE9"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}},{content:",       ",props:{style:{color:"#ECEFF4"}}},{content:"// (optional) Generic, Cloud Registry and client injected WalletConnect services",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  serviceStrategy",props:{style:{color:"#88C0D0"}}},{content:": {",props:{style:{color:"#ECEFF4"}}},{content:"method",props:{style:{color:"#88C0D0"}}},{content:': "',props:{style:{color:"#ECEFF4"}}},{content:"WC/RPC",props:{style:{color:"#A3BE8C"}}},{content:'", ',props:{style:{color:"#ECEFF4"}}},{content:"exec",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"execStrategy",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"// the method name and execution strategy for WalletConnect services",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"js"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["\u2757 Setting FCL config ",(0,n.jsx)(t.code,{children:"flow.network"})," to ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"testnet"})})," or ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"mainnet"})})," is required to use ",(0,n.jsx)(t.code,{children:"fcl-wc"})," as it enables ",(0,n.jsx)(t.code,{children:'"WC/RPC"'})," service strategy to request correct chain permissions."]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import {config} from '@onflow/config'",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"config({",props:{}}]},{tokens:[{content:'    "flow.network": "mainnet"',props:{}}]},{tokens:[{content:"})",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsxs)(t.p,{children:["See ",(0,n.jsx)(t.a,{href:"/docs/next/tooling/fcl-js/configure-fcl",children:"FCL Configuration"})," for more information."]}),"\n",(0,n.jsx)(t.h3,{id:"4-add-fclwcserviceplugin-to-fcl-plugin-registry",children:"4. Add FclWcServicePlugin to FCL Plugin Registry"}),"\n",(0,n.jsxs)(t.p,{children:["In addition to the WalletConnect ",(0,n.jsx)(t.code,{children:"SignClient"}),", the ",(0,n.jsx)(t.code,{children:"init"})," method of ",(0,n.jsx)(t.code,{children:"fcl-wc"})," returns a ",(0,n.jsx)(t.a,{href:"#serviceplugin-spec",children:(0,n.jsx)(t.code,{children:"ServicePlugin"})})," object. This object can be injected into the FCL Plugin Registry to add FCL support for new service methods, (like WC/RPC for WalletConnect) and their corresponding execution strategies."]}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import * as ",props:{style:{color:"#81A1C1"}}},{content:"fcl ",props:{style:{color:"#8FBCBB"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"@onflow/fcl",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"import ",props:{style:{color:"#81A1C1"}}},{content:"{ ",props:{style:{color:"#ECEFF4"}}},{content:"init ",props:{style:{color:"#8FBCBB"}}},{content:"} ",props:{style:{color:"#ECEFF4"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"fcl-wc",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"const ",props:{style:{color:"#81A1C1"}}},{content:"{ ",props:{style:{color:"#ECEFF4"}}},{content:"FclWcServicePlugin",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"client ",props:{style:{color:"#D8DEE9"}}},{content:"} ",props:{style:{color:"#ECEFF4"}}},{content:"= await ",props:{style:{color:"#81A1C1"}}},{content:"init",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  projectId",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"WC_PROJECT_ID",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"// required",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  metadata",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"WC_APP_METADATA",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"// optional",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  includeBaseWC",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"false",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"// optional, default: false",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  wallets",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" []",props:{style:{color:"#D8DEE9FF"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"// optional, default: []",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  wcRequestHook",props:{style:{color:"#88C0D0"}}},{content:": (",props:{style:{color:"#ECEFF4"}}},{content:"wcRequestData",props:{style:{color:"#D8DEE9"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"=> ",props:{style:{color:"#81A1C1"}}},{content:"{ ",props:{style:{color:"#ECEFF4"}}},{content:"// optional,default: null",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    handlePendingRequest",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"data",props:{style:{color:"#D8DEE9"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  },",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  pairingModalOverride",props:{style:{color:"#88C0D0"}}},{content:": (",props:{style:{color:"#ECEFF4"}}},{content:"uri",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"rejectPairingRequest",props:{style:{color:"#D8DEE9"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"=> ",props:{style:{color:"#81A1C1"}}},{content:"{ ",props:{style:{color:"#ECEFF4"}}},{content:"// optional,default: null",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    handlePendingPairingRequest",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"data",props:{style:{color:"#D8DEE9"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"fcl",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"pluginRegistry",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"add",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"FclWcServicePlugin",props:{style:{color:"#D8DEE9"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"js"},annotations:[]}]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"serviceplugin-spec",children:"ServicePlugin Spec"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Key"}),(0,n.jsx)(t.th,{children:"Value Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"name"})}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"The name of the plugin."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"f_type"})}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsxs)(t.td,{children:["The type of plugin (currently only supports ",(0,n.jsx)(t.code,{children:"ServicePlugin"})," type)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"type"})}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsxs)(t.td,{children:["The plugin subtype (currently only supports ",(0,n.jsx)(t.code,{children:"discovery-service"})," type)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"services"})}),(0,n.jsx)(t.td,{children:"array"}),(0,n.jsx)(t.td,{children:"A list of services to add to FCL."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"serviceStrategy"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{ method: string, exec: function }"})}),(0,n.jsxs)(t.td,{children:["The method and corresponding strategy FCL uses to interact with the service. A service with the ",(0,n.jsx)(t.code,{children:"service.method"})," property set to ",(0,n.jsx)(t.code,{children:'"WC/RPC"'})," tells FCL to use the corresponding service strategy if it is supported by the dApp."]})]})]})]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"integrating-with-wallet-discovery",children:"Integrating With Wallet Discovery"}),"\n",(0,n.jsx)(t.p,{children:"Knowing all the wallets available to users on a blockchain can be challenging. FCL's Discovery mechanism relieves much of the burden of integrating with Flow compatible wallets and let's developers focus on building their dApp and providing as many options as possible to their users."}),"\n",(0,n.jsxs)(t.p,{children:["There are two ways an app can use ",(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-js/blob/master/docs/reference/discovery.mdx",children:"Wallet Discovery"}),":"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"The UI version which can be configured for display via iFrame, Popup, or Tab."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["The API version which allows you to access authentication services directly in your code via ",(0,n.jsx)(t.code,{children:"fcl.discovery.authn"})," method which we'll describe below."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"When using FCL Wallet Discovery for authentication, dApps are able to support FCL-compatible wallets on Flow without any custom integrations or changes needed to the dApp code."}),"\n",(0,n.jsxs)(t.h4,{id:"discovery-service-serviceplugin",children:[(0,n.jsx)(t.code,{children:"discovery-service"})," ServicePlugin"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"FclWcServicePlugin"})," is a ",(0,n.jsx)(t.code,{children:"ServicePlugin"})," of type ",(0,n.jsx)(t.code,{children:"discovery-service"}),". ",(0,n.jsx)(t.code,{children:"discovery-service"})," plugins may include additional authentication services to offer through FCL Wallet Discovery."]}),"\n",(0,n.jsxs)(t.p,{children:["Once a valid ",(0,n.jsx)(t.code,{children:"discovery-service"})," plugin is registered, FCL shares client supported services with Discovery to add registered and injected wallets to the UI and API."]}),"\n",(0,n.jsx)(t.p,{children:"To connect a Flow supported wallet using WalletConnect 2.0, users of your dApp will go through the authentication process and have the option to select their preferred wallet."}),"\n",(0,n.jsxs)(t.p,{children:["\u2757 Once a WalletConnect session is established and a ",(0,n.jsx)(t.code,{children:"currentUser"})," is authenticated, FCL will handle client pairings and sessions during FCL ",(0,n.jsx)(t.code,{children:"authn"}),", and initiate signing requests as part of ",(0,n.jsx)(t.code,{children:"authz"})," using ",(0,n.jsx)(t.code,{children:"fcl.mutate"})," and ",(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-js/blob/master/docs/reference/user-signatures.mdx",children:(0,n.jsx)(t.code,{children:"user-sign"})})," using ",(0,n.jsx)(t.code,{children:"fcl.signUserMessage"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"how-to-add-your-fcl-compatible-walletconnect-wallet-to-discovery-uiapi",children:"How to add your FCL compatible WalletConnect wallet to Discovery (UI/API)"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-discovery/blob/master/data/services.json",children:"Submit a PR"})," to add your wallet to FCL Wallet Discovery ",(0,n.jsx)(t.code,{children:"services.json"})]}),"\n",(0,n.jsxs)(t.li,{children:["Submit your FCL compatible wallet to ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/",children:"WalletConnect Cloud Registry"})]}),"\n",(0,n.jsxs)(t.li,{children:["Add Wallet Service to ",(0,n.jsx)(t.code,{children:"fcl-wc"})," init options. \u2757 testnet only."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["FCL tells Wallet Discovery which services are supported by the client (installed extensions and ",(0,n.jsx)(t.code,{children:"discovery-service"})," ",(0,n.jsx)(t.code,{children:"ServicePlugins"}),") so only those supported will be shown in Discovery UI or returned via Discovery API."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(76389).Z+"",loading:"lazy",alt:"Wallet Discovery UI",width:"496",height:"542"})}),"\n",(0,n.jsx)(t.h2,{id:"wallet-provider-spec",children:"Wallet Provider Spec"}),"\n",(0,n.jsx)(t.h3,{id:"implementation-path-1",children:"Implementation path"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{align:"center"}),(0,n.jsx)(t.th,{align:"left"}),(0,n.jsx)(t.th,{align:"left"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.strong,{children:"1"})}),(0,n.jsxs)(t.td,{align:"left",children:["Obtain a WalletConnect ",(0,n.jsx)(t.code,{children:"projectId"})]}),(0,n.jsxs)(t.td,{align:"left",children:["Register to receive a ",(0,n.jsx)(t.code,{children:"projectId"})," from the ",(0,n.jsx)(t.a,{href:"https://cloud.walletconnect.com/",children:"WalletConnect Cloud Registry"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.strong,{children:"2"})}),(0,n.jsxs)(t.td,{align:"left",children:["Conform to ",(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-js/blob/master/packages/fcl/src/wallet-provider-spec/draft-v4.md",children:"FCL Wallet Provider Spec"})]}),(0,n.jsxs)(t.td,{align:"left",children:["Compatible wallets must support ",(0,n.jsx)(t.code,{children:"flow_authn"}),", ",(0,n.jsx)(t.code,{children:"flow_authz"}),", and ",(0,n.jsx)(t.code,{children:"flow_user_sign"})," methods and wrap data in the appropriate FCL Response type. Services returned with the ",(0,n.jsx)(t.code,{children:"AuthnResponse"})," of ",(0,n.jsx)(t.code,{children:"flow_authn"})," should set ",(0,n.jsx)(t.code,{children:"service.endpoint"})," to corresponding methods.",(0,n.jsx)("br",{})," ",(0,n.jsx)(t.strong,{children:"ServiceType"})," ",(0,n.jsx)(t.code,{children:"authz"})," : ",(0,n.jsx)(t.code,{children:"flow_authz"})," ",(0,n.jsx)("br",{})," ",(0,n.jsx)(t.strong,{children:"ServiceType"})," ",(0,n.jsx)(t.code,{children:"user-signature"})," : ",(0,n.jsx)(t.code,{children:"flow_user_sign"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.strong,{children:"3"})}),(0,n.jsxs)(t.td,{align:"left",children:["Add wallet to WalletConnect Cloud Registry API ",(0,n.jsx)(t.strong,{children:"(optional)"})]}),(0,n.jsxs)(t.td,{align:"left",children:["Submit your wallet to be included in the ",(0,n.jsx)(t.a,{href:"https://explorer.walletconnect.com/",children:"WalletConnect Cloud Registry API and Explorer"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{align:"center",children:(0,n.jsx)(t.strong,{children:"4"})}),(0,n.jsx)(t.td,{align:"left",children:"Responses"}),(0,n.jsxs)(t.td,{align:"left",children:["All responses need to be wrapped in a ",(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-js/blob/master/packages/fcl/src/wallet-provider-spec/draft-v4.md#pollingresponse",children:(0,n.jsx)(t.code,{children:"PollingResponse"})})]})]})]})]}),"\n",(0,n.jsx)(t.h4,{id:"metadata-requirements",children:"Metadata requirements"}),"\n",(0,n.jsxs)(t.p,{children:["\u2757 In order to correctly identify, improve pairing, and include deep link support for mobile, services using the ",(0,n.jsx)(t.code,{children:"WC/RPC"})," method need to use the same universal link as their ",(0,n.jsx)(t.code,{children:"uid"})," and ",(0,n.jsx)(t.code,{children:"url"})," in Wallet metadata.\nWallets sourced from WalletConnect Cloud Registry automatically build the service from data and will set the ",(0,n.jsx)(t.code,{children:"service.uid"})," to the universal link."]}),"\n",(0,n.jsx)(u.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import ",props:{style:{color:"#81A1C1"}}},{content:"SignClient ",props:{style:{color:"#8FBCBB"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"@walletconnect/sign-client",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"export let ",props:{style:{color:"#81A1C1"}}},{content:"signClient",props:{style:{color:"#D8DEE9"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" SignClient",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"export async function ",props:{style:{color:"#81A1C1"}}},{content:"createSignClient",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  signClient ",props:{style:{color:"#D8DEE9"}}},{content:"= await ",props:{style:{color:"#81A1C1"}}},{content:"SignClient",props:{style:{color:"#D8DEE9"}}},{content:".",props:{style:{color:"#ECEFF4"}}},{content:"init",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    projectId",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"PROJECT_ID",props:{style:{color:"#D8DEE9"}}},{content:",",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    relayUrl",props:{style:{color:"#88C0D0"}}},{content:": '",props:{style:{color:"#ECEFF4"}}},{content:"wss://relay.walletconnect.com",props:{style:{color:"#A3BE8C"}}},{content:"',",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    metadata",props:{style:{color:"#88C0D0"}}},{content:": {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      name",props:{style:{color:"#88C0D0"}}},{content:": '",props:{style:{color:"#ECEFF4"}}},{content:"Awesome Wallet",props:{style:{color:"#A3BE8C"}}},{content:"',",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      description",props:{style:{color:"#88C0D0"}}},{content:": '",props:{style:{color:"#ECEFF4"}}},{content:"Awesome Wallet with FCL Support for WalletConnect",props:{style:{color:"#A3BE8C"}}},{content:"',",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      url",props:{style:{color:"#88C0D0"}}},{content:": '",props:{style:{color:"#ECEFF4"}}},{content:"https://deeplink.awesome-wallet.com/",props:{style:{color:"#A3BE8C"}}},{content:"',",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"      icons",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" [",props:{style:{color:"#D8DEE9FF"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"https://avatars.githubusercontent.com/u/37784886",props:{style:{color:"#A3BE8C"}}},{content:"'",props:{style:{color:"#ECEFF4"}}},{content:"]",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}},{content:")",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"javascript"},annotations:[]}]}),"\n",(0,n.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Read the ",(0,n.jsx)(t.a,{href:"https://github.com/onflow/fcl-js/blob/master/packages/fcl/src/wallet-provider-spec/draft-v4.md",children:"FCL Wallet Provider Spec"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["Check out the a WalletConnect 2.0 ",(0,n.jsx)(t.a,{href:"https://github.com/gregsantos/flow-walletconnect-v2-react-wallet",children:"React POC Wallet"})," and ",(0,n.jsx)(t.a,{href:"https://github.com/gregsantos/flow-walletconnect-v2-react-dapp",children:"FCL Flow dApp"})," with support for WalletConnect v2.0."]}),"\n",(0,n.jsxs)(t.li,{children:["Read and review the ",(0,n.jsx)(t.a,{href:"https://docs.walletconnect.com/2.0/",children:"WalletConnect 2.0 Docs"}),", ",(0,n.jsx)(t.a,{href:"https://docs.walletconnect.com/2.0/introduction/examples-and-resources",children:"examples and resources"}),"."]}),"\n"]})]})}const h=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(g,e)})):g(e)};function f(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},76389:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/wc-discovery-1a85f6af14c5c6768a2105a4328d13ab.png"}}]);