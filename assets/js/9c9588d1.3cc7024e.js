"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[10105],{55133:(e,o,t)=>{t.r(o),t.d(o,{CH:()=>d,assets:()=>i,chCodeConfig:()=>u,contentTitle:()=>l,default:()=>y,frontMatter:()=>c,metadata:()=>a,toc:()=>p});t(67294);var n=t(85893),r=t(11151),s=t(59794);const c={title:"6. Fungible Tokens"},l=void 0,a={unversionedId:"cadence/tutorial/fungible-tokens",id:"cadence/tutorial/fungible-tokens",title:"6. Fungible Tokens",description:"In this tutorial, we're going to deploy, store, and transfer fungible tokens.",source:"@site/docs/cadence/tutorial/06-fungible-tokens.mdx",sourceDirName:"cadence/tutorial",slug:"/cadence/tutorial/fungible-tokens",permalink:"/docs/next/cadence/tutorial/fungible-tokens",draft:!1,editUrl:"https://github.com/onflow/docs/tree/main/docs/cadence/tutorial/06-fungible-tokens.mdx",tags:[],version:"current",lastUpdatedBy:"Alex",lastUpdatedAt:1686860197,formattedLastUpdatedAt:"Jun 15, 2023",sidebarPosition:6,frontMatter:{title:"6. Fungible Tokens"},sidebar:"docsSidebar",previous:{title:"5.2 Non-Fungible Token Tutorial Part 2",permalink:"/docs/next/cadence/tutorial/non-fungible-tokens-2"},next:{title:"7. Marketplace Setup",permalink:"/docs/next/cadence/tutorial/marketplace-setup"}},i={},p=[{value:"Follow Along!",id:"follow-along",level:2},{value:"Flow Network Token",id:"flow-network-token",level:3},{value:"Decentralizing Ownership",id:"decentralizing-ownership",level:2},{value:"Intuiting Ownership with Resources",id:"intuiting-ownership-with-resources",level:2},{value:"Token Balances and Initialization",id:"token-balances-and-initialization",level:3},{value:"Deposit",id:"deposit",level:3},{value:"Transferring Tokens",id:"transferring-tokens",level:3},{value:"Function Parameters",id:"function-parameters",level:3},{value:"Interacting with the Fungible Token in the Flow Playground",id:"interacting-with-the-fungible-token-in-the-flow-playground",level:2},{value:"Perform a Basic Transfer",id:"perform-a-basic-transfer",level:3},{value:"Ensuring Security in Public: Capability Security",id:"ensuring-security-in-public-capability-security",level:2},{value:"Using Interfaces to Secure Implementations",id:"using-interfaces-to-secure-implementations",level:3},{value:"Adding Interfaces to Our Fungible Token",id:"adding-interfaces-to-our-fungible-token",level:2},{value:"Create, Store, and Publish Capabilities and References to a Vault",id:"create-store-and-publish-capabilities-and-references-to-a-vault",level:2},{value:"Transfer Tokens to Another User",id:"transfer-tokens-to-another-user",level:2},{value:"Check Account Balances",id:"check-account-balances",level:2},{value:"Create a Flow Marketplace",id:"create-a-flow-marketplace",level:2}],d={annotations:s.ds,Code:s.EK},u={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"nord",type:"dark",semanticHighlighting:!0,colors:{focusBorder:"#3b4252",foreground:"#d8dee9","activityBar.background":"#2e3440","activityBar.dropBackground":"#3b4252","activityBar.foreground":"#d8dee9","activityBar.activeBorder":"#88c0d0","activityBar.activeBackground":"#3b4252","activityBarBadge.background":"#88c0d0","activityBarBadge.foreground":"#2e3440","badge.foreground":"#2e3440","badge.background":"#88c0d0","button.background":"#88c0d0ee","button.foreground":"#2e3440","button.hoverBackground":"#88c0d0","button.secondaryBackground":"#434c5e","button.secondaryForeground":"#d8dee9","button.secondaryHoverBackground":"#4c566a","charts.red":"#bf616a","charts.blue":"#81a1c1","charts.yellow":"#ebcb8b","charts.orange":"#d08770","charts.green":"#a3be8c","charts.purple":"#b48ead","charts.foreground":"#d8dee9","charts.lines":"#88c0d0","debugConsole.infoForeground":"#88c0d0","debugConsole.warningForeground":"#ebcb8b","debugConsole.errorForeground":"#bf616a","debugConsole.sourceForeground":"#616e88","debugConsoleInputIcon.foreground":"#81a1c1","debugExceptionWidget.background":"#4c566a","debugExceptionWidget.border":"#2e3440","debugToolBar.background":"#3b4252",descriptionForeground:"#d8dee9e6","diffEditor.insertedTextBackground":"#81a1c133","diffEditor.removedTextBackground":"#bf616a4d","dropdown.background":"#3b4252","dropdown.border":"#3b4252","dropdown.foreground":"#d8dee9","editorActiveLineNumber.foreground":"#d8dee9cc","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b00","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5eb3","editorIndentGuide.activeBackground":"#4c566a","editorInlayHint.background":"#434c5e","editorInlayHint.foreground":"#d8dee9","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566ab3","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d066","editor.findMatchHighlightBackground":"#88c0d033","editor.findRangeHighlightBackground":"#88c0d033","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5ecc","editor.inlineValuesBackground":"#4c566a","editor.inlineValuesForeground":"#eceff4","editor.selectionBackground":"#434c5ecc","editor.selectionHighlightBackground":"#434c5ecc","editor.rangeHighlightBackground":"#434c5e52","editor.wordHighlightBackground":"#81a1c166","editor.wordHighlightStrongBackground":"#81a1c199","editor.stackFrameHighlightBackground":"#5e81ac","editor.focusedStackFrameHighlightBackground":"#5e81ac","editorError.foreground":"#bf616a","editorError.border":"#bf616a00","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b00","editorBracketMatch.background":"#2e344000","editorBracketMatch.border":"#88c0d0","editorBracketHighlight.foreground1":"#8fbcbb","editorBracketHighlight.foreground2":"#88c0d0","editorBracketHighlight.foreground3":"#81a1c1","editorBracketHighlight.foreground4":"#5e81ac","editorBracketHighlight.foreground5":"#8fbcbb","editorBracketHighlight.foreground6":"#88c0d0","editorBracketHighlight.unexpectedBracket.foreground":"#bf616a","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b425201","editorGroup.dropBackground":"#3b425299","editorGroupHeader.border":"#3b425200","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b425200","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81acc0","editorMarkerNavigationError.background":"#bf616ac0","editorMarkerNavigationWarning.background":"#ebcb8bc0","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d066","editorOverviewRuler.rangeHighlightForeground":"#88c0d066","editorOverviewRuler.selectionHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightForeground":"#88c0d066","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d066","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.focusHighlightForeground":"#88c0d0","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e","editorSuggestWidget.selectedForeground":"#d8dee9","extensionButton.prominentForeground":"#d8dee9","extensionButton.prominentBackground":"#434c5e","extensionButton.prominentHoverBackground":"#4c566a",errorForeground:"#bf616a","gitDecoration.modifiedResourceForeground":"#ebcb8b","gitDecoration.deletedResourceForeground":"#bf616a","gitDecoration.untrackedResourceForeground":"#a3be8c","gitDecoration.ignoredResourceForeground":"#d8dee966","gitDecoration.conflictingResourceForeground":"#5e81ac","gitDecoration.submoduleResourceForeground":"#8fbcbb","gitDecoration.stageDeletedResourceForeground":"#bf616a","gitDecoration.stageModifiedResourceForeground":"#ebcb8b","input.background":"#3b4252","input.foreground":"#d8dee9","input.placeholderForeground":"#d8dee999","input.border":"#3b4252","inputOption.activeBackground":"#5e81ac","inputOption.activeBorder":"#5e81ac","inputOption.activeForeground":"#eceff4","inputValidation.errorBackground":"#bf616a","inputValidation.errorBorder":"#bf616a","inputValidation.infoBackground":"#81a1c1","inputValidation.infoBorder":"#81a1c1","inputValidation.warningBackground":"#d08770","inputValidation.warningBorder":"#d08770","keybindingLabel.background":"#4c566a","keybindingLabel.border":"#4c566a","keybindingLabel.bottomBorder":"#4c566a","keybindingLabel.foreground":"#d8dee9","list.activeSelectionBackground":"#88c0d0","list.activeSelectionForeground":"#2e3440","list.inactiveSelectionBackground":"#434c5e","list.inactiveSelectionForeground":"#d8dee9","list.inactiveFocusBackground":"#434c5ecc","list.hoverForeground":"#eceff4","list.focusForeground":"#d8dee9","list.focusBackground":"#88c0d099","list.focusHighlightForeground":"#eceff4","list.hoverBackground":"#3b4252","list.dropBackground":"#88c0d099","list.highlightForeground":"#88c0d0","list.errorForeground":"#bf616a","list.warningForeground":"#ebcb8b","merge.currentHeaderBackground":"#81a1c166","merge.currentContentBackground":"#81a1c14d","merge.incomingHeaderBackground":"#8fbcbb66","merge.incomingContentBackground":"#8fbcbb4d","merge.border":"#3b425200","minimap.background":"#2e3440","minimap.errorHighlight":"#bf616acc","minimap.findMatchHighlight":"#88c0d0","minimap.selectionHighlight":"#88c0d0cc","minimap.warningHighlight":"#ebcb8bcc","minimapGutter.addedBackground":"#a3be8c","minimapGutter.deletedBackground":"#bf616a","minimapGutter.modifiedBackground":"#ebcb8b","minimapSlider.activeBackground":"#434c5eaa","minimapSlider.background":"#434c5e99","minimapSlider.hoverBackground":"#434c5eaa","notification.background":"#3b4252","notification.buttonBackground":"#434c5e","notification.buttonForeground":"#d8dee9","notification.buttonHoverBackground":"#4c566a","notification.errorBackground":"#bf616a","notification.errorForeground":"#2e3440","notification.foreground":"#d8dee9","notification.infoBackground":"#88c0d0","notification.infoForeground":"#2e3440","notification.warningBackground":"#ebcb8b","notification.warningForeground":"#2e3440","notificationCenter.border":"#3b425200","notificationCenterHeader.background":"#2e3440","notificationCenterHeader.foreground":"#88c0d0","notificationLink.foreground":"#88c0d0","notifications.background":"#3b4252","notifications.border":"#2e3440","notifications.foreground":"#d8dee9","notificationToast.border":"#3b425200","panel.background":"#2e3440","panel.border":"#3b4252","panelTitle.activeBorder":"#88c0d000","panelTitle.activeForeground":"#88c0d0","panelTitle.inactiveForeground":"#d8dee9","peekView.border":"#4c566a","peekViewEditor.background":"#2e3440","peekViewEditorGutter.background":"#2e3440","peekViewEditor.matchHighlightBackground":"#88c0d04d","peekViewResult.background":"#2e3440","peekViewResult.fileForeground":"#88c0d0","peekViewResult.lineForeground":"#d8dee966","peekViewResult.matchHighlightBackground":"#88c0d0cc","peekViewResult.selectionBackground":"#434c5e","peekViewResult.selectionForeground":"#d8dee9","peekViewTitle.background":"#3b4252","peekViewTitleDescription.foreground":"#d8dee9","peekViewTitleLabel.foreground":"#88c0d0","pickerGroup.border":"#3b4252","pickerGroup.foreground":"#88c0d0","progressBar.background":"#88c0d0","quickInputList.focusBackground":"#88c0d0","quickInputList.focusForeground":"#2e3440","sash.hoverBorder":"#88c0d0","scrollbar.shadow":"#00000066","scrollbarSlider.activeBackground":"#434c5eaa","scrollbarSlider.background":"#434c5e99","scrollbarSlider.hoverBackground":"#434c5eaa","selection.background":"#88c0d099","sideBar.background":"#2e3440","sideBar.foreground":"#d8dee9","sideBar.border":"#3b4252","sideBarSectionHeader.background":"#3b4252","sideBarSectionHeader.foreground":"#d8dee9","sideBarTitle.foreground":"#d8dee9","statusBar.background":"#3b4252","statusBar.debuggingBackground":"#5e81ac","statusBar.debuggingForeground":"#d8dee9","statusBar.noFolderForeground":"#d8dee9","statusBar.noFolderBackground":"#3b4252","statusBar.foreground":"#d8dee9","statusBarItem.activeBackground":"#4c566a","statusBarItem.hoverBackground":"#434c5e","statusBarItem.prominentBackground":"#3b4252","statusBarItem.prominentHoverBackground":"#434c5e","statusBarItem.errorBackground":"#3b4252","statusBarItem.errorForeground":"#bf616a","statusBarItem.warningBackground":"#ebcb8b","statusBarItem.warningForeground":"#2e3440","statusBar.border":"#3b425200","tab.activeBackground":"#3b4252","tab.activeForeground":"#d8dee9","tab.border":"#3b425200","tab.activeBorder":"#88c0d000","tab.unfocusedActiveBorder":"#88c0d000","tab.inactiveBackground":"#2e3440","tab.inactiveForeground":"#d8dee966","tab.unfocusedActiveForeground":"#d8dee999","tab.unfocusedInactiveForeground":"#d8dee966","tab.hoverBackground":"#3b4252cc","tab.unfocusedHoverBackground":"#3b4252b3","tab.hoverBorder":"#88c0d000","tab.unfocusedHoverBorder":"#88c0d000","tab.activeBorderTop":"#88c0d000","tab.unfocusedActiveBorderTop":"#88c0d000","tab.lastPinnedBorder":"#4c566a","terminal.background":"#2e3440","terminal.foreground":"#d8dee9","terminal.ansiBlack":"#3b4252","terminal.ansiRed":"#bf616a","terminal.ansiGreen":"#a3be8c","terminal.ansiYellow":"#ebcb8b","terminal.ansiBlue":"#81a1c1","terminal.ansiMagenta":"#b48ead","terminal.ansiCyan":"#88c0d0","terminal.ansiWhite":"#e5e9f0","terminal.ansiBrightBlack":"#4c566a","terminal.ansiBrightRed":"#bf616a","terminal.ansiBrightGreen":"#a3be8c","terminal.ansiBrightYellow":"#ebcb8b","terminal.ansiBrightBlue":"#81a1c1","terminal.ansiBrightMagenta":"#b48ead","terminal.ansiBrightCyan":"#8fbcbb","terminal.ansiBrightWhite":"#eceff4","terminal.tab.activeBorder":"#88c0d0","textBlockQuote.background":"#3b4252","textBlockQuote.border":"#81a1c1","textCodeBlock.background":"#4c566a","textLink.activeForeground":"#88c0d0","textLink.foreground":"#88c0d0","textPreformat.foreground":"#8fbcbb","textSeparator.foreground":"#eceff4","titleBar.activeBackground":"#2e3440","titleBar.activeForeground":"#d8dee9","titleBar.border":"#2e344000","titleBar.inactiveBackground":"#2e3440","titleBar.inactiveForeground":"#d8dee966","tree.indentGuidesStroke":"#616e88","walkThrough.embeddedEditorBackground":"#2e3440","welcomePage.buttonBackground":"#434c5e","welcomePage.buttonHoverBackground":"#4c566a","widget.shadow":"#00000066"},tokenColors:[{settings:{foreground:"#d8dee9ff",background:"#2e3440ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{name:"Comment",scope:"comment",settings:{foreground:"#616E88"}},{name:"Constant Character",scope:"constant.character",settings:{foreground:"#EBCB8B"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#EBCB8B"}},{name:"Constant Language",scope:"constant.language",settings:{foreground:"#81A1C1"}},{name:"Constant Numeric",scope:"constant.numeric",settings:{foreground:"#B48EAD"}},{name:"Constant Regexp",scope:"constant.regexp",settings:{foreground:"#EBCB8B"}},{name:"Entity Name Class/Type",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#8FBCBB"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#88C0D0"}},{name:"Entity Name Tag",scope:"entity.name.tag",settings:{foreground:"#81A1C1"}},{name:"Entity Other Attribute Name",scope:"entity.other.attribute-name",settings:{foreground:"#8FBCBB"}},{name:"Entity Other Inherited Class",scope:"entity.other.inherited-class",settings:{fontStyle:"bold",foreground:"#8FBCBB"}},{name:"Invalid Deprecated",scope:"invalid.deprecated",settings:{foreground:"#D8DEE9",background:"#EBCB8B"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#D8DEE9",background:"#BF616A"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#81A1C1"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#81A1C1"}},{name:"Keyword Other New",scope:"keyword.other.new",settings:{foreground:"#81A1C1"}},{name:"Markup Bold",scope:"markup.bold",settings:{fontStyle:"bold"}},{name:"Markup Changed",scope:"markup.changed",settings:{foreground:"#EBCB8B"}},{name:"Markup Deleted",scope:"markup.deleted",settings:{foreground:"#BF616A"}},{name:"Markup Inserted",scope:"markup.inserted",settings:{foreground:"#A3BE8C"}},{name:"Meta Preprocessor",scope:"meta.preprocessor",settings:{foreground:"#5E81AC"}},{name:"Punctuation",scope:"punctuation",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Parameters",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters"],settings:{foreground:"#ECEFF4"}},{name:"Punctuation Definition Tag",scope:"punctuation.definition.tag",settings:{foreground:"#81A1C1"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment","punctuation.end.definition.comment","punctuation.start.definition.comment"],settings:{foreground:"#616E88"}},{name:"Punctuation Section",scope:"punctuation.section",settings:{foreground:"#ECEFF4"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#81A1C1"}},{name:"Punctuation Terminator",scope:"punctuation.terminator",settings:{foreground:"#81A1C1"}},{name:"Punctuation Variable",scope:"punctuation.definition.variable",settings:{foreground:"#81A1C1"}},{name:"Storage",scope:"storage",settings:{foreground:"#81A1C1"}},{name:"String",scope:"string",settings:{foreground:"#A3BE8C"}},{name:"String Regexp",scope:"string.regexp",settings:{foreground:"#EBCB8B"}},{name:"Support Class",scope:"support.class",settings:{foreground:"#8FBCBB"}},{name:"Support Constant",scope:"support.constant",settings:{foreground:"#81A1C1"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#88C0D0"}},{name:"Support Function Construct",scope:"support.function.construct",settings:{foreground:"#81A1C1"}},{name:"Support Type",scope:"support.type",settings:{foreground:"#8FBCBB"}},{name:"Support Type Exception",scope:"support.type.exception",settings:{foreground:"#8FBCBB"}},{name:"Token Debug",scope:"token.debug-token",settings:{foreground:"#b48ead"}},{name:"Token Error",scope:"token.error-token",settings:{foreground:"#bf616a"}},{name:"Token Info",scope:"token.info-token",settings:{foreground:"#88c0d0"}},{name:"Token Warning",scope:"token.warn-token",settings:{foreground:"#ebcb8b"}},{name:"Variable",scope:"variable.other",settings:{foreground:"#D8DEE9"}},{name:"Variable Language",scope:"variable.language",settings:{foreground:"#81A1C1"}},{name:"Variable Parameter",scope:"variable.parameter",settings:{foreground:"#D8DEE9"}},{name:"[C/CPP] Punctuation Separator Pointer-Access",scope:"punctuation.separator.pointer-access.c",settings:{foreground:"#81A1C1"}},{name:"[C/CPP] Meta Preprocessor Include",scope:["source.c meta.preprocessor.include","source.c string.quoted.other.lt-gt.include"],settings:{foreground:"#8FBCBB"}},{name:"[C/CPP] Conditional Directive",scope:["source.cpp keyword.control.directive.conditional","source.cpp punctuation.definition.directive","source.c keyword.control.directive.conditional","source.c punctuation.definition.directive"],settings:{foreground:"#5E81AC",fontStyle:"bold"}},{name:"[CSS] Constant Other Color RGB Value",scope:"source.css constant.other.color.rgb-value",settings:{foreground:"#B48EAD"}},{name:"[CSS](Function) Meta Property-Value",scope:"source.css meta.property-value",settings:{foreground:"#88C0D0"}},{name:"[CSS] Media Queries",scope:["source.css keyword.control.at-rule.media","source.css keyword.control.at-rule.media punctuation.definition.keyword"],settings:{foreground:"#D08770"}},{name:"[CSS] Punctuation Definition Keyword",scope:"source.css punctuation.definition.keyword",settings:{foreground:"#81A1C1"}},{name:"[CSS] Support Type Property Name",scope:"source.css support.type.property-name",settings:{foreground:"#D8DEE9"}},{name:"[diff] Meta Range Context",scope:"source.diff meta.diff.range.context",settings:{foreground:"#8FBCBB"}},{name:"[diff] Meta Header From-File",scope:"source.diff meta.diff.header.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition From-File",scope:"source.diff punctuation.definition.from-file",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Range",scope:"source.diff punctuation.definition.range",settings:{foreground:"#8FBCBB"}},{name:"[diff] Punctuation Definition Separator",scope:"source.diff punctuation.definition.separator",settings:{foreground:"#81A1C1"}},{name:"[Elixir](JakeBecker.elixir-ls) module names",scope:"entity.name.type.module.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Elixir](JakeBecker.elixir-ls) module attributes",scope:"variable.other.readwrite.module.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) atoms",scope:"constant.other.symbol.elixir",settings:{foreground:"#D8DEE9",fontStyle:"bold"}},{name:"[Elixir](JakeBecker.elixir-ls) modules",scope:"variable.other.constant.elixir",settings:{foreground:"#8FBCBB"}},{name:"[Go] String Format Placeholder",scope:"source.go constant.other.placeholder.go",settings:{foreground:"#EBCB8B"}},{name:"[Java](JavaDoc) Comment Block Documentation HTML Entities",scope:"source.java comment.block.documentation.javadoc punctuation.definition.entity.html",settings:{foreground:"#81A1C1"}},{name:"[Java](JavaDoc) Constant Other",scope:"source.java constant.other",settings:{foreground:"#D8DEE9"}},{name:"[Java](JavaDoc) Keyword Other Documentation",scope:"source.java keyword.other.documentation",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Author",scope:"source.java keyword.other.documentation.author.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation Directive/Custom",scope:["source.java keyword.other.documentation.directive","source.java keyword.other.documentation.custom"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Keyword Other Documentation See",scope:"source.java keyword.other.documentation.see.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java] Meta Method-Call",scope:"source.java meta.method-call meta.method",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Meta Tag Template Link",scope:["source.java meta.tag.template.link.javadoc","source.java string.other.link.title.javadoc"],settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Meta Tag Template Value",scope:"source.java meta.tag.template.value.javadoc",settings:{foreground:"#88C0D0"}},{name:"[Java](JavaDoc) Punctuation Definition Keyword",scope:"source.java punctuation.definition.keyword.javadoc",settings:{foreground:"#8FBCBB"}},{name:"[Java](JavaDoc) Punctuation Definition Tag",scope:["source.java punctuation.definition.tag.begin.javadoc","source.java punctuation.definition.tag.end.javadoc"],settings:{foreground:"#616E88"}},{name:"[Java] Storage Modifier Import",scope:"source.java storage.modifier.import",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Modifier Package",scope:"source.java storage.modifier.package",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type",scope:"source.java storage.type",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Annotation",scope:"source.java storage.type.annotation",settings:{foreground:"#D08770"}},{name:"[Java] Storage Type Generic",scope:"source.java storage.type.generic",settings:{foreground:"#8FBCBB"}},{name:"[Java] Storage Type Primitive",scope:"source.java storage.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Decorator",scope:["source.js punctuation.decorator","source.js meta.decorator variable.other.readwrite","source.js meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[JavaScript] Meta Object-Literal Key",scope:"source.js meta.object-literal.key",settings:{foreground:"#88C0D0"}},{name:"[JavaScript](JSDoc) Storage Type Class",scope:"source.js storage.type.class.jsdoc",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] String Template Literals Punctuation",scope:["source.js string.quoted.template punctuation.quasi.element.begin","source.js string.quoted.template punctuation.quasi.element.end","source.js string.template punctuation.definition.template-expression"],settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Interpolated String Template Punctuation Functions",scope:"source.js string.quoted.template meta.method-call.with-arguments",settings:{foreground:"#ECEFF4"}},{name:"[JavaScript] String Template Literal Variable",scope:["source.js string.template meta.template.expression support.variable.property","source.js string.template meta.template.expression variable.other.object"],settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Support Type Primitive",scope:"source.js support.type.primitive",settings:{foreground:"#81A1C1"}},{name:"[JavaScript] Variable Other Object",scope:"source.js variable.other.object",settings:{foreground:"#D8DEE9"}},{name:"[JavaScript] Variable Other Read-Write Alias",scope:"source.js variable.other.readwrite.alias",settings:{foreground:"#8FBCBB"}},{name:"[JavaScript] Parentheses in Template Strings",scope:["source.js meta.embedded.line meta.brace.square","source.js meta.embedded.line meta.brace.round","source.js string.quoted.template meta.brace.square","source.js string.quoted.template meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[HTML] Constant Character Entity",scope:"text.html.basic constant.character.entity.html",settings:{foreground:"#EBCB8B"}},{name:"[HTML] Constant Other Inline-Data",scope:"text.html.basic constant.other.inline-data",settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[HTML] Meta Tag SGML Doctype",scope:"text.html.basic meta.tag.sgml.doctype",settings:{foreground:"#5E81AC"}},{name:"[HTML] Punctuation Definition Entity",scope:"text.html.basic punctuation.definition.entity",settings:{foreground:"#81A1C1"}},{name:"[INI] Entity Name Section Group-Title",scope:"source.properties entity.name.section.group-title.ini",settings:{foreground:"#88C0D0"}},{name:"[INI] Punctuation Separator Key-Value",scope:"source.properties punctuation.separator.key-value.ini",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Fenced Code Block",scope:["text.html.markdown markup.fenced_code.block","text.html.markdown markup.fenced_code.block punctuation.definition"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Heading",scope:"markup.heading",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Inline",scope:["text.html.markdown markup.inline.raw","text.html.markdown markup.inline.raw punctuation.definition.raw"],settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Italic",scope:"text.html.markdown markup.italic",settings:{fontStyle:"italic"}},{name:"[Markdown] Markup Link",scope:"text.html.markdown markup.underline.link",settings:{fontStyle:"underline"}},{name:"[Markdown] Markup List Numbered/Unnumbered",scope:"text.html.markdown beginning.punctuation.definition.list",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown beginning.punctuation.definition.quote",settings:{foreground:"#8FBCBB"}},{name:"[Markdown] Markup Quote Punctuation Definition",scope:"text.html.markdown markup.quote",settings:{foreground:"#616E88"}},{name:"[Markdown] Markup Math Constant",scope:"text.html.markdown constant.character.math.tex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Markup Math Definition Marker",scope:["text.html.markdown punctuation.definition.math.begin","text.html.markdown punctuation.definition.math.end"],settings:{foreground:"#5E81AC"}},{name:"[Markdown] Markup Math Function Definition Marker",scope:"text.html.markdown punctuation.definition.function.math.tex",settings:{foreground:"#88C0D0"}},{name:"[Markdown] Markup Math Operator",scope:"text.html.markdown punctuation.math.operator.latex",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Heading",scope:"text.html.markdown punctuation.definition.heading",settings:{foreground:"#81A1C1"}},{name:"[Markdown] Punctuation Definition Constant/String",scope:["text.html.markdown punctuation.definition.constant","text.html.markdown punctuation.definition.string"],settings:{foreground:"#81A1C1"}},{name:"[Markdown] String Other Link Description/Title",scope:["text.html.markdown constant.other.reference.link","text.html.markdown string.other.link.description","text.html.markdown string.other.link.title"],settings:{foreground:"#88C0D0"}},{name:"[Perl] Perl Sigils",scope:"source.perl punctuation.definition.variable",settings:{foreground:"#D8DEE9"}},{name:"[PHP] Meta Function-Call Object",scope:["source.php meta.function-call","source.php meta.function-call.object"],settings:{foreground:"#88C0D0"}},{name:"[Python] Decorator",scope:["source.python entity.name.function.decorator","source.python meta.function.decorator support.type"],settings:{foreground:"#D08770"}},{name:"[Python] Function Call",scope:"source.python meta.function-call.generic",settings:{foreground:"#88C0D0"}},{name:"[Python] Support Type",scope:"source.python support.type",settings:{foreground:"#88C0D0"}},{name:"[Python] Function Parameter",scope:["source.python variable.parameter.function.language"],settings:{foreground:"#D8DEE9"}},{name:"[Python] Function Parameter Special",scope:["source.python meta.function.parameters variable.parameter.function.language.special.self"],settings:{foreground:"#81A1C1"}},{name:"[Rust] Entity types",scope:"source.rust entity.name.type",settings:{foreground:"#8FBCBB"}},{name:"[Rust] Macro",scope:"source.rust meta.macro entity.name.function",settings:{fontStyle:"bold",foreground:"#88C0D0"}},{name:"[Rust] Attributes",scope:["source.rust meta.attribute","source.rust meta.attribute punctuation","source.rust meta.attribute keyword.operator"],settings:{foreground:"#5E81AC"}},{name:"[Rust] Traits",scope:"source.rust entity.name.type.trait",settings:{fontStyle:"bold"}},{name:"[Rust] Interpolation Bracket Curly",scope:"source.rust punctuation.definition.interpolation",settings:{foreground:"#EBCB8B"}},{name:"[SCSS] Punctuation Definition Interpolation Bracket Curly",scope:["source.css.scss punctuation.definition.interpolation.begin.bracket.curly","source.css.scss punctuation.definition.interpolation.end.bracket.curly"],settings:{foreground:"#81A1C1"}},{name:"[SCSS] Variable Interpolation",scope:"source.css.scss variable.interpolation",settings:{foreground:"#D8DEE9",fontStyle:"italic"}},{name:"[TypeScript] Decorators",scope:["source.ts punctuation.decorator","source.ts meta.decorator variable.other.readwrite","source.ts meta.decorator entity.name.function","source.tsx punctuation.decorator","source.tsx meta.decorator variable.other.readwrite","source.tsx meta.decorator entity.name.function"],settings:{foreground:"#D08770"}},{name:"[TypeScript] Object-literal keys",scope:["source.ts meta.object-literal.key","source.tsx meta.object-literal.key"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Object-literal functions",scope:["source.ts meta.object-literal.key entity.name.function","source.tsx meta.object-literal.key entity.name.function"],settings:{foreground:"#88C0D0"}},{name:"[TypeScript] Type/Class",scope:["source.ts support.class","source.ts support.type","source.ts entity.name.type","source.ts entity.name.class","source.tsx support.class","source.tsx support.type","source.tsx entity.name.type","source.tsx entity.name.class"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Static Class Support",scope:["source.ts support.constant.math","source.ts support.constant.dom","source.ts support.constant.json","source.tsx support.constant.math","source.tsx support.constant.dom","source.tsx support.constant.json"],settings:{foreground:"#8FBCBB"}},{name:"[TypeScript] Variables",scope:["source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#D8DEE9"}},{name:"[TypeScript] Parentheses in Template Strings",scope:["source.ts meta.embedded.line meta.brace.square","source.ts meta.embedded.line meta.brace.round","source.tsx meta.embedded.line meta.brace.square","source.tsx meta.embedded.line meta.brace.round"],settings:{foreground:"#ECEFF4"}},{name:"[XML] Entity Name Tag Namespace",scope:"text.xml entity.name.tag.namespace",settings:{foreground:"#8FBCBB"}},{name:"[XML] Keyword Other Doctype",scope:"text.xml keyword.other.doctype",settings:{foreground:"#5E81AC"}},{name:"[XML] Meta Tag Preprocessor",scope:"text.xml meta.tag.preprocessor entity.name.tag",settings:{foreground:"#5E81AC"}},{name:"[XML] Entity Name Tag Namespace",scope:["text.xml string.unquoted.cdata","text.xml string.unquoted.cdata punctuation.definition.string"],settings:{foreground:"#D08770",fontStyle:"italic"}},{name:"[YAML] Entity Name Tag",scope:"source.yaml entity.name.tag",settings:{foreground:"#8FBCBB"}}]},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/home/runner/work/docs/docs/docs/cadence/tutorial/06-fungible-tokens.mdx"};function h(e){const o=Object.assign({p:"p",hr:"hr",a:"a",h2:"h2",h3:"h3",ol:"ol",li:"li",code:"code",strong:"strong",h1:"h1",ul:"ul",img:"img"},(0,r.ah)(),e.components),{Callout:s}=o;return d||E("CH",!1),d.Code||E("CH.Code",!0),s||E("Callout",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{children:"In this tutorial, we're going to deploy, store, and transfer fungible tokens."}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsxs)(s,{type:"success",children:[(0,n.jsx)(o.p,{children:"Open the starter code for this tutorial in the Flow Playground:"}),(0,n.jsx)("br",{}),(0,n.jsx)("a",{href:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363",target:"_blank",children:(0,n.jsx)(o.p,{children:(0,n.jsx)(o.a,{href:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363",children:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363"})})}),(0,n.jsx)("br",{}),(0,n.jsx)(o.p,{children:"The tutorial will ask you to take various actions to interact with this code."})]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsx)(o.p,{children:"Instructions that require you to take action are always included in a callout\nbox like this one. These highlighted actions are all that you need to do to\nget your code running, but reading the rest is necessary to understand the\nlanguage's design."})}),"\n",(0,n.jsx)(o.h2,{id:"follow-along",children:"Follow Along!"}),"\n",(0,n.jsx)(o.p,{children:"Developer advocate Kim dives deep on an array of topics, building on top of the information she shared in the Hello World tutorial. Learn core concepts such as creating a fungible token smart contract by using resources, resource interfaces, and using transactions to mint and transfer tokens!"}),"\n",(0,n.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/DInibYmxUsc",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"Some of the most popular contract classes on blockchains today are fungible tokens.\nThese contracts create homogeneous tokens that can be transferred to other users and spent as currency (e.g., ERC-20 on Ethereum)."}),"\n",(0,n.jsx)(o.p,{children:"In traditional software and smart contracts, balances for each user are tracked by a central ledger, such as a dictionary:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// DO NOT USE THIS CODE FOR YOUR PROJECT",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"contract",props:{style:{color:"#81A1C1"}}},{content:" LedgerToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // Tracks every user's balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    access",props:{style:{color:"#88C0D0"}}},{content:"(contract",props:{style:{color:"#D8DEE9FF"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"let",props:{style:{color:"#81A1C1"}}},{content:" balances: {",props:{style:{color:"#D8DEE9FF"}}},{content:"Address",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:"}",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Transfer tokens from one user to the other",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // by updating their balances in the central ledger",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"transfer",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Address",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"to",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Address",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        balances[",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" balances[",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:"] ",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        balances[to] ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" balances[to] ",props:{style:{color:"#D8DEE9FF"}}},{content:"+",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["With Cadence, we use the new resource-oriented paradigm to implement fungible tokens and avoid using a central ledger\nbecause there are inherent problems with using a central ledger\nthat are detailed in ",(0,n.jsx)(o.a,{href:"#fungible-tokens-an-in-depth-exploration",children:"the Fungible Tokens section below."})]}),"\n",(0,n.jsx)(o.h3,{id:"flow-network-token",children:"Flow Network Token"}),"\n",(0,n.jsxs)(o.p,{children:["In Flow, the native network token\n",(0,n.jsx)(o.a,{href:"https://github.com/onflow/flow-core-contracts/blob/master/contracts/FlowToken.cdc",children:"(FLOW) is implemented as a normal fungible token smart contract"}),"\nusing a smart contract similar to the one in this tutorial."]}),"\n",(0,n.jsx)(o.p,{children:"There are special transactions and hooks that allow it to be used for transaction execution fees, storage fees, and staking,\nbut besides that, developers and users are able to treat it and use it just like any other token in the network!"}),"\n",(0,n.jsx)(s,{type:"warning",children:(0,n.jsxs)(o.p,{children:["It is important to remember that while this tutorial implements a working\nfungible token, it has been simplified for educational purposes and is not\nwhat any project should use in production. See the\n",(0,n.jsx)("a",{href:"https://github.com/onflow/flow-ft",target:"_blank",children:"Flow Fungible Token standard"}),"\nfor the standard interface and example implementation."]})}),"\n",(0,n.jsx)(o.p,{children:"We're going to take you through these steps to get comfortable with the fungible token:"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Deploy the fungible token contract to account ",(0,n.jsx)(o.code,{children:"0x01"})]}),"\n",(0,n.jsx)(o.li,{children:"Create a fungible token object and store it in your account storage."}),"\n",(0,n.jsx)(o.li,{children:"Create a reference to your tokens that others can use to send you tokens."}),"\n",(0,n.jsx)(o.li,{children:"Set up another account the same way."}),"\n",(0,n.jsx)(o.li,{children:"Transfer tokens from one account to another."}),"\n",(0,n.jsx)(o.li,{children:"Use a script to read the accounts' balances."}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Before proceeding with this tutorial"}),", we recommend following the instructions in ",(0,n.jsx)(o.a,{href:"/docs/next/cadence/tutorial/first-steps",children:"Getting Started"}),"\nand ",(0,n.jsx)(o.a,{href:"/docs/next/cadence/tutorial/hello-world",children:"Hello, World!"})," to learn the basics of the language and the playground."]}),"\n",(0,n.jsx)(o.h1,{id:"fungible-tokens-on-the-flow-emulator",children:"Fungible Tokens on the Flow Emulator"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsxs)(s,{type:"info",children:[(0,n.jsxs)(o.p,{children:["First, you'll need to follow this link to open a playground session with the\nFungible Token contracts, transactions, and scripts pre-loaded:"," "]}),(0,n.jsx)("a",{href:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363",target:"_blank",children:(0,n.jsx)(o.p,{children:(0,n.jsx)(o.a,{href:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363",children:"https://play.onflow.org/e63bfce9-3324-4385-9542-626845ae0363"})})})]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Open the account ",(0,n.jsx)(o.code,{children:"0x01"})," tab to see the file named\n",(0,n.jsx)(o.code,{children:"BasicToken.cdc"}),". ",(0,n.jsx)(o.code,{children:"BasicToken.cdc"})," should contain the full code for the\nfungible token, which provides the core functionality to store fungible tokens\nin your account and transfer to and accept tokens from other users."]})}),"\n",(0,n.jsx)(o.p,{children:"The concepts involved in implementing a fungible token in Cadence can be unfamiliar at first.\nFor an in-depth explanation of this functionality and code, continue reading the next section."}),"\n",(0,n.jsxs)(o.p,{children:["Or, if you'd like to go immediately into deploying it and using it in the playground,\nyou can skip to the ",(0,n.jsx)(o.a,{href:"#interacting-with-the-fungible-token-in-the-flow-playground",children:"Interacting with the Fungible Token"})," section of this tutorial."]}),"\n",(0,n.jsx)(o.h1,{id:"fungible-tokens-an-in-depth-exploration",children:"Fungible Tokens: An In-Depth Exploration"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"How Flow implements fungible tokens is different from other programming languages. As a result:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Ownership is decentralized and does not rely on a central ledger"}),"\n",(0,n.jsx)(o.li,{children:"Bugs and exploits present less risk for users and less opportunity for attackers"}),"\n",(0,n.jsx)(o.li,{children:"There is no risk of integer underflow or overflow"}),"\n",(0,n.jsx)(o.li,{children:"Assets cannot be duplicated, and it is very hard for them to be lost, stolen, or destroyed"}),"\n",(0,n.jsx)(o.li,{children:"Code can be composable"}),"\n",(0,n.jsx)(o.li,{children:"Rules can be immutable"}),"\n",(0,n.jsx)(o.li,{children:"Code is not unintentionally made public"}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"decentralizing-ownership",children:"Decentralizing Ownership"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"Instead of using a central ledger system, Flow ties ownership to each account via a new paradigm for asset ownership.\nThe example below showcases how Solidity (the smart contract language for the Ethereum Blockchain, among others)\nimplements fungible tokens, with only the code for storage and transferring tokens shown for brevity."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["ERC20.sol"],active:"ERC20.sol",heightRatio:1},files:[{name:"ERC20.sol",focus:"",code:{lines:[{tokens:[{content:"contract",props:{style:{color:"#81A1C1"}}},{content:" ERC20 ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // Maps user addresses to balances, similar to a dictionary in Cadence",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    mapping ",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"address ",props:{style:{color:"#8FBCBB"}}},{content:"=> ",props:{style:{color:"#81A1C1"}}},{content:"uint256",props:{style:{color:"#8FBCBB"}}},{content:") ",props:{style:{color:"#ECEFF4"}}},{content:"private",props:{style:{color:"#81A1C1"}}},{content:" _balances",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    function ",props:{style:{color:"#81A1C1"}}},{content:"_transfer",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"address ",props:{style:{color:"#8FBCBB"}}},{content:"sender",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"address ",props:{style:{color:"#8FBCBB"}}},{content:"recipient",props:{style:{color:"#D8DEE9"}}},{content:", ",props:{style:{color:"#ECEFF4"}}},{content:"uint256 ",props:{style:{color:"#8FBCBB"}}},{content:"amount",props:{style:{color:"#D8DEE9"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // ensure the sender has a valid balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        require",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"_balances",props:{style:{color:"#D8DEE9FF"}}},{content:"[",props:{style:{color:"#ECEFF4"}}},{content:"sender",props:{style:{color:"#D8DEE9FF"}}},{content:"] ",props:{style:{color:"#ECEFF4"}}},{content:">=",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // subtract the amount from the senders ledger balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        _balances",props:{style:{color:"#D8DEE9FF"}}},{content:"[",props:{style:{color:"#ECEFF4"}}},{content:"sender",props:{style:{color:"#D8DEE9FF"}}},{content:"] ",props:{style:{color:"#ECEFF4"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" _balances",props:{style:{color:"#D8DEE9FF"}}},{content:"[",props:{style:{color:"#ECEFF4"}}},{content:"sender",props:{style:{color:"#D8DEE9FF"}}},{content:"] ",props:{style:{color:"#ECEFF4"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:";",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // add the amount to the recipient\u2019s ledger balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        _balances",props:{style:{color:"#D8DEE9FF"}}},{content:"[",props:{style:{color:"#ECEFF4"}}},{content:"recipient",props:{style:{color:"#D8DEE9FF"}}},{content:"] ",props:{style:{color:"#ECEFF4"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" _balances",props:{style:{color:"#D8DEE9FF"}}},{content:"[",props:{style:{color:"#ECEFF4"}}},{content:"recipient",props:{style:{color:"#D8DEE9FF"}}},{content:"] ",props:{style:{color:"#ECEFF4"}}},{content:"+",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"solidity"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"As you can see, Solidity uses a central ledger system for its fungible tokens. There is one contract that manages the state of the tokens\nand every time that a user wants to do anything with their tokens, they have to interact with the central ERC20 contract,\ncalling its functions to update their balance. This contract handles access control for all functionality, implements all of its own correctness checks,\nand enforces rules for all of its users."}),"\n",(0,n.jsx)(o.p,{children:"Instead of using a central ledger system, Flow utilizes a few different concepts\nto provide better safety, security, and clarity for smart contract developers and users.\nIn this section, we'll show how Flow's resources, interfaces, and other features are employed via a fungible token example."}),"\n",(0,n.jsx)(o.h2,{id:"intuiting-ownership-with-resources",children:"Intuiting Ownership with Resources"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsxs)(o.p,{children:["An important concept in Cadence is ",(0,n.jsx)(o.strong,{children:"Resources"}),", which are linear types.\nA resource is a composite type (like a struct) that has its own defined fields and functions.\nThe difference is that resource objects have special rules that keep them from being copied or lost.\nResources are a new paradigm for asset ownership. Instead of representing token ownership in a central ledger smart contract,\neach account owns its own resource object in its account storage that records the number of tokens they own.\nThis way, when users want to transact with each other, they can do so peer-to-peer without having to interact with a central token contract.\nTo transfer tokens to each other, they call a ",(0,n.jsx)(o.code,{children:"transfer"})," function (or something equivalent)\non their own resource object and other users' resources, instead of a central ",(0,n.jsx)(o.code,{children:"transfer"})," function."]}),"\n",(0,n.jsx)(o.p,{children:"This approach simplifies access control because instead of a central contract having to check the sender of a function call,\nmost function calls happen on resource objects stored in users' account,\nand each user controls who is able to call the functions on resources in their account.\nThis concept, called Capability-based security, will be explained more in a later section."}),"\n",(0,n.jsx)(o.p,{children:"This approach also helps protect against potential bugs. In a Solidity contract with all the logic and state contained in a central contract,\nan exploit is likely to affect all users who are involved in the contract."}),"\n",(0,n.jsx)(o.p,{children:"In Cadence, if there is a bug in the resource logic, an attacker would have to exploit the bug in each token holder's account individually,\nwhich is much more complicated and time-consuming than it is in a central ledger system."}),"\n",(0,n.jsxs)(o.p,{children:["Below is an example of a resource for a fungible token vault. Every user who owns these tokens would have this resource stored in their account.\nIt is important to remember that each account stores only a copy of the ",(0,n.jsx)(o.code,{children:"Vault"})," resource, and not a copy of the entire ",(0,n.jsx)(o.code,{children:"ExampleToken"})," contract.\nThe ",(0,n.jsx)(o.code,{children:"ExampleToken"})," contract only needs to be stored in the initial account that manages the token definitions."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["Token.cdc"],active:"Token.cdc",heightRatio:1},files:[{name:"Token.cdc",focus:"",code:{lines:[{tokens:[{content:"pub resource",props:{style:{color:"#81A1C1"}}},{content:" Vault",props:{style:{color:"#D8DEE9FF"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"Provider",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"Receiver ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Balance of a user's Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // we use unsigned fixed point numbers for balances",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // because they can represent decimals and do not allow negative values",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub var",props:{style:{color:"#81A1C1"}}},{content:" balance: ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        return <-create ",props:{style:{color:"#81A1C1"}}},{content:"Vault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"+ from",props:{style:{color:"#81A1C1"}}},{content:".balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        destroy from",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"This piece of code is for educational purposes and is not comprehensive. However, it still showcases how a resource for a token works."}),"\n",(0,n.jsx)(o.h3,{id:"token-balances-and-initialization",children:"Token Balances and Initialization"}),"\n",(0,n.jsxs)(o.p,{children:["Each token resource object has a balance and associated functions (e.g., ",(0,n.jsx)(o.code,{children:"deposit"}),", ",(0,n.jsx)(o.code,{children:"withdraw"}),", etc).\nWhen a user wants to use these tokens, they instantiate a zero-balance copy of this resource in their account storage.\nThe language requires that the initialization function ",(0,n.jsx)(o.code,{children:"init"}),", which is only run once, must initialize all member variables."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Balance of a user's Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// we use unsigned fixed-point integers for balances because they do not require the",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// concept of a negative number and allow for more clear precision",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub var",props:{style:{color:"#81A1C1"}}},{content:" balance: ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["If you remove the ",(0,n.jsx)(o.code,{children:"init"})," function from your ",(0,n.jsx)(o.code,{children:"ExampleToken"})," contract, it will cause an error because\nthe balance field is no longer initialized."]}),"\n",(0,n.jsx)(o.h3,{id:"deposit",children:"Deposit"}),"\n",(0,n.jsx)(o.p,{children:"Then, the deposit function is available for any account to transfer tokens to."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"+ from",props:{style:{color:"#81A1C1"}}},{content:".balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    destroy from",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.h3,{id:"transferring-tokens",children:"Transferring Tokens"}),"\n",(0,n.jsx)(o.p,{children:"When an account wants to send tokens to a different account, the sending account calls their own withdraw function first,\nwhich subtracts tokens from their resource\u2019s balance and temporarily creates a new resource object that holds this balance.\nThe sending account then calls the recipient account\u2019s deposit function, which literally moves the resource instance to the other account,\nadds it to their balance, and then destroys the used resource.\nThe resource needs to be destroyed because Cadence enforces strict rules around resource interactions.\nA resource can never be left hanging in a piece of code. It either needs to be explicitly destroyed or stored in an account's storage."}),"\n",(0,n.jsxs)(o.p,{children:["When interacting with resources, you use the ",(0,n.jsx)(o.code,{children:"@"})," symbol to specify the type, and a special \u201cmove operator\u201d ",(0,n.jsx)(o.code,{children:"<-"}),"\nwhen moving the resource, such as assigning the resource, when passing it as an argument to a function, or when returning it from a function."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UInt64",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["This ",(0,n.jsx)(o.code,{children:"@"})," symbol is required when specifying a resource ",(0,n.jsx)(o.strong,{children:"type"})," for a field, an argument, or a return value.\nThe move operator ",(0,n.jsx)(o.code,{children:"<-"})," makes it clear that when a resource is used in an ",(0,n.jsx)(o.strong,{children:"assignment"}),", parameter, or return value,\nit is moved to a new location and the old location is invalidated. This ensures that the resource only ever exists in one location at a time."]}),"\n",(0,n.jsx)(o.p,{children:"If a resource is moved out of an account's storage, it either needs to be moved to an account\u2019s storage or explicitly destroyed."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"destroy from",props:{style:{color:"#81A1C1"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"This rule ensures that resources, which often represent real value, do not get lost because of a coding error."}),"\n",(0,n.jsx)(o.p,{children:"You\u2019ll notice that the arithmetic operations aren't explicitly protected against overflow or underflow."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"In Solidity, this could be a risk for integer overflow or underflow, but Cadence has built-in overflow and underflow protection, so it is not a risk.\nWe are also using unsigned numbers in this example, so as mentioned earlier, the vault`s balance cannot go below 0."}),"\n",(0,n.jsx)(o.p,{children:"Additionally, the requirement that an account contains a copy of the token\u2019s resource type in its storage\nensures that funds cannot be lost by being sent to the wrong address."}),"\n",(0,n.jsx)(o.p,{children:"If an address doesn\u2019t have the correct resource type imported, the transaction will revert, ensuring that transactions sent to the wrong address are not lost."}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Important note: This protection is not in place for the Flow network currency,"}),"\n",(0,n.jsx)(o.strong,{children:"because every Flow account is initialized with a default Flow Token Vault"}),"\n",(0,n.jsxs)(o.strong,{children:["in order to pay for ",(0,n.jsx)(o.a,{href:"/docs/next/concepts/flow-token/concepts#fees",children:"storage fees and transaction fees"}),"."]})]}),"\n",(0,n.jsx)(o.h3,{id:"function-parameters",children:"Function Parameters"}),"\n",(0,n.jsxs)(o.p,{children:["The line in ",(0,n.jsx)(o.code,{children:"withdraw"})," that creates a new ",(0,n.jsx)(o.code,{children:"Vault"})," has the parameter name ",(0,n.jsx)(o.code,{children:"balance"})," specified in the function call."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"return <-create ",props:{style:{color:"#81A1C1"}}},{content:"Vault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"This is another feature that Cadence uses to improve the clarity of code.\nAll function calls are required to specify the names of the arguments they are sending\nunless the developer has specifically overridden the requirement in the funtion declaration."}),"\n",(0,n.jsx)(o.h2,{id:"interacting-with-the-fungible-token-in-the-flow-playground",children:"Interacting with the Fungible Token in the Flow Playground"}),"\n",(0,n.jsx)(o.p,{children:"Now that you have read about how the Fungible Token works,\nwe can deploy a basic version of it to your account and send some transactions to interact with it."}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Make sure that you have opened the Fungible Token templates in the playground\nby following the link at the top of this page. You should have Account ",(0,n.jsx)(o.code,{children:"0x01"}),"\nopen and should see the code below."]})}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// BasicToken.cdc",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// The BasicToken contract is a sample implementation of a fungible token on Flow.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// Fungible tokens behave like everyday currencies -- they can be minted, transferred or",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// traded for digital goods.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// This is a basic implementation of a Fungible Token and is NOT meant to be used in production",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// See the Flow Fungible Token standard for real examples: https://github.com/onflow/flow-ft",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"pub contract",props:{style:{color:"#81A1C1"}}},{content:" BasicToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // Each user stores an instance of only the Vault in their storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // The functions in the Vault are governed by the pre and post conditions",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // in the interfaces when they are called.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // The checks happen at runtime whenever a function is called.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // Resources can only be created in the context of the contract that they",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // are defined in, so there is no way for a malicious user to create Vaults",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // out of thin air. A special Minter resource or constructor function needs to be defined to mint",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // new tokens.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub resource",props:{style:{color:"#81A1C1"}}},{content:" Vault ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"\t\t// keeps track of the total balance of the account's tokens",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        pub var",props:{style:{color:"#81A1C1"}}},{content:" balance: ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // initialize the balance at resource creation time",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        init",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"            self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // withdraw",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // Function that takes an integer amount as an argument",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // and withdraws that amount from the Vault.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // It creates a new temporary Vault that is used to hold",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // the money that is being transferred. It returns the newly",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // created Vault to the context that called so it can be deposited",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // elsewhere.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        pub fun ",props:{style:{color:"#81A1C1"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"            self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"-",props:{style:{color:"#81A1C1"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"            return <-create ",props:{style:{color:"#81A1C1"}}},{content:"Vault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // deposit",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // Function that takes a Vault object as an argument and adds",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // its balance to the balance of the owners Vault.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // It is allowed to destroy the sent Vault because the Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // was a temporary holder of the tokens. The Vault's balance has",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // been consumed and therefore can be destroyed.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        pub fun ",props:{style:{color:"#81A1C1"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"            self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"= self",props:{style:{color:"#81A1C1"}}},{content:".balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"+ from",props:{style:{color:"#81A1C1"}}},{content:".balance",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"            destroy from",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"        }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // createVault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // Function that creates a new Vault with an initial balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and returns it to the calling context. A user must call this function",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and store the returned Vault in their storage in order to allow their",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // account to be able to receive deposits of this token type.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"createVault",props:{style:{color:"#88C0D0"}}},{content:"()",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        return <-create ",props:{style:{color:"#81A1C1"}}},{content:"Vault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"30",props:{style:{color:"#B48EAD"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // The init function for the contract. All fields in the contract must",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // be initialized at deployment. This is just an example of what",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // an implementation could do in the init function. The numbers are arbitrary.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    init",props:{style:{color:"#81A1C1"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // create the Vault with the initial balance and put it in storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // account.save saves an object to the specified `to` path",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // The path is a literal path that consists of a domain and identifier",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // The domain must be `storage`, `private`, or `public`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        // the identifier can be any name",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        let",props:{style:{color:"#81A1C1"}}},{content:" vault <- ",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"createVault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".account.",props:{style:{color:"#D8DEE9FF"}}},{content:"save",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"vault, ",props:{style:{color:"#D8DEE9FF"}}},{content:"to",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Click the ",(0,n.jsx)(o.code,{children:"Deploy"})," button at the top right of the editor to deploy the code."]})}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{src:t(70412).Z+"",loading:"lazy",alt:"Deploy BasicToken on 0x01",width:"3160",height:"1812"})}),"\n",(0,n.jsxs)(o.p,{children:["This deployment stores the contract for the basic fungible token\nin the selected account (account ",(0,n.jsx)(o.code,{children:"0x01"}),") so that it can be imported into transactions."]}),"\n",(0,n.jsxs)(o.p,{children:["A contract's ",(0,n.jsx)(o.code,{children:"init"})," function runs at contract creation, and never again afterwards.\nIn our example, this function stores an instance of the ",(0,n.jsx)(o.code,{children:"Vault"})," object with an initial balance of 30."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// create the Vault with the initial balance and put it in storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// account.save saves an object to the specified `to` path",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// The path is a literal path that consists of a domain and identifier",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// The domain must be `storage`, `private`, or `public`",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// the identifier can be any name",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" vault <- ",props:{style:{color:"#D8DEE9FF"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"createVault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"self",props:{style:{color:"#81A1C1"}}},{content:".account.",props:{style:{color:"#D8DEE9FF"}}},{content:"save",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"vault, ",props:{style:{color:"#D8DEE9FF"}}},{content:"to",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["This line saves the new ",(0,n.jsx)(o.code,{children:"@Vault"})," object to storage.\nAccount storage is indexed with paths, which consist of a domain and identifier. ",(0,n.jsx)(o.code,{children:"/domain/identifier"}),". Only three domains are allowed for paths:"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"storage"}),": The place where all objects are stored. Only accessible by the owner of the account."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"private"}),": Stores links, otherwise known as capabilities, to objects in storage. Only accessible by the owner of the account"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"public"}),": Stores links to objects in storage: Accessible by anyone in the network."]}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["Contracts have access to the private ",(0,n.jsx)(o.code,{children:"AuthAccount"})," object of the account it is deployed to, using ",(0,n.jsx)(o.code,{children:"self.account"}),".\nThis object has methods that can modify storage in many ways.\nSee the ",(0,n.jsx)(o.a,{href:"../language/accounts",children:"account"})," documentation for a list of all the methods it can call."]}),"\n",(0,n.jsxs)(o.p,{children:["In this line, we call the ",(0,n.jsx)(o.code,{children:"save"})," method to store an object in storage.\nThe first argument is the value to store, and the second argument is the path where the value is being stored.\nFor ",(0,n.jsx)(o.code,{children:"save"})," the path has to be in the ",(0,n.jsx)(o.code,{children:"/storage/"})," domain."]}),"\n",(0,n.jsx)(o.p,{children:"You are now ready to run transactions that use the fungible tokens!"}),"\n",(0,n.jsx)(o.h3,{id:"perform-a-basic-transfer",children:"Perform a Basic Transfer"}),"\n",(0,n.jsx)(o.p,{children:"As we talked about above, a token transfer with resources is not a simple update to a ledger.\nIn Cadence, you have to first withdraw tokens from your vault, then deposit them to the vault\nthat you want to transfer to. We'll start a simple transaction that withdraws tokens from a vault\nand deposits them back into the same vault."}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Open the transaction named ",(0,n.jsx)(o.code,{children:"Basic Transfer"}),". ",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.code,{children:"Basic Transfer"})," should contain the following code for withdrawing and depositing with a stored Vault:"]})}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["BasicTransfer.cdc"],active:"BasicTransfer.cdc",heightRatio:1},files:[{name:"BasicTransfer.cdc",focus:"",code:{lines:[{tokens:[{content:"// Basic Transfer",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" BasicToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction is used to withdraw and deposit tokens with a Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  prepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // withdraw tokens from your vault by borrowing a reference to it",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and calling the withdraw function with that reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" vaultRef = acct.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&BasicToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the owner's vault",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" temporaryVault <- vaultRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"10",props:{style:{color:"#B48EAD"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // deposit your tokens to the Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    vaultRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"temporaryVault",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Withdraw/Deposit succeeded!",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Select account ",(0,n.jsx)(o.code,{children:"0x01"})," as the only signer. ",(0,n.jsx)("br",{}),"\nClick the ",(0,n.jsx)(o.code,{children:"Send"})," button to submit the transaction. ",(0,n.jsx)("br",{}),"\nThis transaction withdraws tokens from the main vault and deposits them back\nto it."]})}),"\n",(0,n.jsx)(o.p,{children:"This transaction is a basic example of a transfer within an account.\nIt withdraws tokens from the main vault and deposits back to the main vault.\nIt is simply to illustrate the basic functionality of how transfers work."}),"\n",(0,n.jsx)(o.p,{children:"You'll see in this transaction that\nyou can borrow a reference directly from an object in storage."}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Borrow a reference to the stored, private Vault resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" vaultRef = acct.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&BasicToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the owner's vault",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"This allows you to efficiently access objects in storage without having to load them,\nwhich is a much more costly interaction."}),"\n",(0,n.jsx)(o.p,{children:"In production code, you'll likely be transferring tokens to other accounts.\nCapabilities allow us to accomplish this safely."}),"\n",(0,n.jsx)(o.h2,{id:"ensuring-security-in-public-capability-security",children:"Ensuring Security in Public: Capability Security"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsxs)(o.p,{children:["Another important feature in Cadence is its utilization of ",(0,n.jsx)(o.a,{href:"../language/capability-based-access-control",children:(0,n.jsx)(o.strong,{children:"Capability-Based Security."})}),"\nThis feature ensures that while the withdraw function is declared public on the resource,\nno one except the intended user and those they approve of can withdraw tokens from their vault."]}),"\n",(0,n.jsx)(o.p,{children:"Cadence's security model ensures that objects stored in an account's storage can only be accessed by the account that owns them.\nIf a user wants to give another user access to their stored objects, they can link a public capability,\nwhich is like an \"API\" that allows others to call specified functions on their objects."}),"\n",(0,n.jsx)(o.p,{children:"An account only has access to the fields and methods of an object in a different account if they hold a capability to that object\nthat explicitly allows them to access those fields and methods.\nOnly the owner of an object can create a capability for it.\nTherefore, when a user creates a Vault in their account, they only publish a capability\nthat exposes the deposit function and the balance field."}),"\n",(0,n.jsx)(o.p,{children:"The withdraw function can remain hidden as a function that only the owner can call."}),"\n",(0,n.jsxs)(o.p,{children:["This removes the need to check the address of the account that made the function call\n(",(0,n.jsx)(o.code,{children:"msg.sender"})," in Ethereum) for access control purposes, because this functionality is handled by the protocol and type checker.\nIf you aren't the owner of an object or don't have a valid reference to it that was created by the owner, you cannot access the object at all!"]}),"\n",(0,n.jsx)(o.h3,{id:"using-interfaces-to-secure-implementations",children:"Using Interfaces to Secure Implementations"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"The next important concept in Cadence is design-by-contract,\nwhich uses preconditions and postconditions to document and programmatically assert the change in state caused by a piece of a program.\nThese conditions are specified in interfaces that enforce rules about how types are defined and behave.\nThey can be stored on-chain in an immutable fashion so that certain pieces of code can import and implement them to ensure that they meet certain standards."}),"\n",(0,n.jsxs)(o.p,{children:["Here is an example of how interfaces for the ",(0,n.jsx)(o.code,{children:"Vault"})," resource we defined above would look."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["Interfaces.cdc"],active:"Interfaces.cdc",heightRatio:1},files:[{name:"Interfaces.cdc",focus:"",code:{lines:[{tokens:[{content:"// Interface that enforces the requirements for withdrawing",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// tokens from the implementing type",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub resource interface",props:{style:{color:"#81A1C1"}}},{content:" Provider ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#81A1C1"}}},{content:" @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        post ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"            result.balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"==",props:{style:{color:"#81A1C1"}}},{content:" amount:",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'                "',props:{style:{color:"#ECEFF4"}}},{content:"Withdrawal amount must be the same as the balance of the withdrawn Vault",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"// Interface that enforces the requirements for depositing",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// tokens into the implementing type",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub resource interface",props:{style:{color:"#81A1C1"}}},{content:" Receiver ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // There aren't any meaningful requirements for only a deposit function",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // but this still shows that the deposit function is required in an implementation.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    pub fun ",props:{style:{color:"#81A1C1"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": @",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Balance",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// Interface that specifies a public `balance` field for the vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub resource interface",props:{style:{color:"#81A1C1"}}},{content:" Balance ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    pub var",props:{style:{color:"#81A1C1"}}},{content:" balance: ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["In our example, the ",(0,n.jsx)(o.code,{children:"Vault"})," resource will implement all three of these interfaces.\nThe interfaces ensure that specific fields and functions are present in the resource implementation\nand that the function arguments, fields of the resource, and any return value are in a valid state before and/or after execution.\nThese interfaces can be stored on-chain and imported into other contracts or resources\nso that these requirements are enforced by an immutable source of truth that is not susceptible to human error."]}),"\n",(0,n.jsxs)(o.p,{children:["You can also see that functions and fields have the ",(0,n.jsx)(o.code,{children:"pub"})," keyword next to them.\nWe have explicitly defined these fields as public because all fields and functions in Cadence are private by default,\nmeaning that the local scope can only access them. Users have to make parts of their owned types explicitly public.\nThis helps prevent types from having unintentionally public code."]}),"\n",(0,n.jsx)(o.p,{children:"This does bring up an important security consideration though.\nWhile we have made all our fields and functions public here, it is actually recommended to default to making\nfields private unless it is explicitly needed to be public."}),"\n",(0,n.jsxs)(s,{type:"warning",children:[(0,n.jsx)(o.p,{children:"This is especially important for array and dictionary types,\nwhich can have their contents maliciously mutated if they are made public.\nThis is one of THE MOST COMMON security mistakes that Cadence developers make,\nso it is vitally important to be aware of this."}),(0,n.jsxs)(o.p,{children:["See the ",(0,n.jsx)(o.a,{href:"../anti-patterns#array-or-dictionary-fields-should-be-private",children:"Cadence Best Practices document"})," for more details."]})]}),"\n",(0,n.jsx)(o.h2,{id:"adding-interfaces-to-our-fungible-token",children:"Adding Interfaces to Our Fungible Token"}),"\n",(0,n.jsx)(o.p,{children:"Now, we are going to add these interfaces to our Fungible token along with a minter resource."}),"\n",(0,n.jsxs)(o.p,{children:["Open account ",(0,n.jsx)(o.code,{children:"0x02"})," in the playground. You should see the ",(0,n.jsx)(o.code,{children:"ExampleToken"})," contract.\nIn addition to everything that is in the ",(0,n.jsx)(o.code,{children:"BasicToken"})," contract,\nwe have also added the ",(0,n.jsx)(o.code,{children:"Provider"}),", ",(0,n.jsx)(o.code,{children:"Receiver"}),", and ",(0,n.jsx)(o.code,{children:"Balance"})," interfaces described above."]}),"\n",(0,n.jsxs)(o.p,{children:["Now that our ",(0,n.jsx)(o.code,{children:"ExampleToken.Vault"})," type has declared that it implements these interfaces on line 93,\nit is required to have their fields and functions, and their pre and post-conditions will also\nbe evaluated every time their respective functions are called.\nWe can also use these interfaces to create restricted capabilities, described in the next section."]}),"\n",(0,n.jsxs)(o.p,{children:["Additionally, ",(0,n.jsx)(o.code,{children:"ExampleToken"})," changes ",(0,n.jsx)(o.code,{children:"createVault()"})," to ",(0,n.jsx)(o.code,{children:"createEmptyVault()"}),"\nso that token minting is restricted to the newly added ",(0,n.jsx)(o.code,{children:"VaultMinter"})," resource.\nThis illustrates another powerful feature of Cadence resources.\nInstead of the contract maintaining a list of minter addresses,\naccounts that the owner wants to be minters can be giving a special resource\nthat directly gives them the authority to mint tokens.\nThis method for authorization can be used in many different ways\nand further decentralizes the control of the contract."]}),"\n",(0,n.jsxs)(o.p,{children:["We also store the ",(0,n.jsx)(o.code,{children:"VaultMinter"})," object to ",(0,n.jsx)(o.code,{children:"/storage/"}),"\nin the ",(0,n.jsx)(o.code,{children:"init()"})," function in the same way as the vault, but in a different storage path:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"self",props:{style:{color:"#81A1C1"}}},{content:".account.",props:{style:{color:"#D8DEE9FF"}}},{content:"save",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"create ",props:{style:{color:"#D8DEE9FF"}}},{content:"VaultMinter",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"to",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialMinter",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"Now is an important time to remind you that account storage not namespaced by contract,\nmeaning that path names could potentially conflict. This is why it is important to\nchoose unique names for your paths like we have done here so there is a very low chance\nof them conflicting with other projects paths."}),"\n",(0,n.jsx)(o.h2,{id:"create-store-and-publish-capabilities-and-references-to-a-vault",children:"Create, Store, and Publish Capabilities and References to a Vault"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"Capabilities are like pointers in other languages. They are a link to an object in an account's storage\nand can be used to read fields or call functions on the object they reference. They cannot move or modify the object directly."}),"\n",(0,n.jsxs)(o.p,{children:["There are many different situations in which you would create a capability to your fungible token vault.\nYou might want a simple way to call methods on your ",(0,n.jsx)(o.code,{children:"Vault"})," from anywhere in a transaction.\nYou could also send a capability that only exposes withdraw function in your ",(0,n.jsx)(o.code,{children:"Vault"})," so that others can transfer tokens for you.\nYou could also have one that only exposes the ",(0,n.jsx)(o.code,{children:"Balance"})," interface, so that others can check how many tokens you own.\nThere could also be a function that takes a capability to a ",(0,n.jsx)(o.code,{children:"Vault"})," as an argument, borrows a reference to the capability,\nmakes a single function call on the reference, then finishes and destroys the reference."]}),"\n",(0,n.jsxs)(o.p,{children:["We already use this pattern in the ",(0,n.jsx)(o.code,{children:"VaultMinter"})," resource in the ",(0,n.jsx)(o.code,{children:"mintTokens"})," function, shown here:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Function that mints new tokens and deposits into an account's vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// using their `Receiver` capability.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// We say `&AnyResource{Receiver}` to say that the recipient can be any resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// as long as it implements the ExampleToken.Receiver interface",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"mintTokens",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#ECEFF4"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"UFix64",props:{style:{color:"#81A1C1"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"recipient",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"Capability",props:{style:{color:"#81A1C1"}}},{content:"<&",props:{style:{color:"#D8DEE9FF"}}},{content:"AnyResource",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#D8DEE9FF"}}},{content:"Receiver",props:{style:{color:"#81A1C1"}}},{content:"}>",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" recipientRef = recipient.",props:{style:{color:"#D8DEE9FF"}}},{content:"borrow",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a receiver reference to the vault",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    ExampleToken.totalSupply ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" ExampleToken.totalSupply ",props:{style:{color:"#D8DEE9FF"}}},{content:"+ ",props:{style:{color:"#81A1C1"}}},{content:"UFix64",props:{style:{color:"#88C0D0"}}},{content:"(amount",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    recipientRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"create ",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"balance",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" amount",props:{style:{color:"#D8DEE9FF"}}},{content:"))",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"The function takes a capability as an argument.\nThis syntax might be unclear to you:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"recipient: Capability",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&AnyResource",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["This means that ",(0,n.jsx)(o.code,{children:"recipient"})," has to be a Capability that is restricted to the type contained in ",(0,n.jsx)(o.code,{children:"<>"}),".\nThe type outside of the curly braces ",(0,n.jsx)(o.code,{children:"{}"})," has to be a concrete type and the type in the curly braces\nhas to be an interface type. Here we are saying that the type\ncan be any resource that implements the ",(0,n.jsx)(o.code,{children:"ExampleToken.Receiver"})," interface.\nIf that is true, this function borrows a reference from this capability\nand uses the reference to call the ",(0,n.jsx)(o.code,{children:"deposit"})," function of that resource because we know that\nthe ",(0,n.jsx)(o.code,{children:"deposit"})," function will be there since it is in the ",(0,n.jsx)(o.code,{children:"ExampleToken.Receiver"})," interface."]}),"\n",(0,n.jsxs)(o.p,{children:["Let's create capabilities to your ",(0,n.jsx)(o.code,{children:"Vault"})," so that a separate account can send tokens to you."]}),"\n",(0,n.jsxs)(s,{type:"info",children:[(0,n.jsxs)(o.p,{children:["Before we submit a transaction interacting with ExampleToken resources, we'll need to deploy the contract to account ",(0,n.jsx)(o.code,{children:"0x02"}),":",(0,n.jsx)("br",{})]}),(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Select Contract 2 in the playground sidebar (the ExampleToken contract)",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Make sure that signer ",(0,n.jsx)(o.code,{children:"0x02"})," is selected as the deploying address",(0,n.jsx)("br",{})]}),"\n",(0,n.jsx)(o.li,{children:'Click "Deploy"'}),"\n"]})]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{src:t(92812).Z+"",loading:"lazy",alt:"Deploy ExampleToken to 0x02",width:"3154",height:"1814"})}),"\n",(0,n.jsx)(o.p,{children:"Now we can continue on to configure Capabilities on the ExampleToken Vault."}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Open the transaction named ",(0,n.jsx)(o.code,{children:"Create Link"}),". ",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(o.code,{children:"Create Link"})," should contain the following code for creating a reference to the stored Vault:"]})}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["CreateLink.cdc"],active:"CreateLink.cdc",heightRatio:1},files:[{name:"CreateLink.cdc",focus:"",code:{lines:[{tokens:[{content:"// Create Link",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ExampleToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction creates a capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that is linked to the account's token vault.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// The capability is restricted to the fields in the `Receiver` interface,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// so it can only be used to deposit funds into the account.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  prepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Create a link to the Vault in storage that is restricted to the",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // fields and functions in `Receiver` and `Balance` interfaces,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // this only exposes the balance field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and deposit function of the underlying vault.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    //",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    acct.link",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver, ExampleToken.Balance",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver, target: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Public Receiver reference created!",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  post ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // Check that the capabilities were created correctly",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // by getting the public capability and checking",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // that it points to a valid `Vault` object",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // that implements the `Receiver` interface",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:".getCapability",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"                    .",props:{style:{color:"#D8DEE9FF"}}},{content:"check",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'                    "',props:{style:{color:"#ECEFF4"}}},{content:"Vault Receiver Reference was not created correctly",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"In order to use a capability, we have to first create a link to that object in storage.\nA reference can then be created from a capability, and references cannot be stored.\nThey need to be lost at the end of a transaction execution.\nThis restriction is to prevent reentrancy attacks which are attacks where a malicious user calls into the same function over and over again\nbefore the original execution has finished. Only allowing one reference at a time for an object prevents these attacks for objects in storage."}),"\n",(0,n.jsxs)(o.p,{children:["To create a capability, we use the ",(0,n.jsx)(o.code,{children:"link"})," function."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Create a link to the Vault in storage that is restricted to the",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// fields and functions in `Receiver` and `Balance` interfaces,",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// this only exposes the balance field",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// and deposit function of the underlying vault.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"//",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"acct.link",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver, ExampleToken.Balance",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver, target: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"link"})," creates a new capability that is kept at the path in the first argument, targeting the ",(0,n.jsx)(o.code,{children:"target"})," in the second argument.\nThe type restriction for the link is specified in the ",(0,n.jsx)(o.code,{children:"<>"}),". We use ",(0,n.jsx)(o.code,{children:"&ExampleToken.Vault{ExampleToken.Receiver, ExampleToken.Balance}"}),"\nto say that the link can be any resource as long as it implements and is cast as the Receiver interface.\nThis is the common format for describing references.\nYou first have a ",(0,n.jsx)(o.code,{children:"&"})," followed by the concrete type, then the interface in curly braces to ensure that\nit is a reference that implements that interface and only includes the fields specified in that interface."]}),"\n",(0,n.jsxs)(o.p,{children:["We put the capability in ",(0,n.jsx)(o.code,{children:"/public/CadenceFungibleTokenTutorialReceiver"})," because we want it to be publicly accessible.\nThe ",(0,n.jsx)(o.code,{children:"public"})," domain of an account is accessible to anyone in the network via an account's ",(0,n.jsx)(o.code,{children:"PublicAccount"})," object, which is fetched by using the ",(0,n.jsx)(o.code,{children:"getAccount(address)"})," function."]}),"\n",(0,n.jsxs)(o.p,{children:["Next is the ",(0,n.jsx)(o.code,{children:"post"})," phase of the transaction."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"post ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"// Check that the capabilities were created correctly",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// by getting the public capability and checking",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that it points to a valid `Vault` object",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that implements the `Receiver` interface",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x01",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"                .check",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"():",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'                "',props:{style:{color:"#ECEFF4"}}},{content:"Vault Receiver Reference was not created correctly",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"post"})," phase is for ensuring that certain conditions are met after the transaction has been executed.\nHere, we are getting the capability from its public path and calling its ",(0,n.jsx)(o.code,{children:"check"})," function to ensure\nthat the capability contains a valid link to a valid object in storage that is the specified type."]}),"\n",(0,n.jsxs)(s,{type:"info",children:[(0,n.jsxs)(o.p,{children:["Now that we understand the transaction, time to submit it:",(0,n.jsx)("br",{})]}),(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Select account ",(0,n.jsx)(o.code,{children:"0x02"})," as the only signer.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Click the ",(0,n.jsx)(o.code,{children:"Send"})," button to submit the transaction.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["This transaction creates a new public reference to your ",(0,n.jsx)(o.code,{children:"Vault"})," and checks that it was created correctly."]}),"\n"]})]}),"\n",(0,n.jsx)(o.h2,{id:"transfer-tokens-to-another-user",children:"Transfer Tokens to Another User"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsxs)(o.p,{children:["Now, we are going to run a transaction that sends 10 tokens to account ",(0,n.jsx)(o.code,{children:"0x03"}),".\nWe will do this by calling the ",(0,n.jsx)(o.code,{children:"withdraw"})," function on account ",(0,n.jsx)(o.code,{children:"0x02"}),"'s Vault,\nwhich creates a temporary Vault object for moving the tokens,\nthen deposits those tokens into account ",(0,n.jsx)(o.code,{children:"0x03"}),"'s vault by calling the ",(0,n.jsx)(o.code,{children:"deposit"})," function on their vault."]}),"\n",(0,n.jsxs)(o.p,{children:["Here we encounter another safety feature that Cadence introduces. Owning tokens requires you to have a ",(0,n.jsx)(o.code,{children:"Vault"})," object stored in your account,\nso if anyone tries to send tokens to an account who isn't prepared to receive them, the transaction will fail.\nThis way, Cadence protects the user if they accidentally enter the account address incorrectly when sending tokens."]}),"\n",(0,n.jsxs)(s,{type:"info",children:[(0,n.jsxs)(o.p,{children:["Account ",(0,n.jsx)(o.code,{children:"0x03"})," has not been set up to receive tokens, so we will do that now:"]}),(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Open the transaction ",(0,n.jsx)(o.code,{children:"Setup Account"}),".",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Select account ",(0,n.jsx)(o.code,{children:"0x03"})," as the only signer.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Click the ",(0,n.jsx)(o.code,{children:"Send"})," button to set up account ",(0,n.jsx)(o.code,{children:"0x03"})," so that it can receive tokens."]}),"\n"]})]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["SetupAccount.cdc"],active:"SetupAccount.cdc",heightRatio:1},files:[{name:"SetupAccount.cdc",focus:"",code:{lines:[{tokens:[{content:"// Setup Account",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ExampleToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction configures an account to store and receive tokens defined by",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// the ExampleToken contract.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"\tprepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"\t\t// Create a new empty Vault object",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"\t\tlet",props:{style:{color:"#81A1C1"}}},{content:" vaultA <- ExampleToken.",props:{style:{color:"#D8DEE9FF"}}},{content:"createEmptyVault",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"\t\t// Store the vault in the account storage",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"\t\tacct.save",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"@ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:"vaultA, to: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Empty Vault stored",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // Create a public Receiver capability to the Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"\t\tlet",props:{style:{color:"#81A1C1"}}},{content:" ReceiverRef = acct.link",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver, ExampleToken.Balance",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver, target: ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"References created",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"\t}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    post ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // Check that the capabilities were created correctly",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x03",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:".getCapability",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"                        .",props:{style:{color:"#D8DEE9FF"}}},{content:"check",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}},{content:":",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:'                        "',props:{style:{color:"#ECEFF4"}}},{content:"Vault Receiver Reference was not created correctly",props:{style:{color:"#A3BE8C"}}},{content:'"',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["Here we perform the same actions that account ",(0,n.jsx)(o.code,{children:"0x02"})," did to set up its ",(0,n.jsx)(o.code,{children:"Vault"}),", but all in one transaction.\nAccount ",(0,n.jsx)(o.code,{children:"0x03"})," is ready to start building its fortune! As you can see, when we created the Vault for account ",(0,n.jsx)(o.code,{children:"0x03"}),",\nwe had to create one with a balance of zero by calling the ",(0,n.jsx)(o.code,{children:"createEmptyVault()"})," function.\nResource creation is restricted to the contract where it is defined, so in this way, the Fungible Token smart contract can ensure that\nnobody is able to create new tokens out of thin air."]}),"\n",(0,n.jsxs)(o.p,{children:["As part of the initial deployment process for the ExampleToken contract, account ",(0,n.jsx)(o.code,{children:"0x02"})," created a ",(0,n.jsx)(o.code,{children:"VaultMinter"})," object.\nBy using this object, the account that owns it can mint new tokens.\nRight now, account ",(0,n.jsx)(o.code,{children:"0x02"})," owns it, so it has sole power to mint new tokens.\nWe could have had a ",(0,n.jsx)(o.code,{children:"mintTokens"})," function defined in the contract,\nbut then we would have to check the sender of the function call to make sure that they are authorized,\nwhich is not the recommended way to perform access control."]}),"\n",(0,n.jsxs)(o.p,{children:["As we explained before, the resource model plus capability security handles this access control for us as a built in language construct\ninstead of having to be defined in the code. If account ",(0,n.jsx)(o.code,{children:"0x02"})," wanted to authorize another account to mint tokens,\nthey could either move the ",(0,n.jsx)(o.code,{children:"VaultMinter"})," object to the other account, or give the other account a private capability to the single ",(0,n.jsx)(o.code,{children:"VaultMinter"}),".\nOr, if they didn't want minting to be possible after deployment, they would simply mint all the tokens at contract initialization\nand not even include the ",(0,n.jsx)(o.code,{children:"VaultMinter"})," in the contract."]}),"\n",(0,n.jsxs)(o.p,{children:["In the next transaction, account ",(0,n.jsx)(o.code,{children:"0x02"})," will mint 30 new tokens and deposit them into account ",(0,n.jsx)(o.code,{children:"0x03"}),"'s newly created Vault."]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Open the ",(0,n.jsx)(o.code,{children:"Mint Tokens"})," transaction.",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Select only account ",(0,n.jsx)(o.code,{children:"0x02"})," as a signer and send ",(0,n.jsx)(o.code,{children:"Mint Tokens"})," to mint 30 tokens for account ",(0,n.jsx)(o.code,{children:"0x03"}),"."]}),"\n"]})}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"Mint Tokens"})," should contain the code below."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["MintTokens.cdc"],active:"MintTokens.cdc",heightRatio:1},files:[{name:"MintTokens.cdc",focus:"",code:{lines:[{tokens:[{content:"// Mint Tokens",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ExampleToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction mints tokens and deposits them into account 3's vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Local variable for storing the reference to the minter resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" mintingRef: &",props:{style:{color:"#D8DEE9FF"}}},{content:"ExampleToken",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"VaultMinter",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Local variable for storing the reference to the Vault of",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // the account that will receive the newly minted tokens",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    var",props:{style:{color:"#81A1C1"}}},{content:" receiver: ",props:{style:{color:"#D8DEE9FF"}}},{content:"Capability",props:{style:{color:"#81A1C1"}}},{content:"<&",props:{style:{color:"#D8DEE9FF"}}},{content:"ExampleToken",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#D8DEE9FF"}}},{content:"ExampleToken",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"Receiver",props:{style:{color:"#81A1C1"}}},{content:"}>",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"\tprepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // Borrow a reference to the stored, private minter resource",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".mintingRef ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" acct.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.VaultMinter",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialMinter)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"            ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the minter",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // Get the public account object for account 0x03",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        let",props:{style:{color:"#81A1C1"}}},{content:" recipient = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x03",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        // Get their public receiver capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".receiver ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" recipient.getCapability",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"\t}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    execute ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"        // Mint 30 tokens and deposit them into the recipient's Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"        self",props:{style:{color:"#81A1C1"}}},{content:".mintingRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"mintTokens",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"30",props:{style:{color:"#B48EAD"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:", ",props:{style:{color:"#D8DEE9FF"}}},{content:"recipient",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"self",props:{style:{color:"#81A1C1"}}},{content:".receiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"30 tokens minted and deposited to account 0x03",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["This is the first example of a transaction where we utilize local transaction variables that span different stages in the transaction.\nWe declare the ",(0,n.jsx)(o.code,{children:"mintingRef"})," and ",(0,n.jsx)(o.code,{children:"receiverRef"})," variables outside of the prepare stage but must initialize them in prepare.\nWe can then use them in later stages in the transaction."]}),"\n",(0,n.jsxs)(o.p,{children:["Then we borrow a refernce to the ",(0,n.jsx)(o.code,{children:"VaultMinter"}),". We specify the borrow as a ",(0,n.jsx)(o.code,{children:"VaultMinter"})," reference\nand have the reference point to ",(0,n.jsx)(o.code,{children:"/storage/CadenceFungibleTokenTutorialMinter"}),".\nThe reference is borrowed as an optional so we use the nil-coalescing operator (",(0,n.jsx)(o.code,{children:"??"}),") to make sure the value isn't nil.\nIf the value is nil, the transaction will execute the code after the ",(0,n.jsx)(o.code,{children:"??"}),". The code is a panic, so it will revert and print the error message."]}),"\n",(0,n.jsxs)(o.p,{children:["You can use the ",(0,n.jsx)(o.code,{children:"getAccount()"})," built-in function to get any account's public account object.\nThe public account object lets you get capabilities from the ",(0,n.jsx)(o.code,{children:"public"})," domain of an account, where public capabilities are stored."]}),"\n",(0,n.jsxs)(o.p,{children:["We use the ",(0,n.jsx)(o.code,{children:"getCapability"})," function to get the public capability from a public path,\nthen use the ",(0,n.jsx)(o.code,{children:"borrow"})," function on the capability to get the reference from it, typed as a ",(0,n.jsx)(o.code,{children:"ExampleToken.Vault{ExampleToken.Receiver}"}),"."]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// Get the public receiver capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"let",props:{style:{color:"#81A1C1"}}},{content:" cap = recipient.",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// Borrow a reference from the capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"self",props:{style:{color:"#81A1C1"}}},{content:".receiverRef ",props:{style:{color:"#D8DEE9FF"}}},{content:"=",props:{style:{color:"#81A1C1"}}},{content:" cap.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"()",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the receiver",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["In the execute phase, we simply use the reference to mint 30 tokens and deposit them into the ",(0,n.jsx)(o.code,{children:"Vault"})," of account ",(0,n.jsx)(o.code,{children:"0x03"}),"."]}),"\n",(0,n.jsx)(o.h2,{id:"check-account-balances",children:"Check Account Balances"}),"\n",(0,n.jsxs)(o.p,{children:["Now, both account ",(0,n.jsx)(o.code,{children:"0x02"})," and account ",(0,n.jsx)(o.code,{children:"0x03"})," should have a ",(0,n.jsx)(o.code,{children:"Vault"})," object in their storage that has a balance of 30 tokens.\nThey both should also have a ",(0,n.jsx)(o.code,{children:"Receiver"})," capability stored in their ",(0,n.jsx)(o.code,{children:"/public/"})," domains that links to their stored ",(0,n.jsx)(o.code,{children:"Vault"}),"."]}),"\n",(0,n.jsx)("img",{src:"https://storage.googleapis.com/flow-resources/documentation-assets/cadence-tuts/account-balances.png"}),"\n",(0,n.jsxs)(o.p,{children:["An account cannot receive any token type unless it is specifically configured to accept those tokens.\nAs a result, it is difficult to send tokens to the wrong address accidentally.\nBut, if you make a mistake setting up the ",(0,n.jsx)(o.code,{children:"Vault"})," in the new account, you won't be able to send tokens to it."]}),"\n",(0,n.jsx)(o.p,{children:"Let's run a script to make sure we have our vaults set up correctly."}),"\n",(0,n.jsx)(o.p,{children:"You can use scripts to access an account's public state. Scripts aren't signed by any account and cannot modify state."}),"\n",(0,n.jsx)(o.p,{children:"In this example, we will query the balance of each account's vault. The following will print out the balance of each account in the emulator."}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Open the script named ",(0,n.jsx)(o.code,{children:"Get Balances"})," in the scripts pane."]})}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"Get Balances"})," should contain the following code:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["Script1.cdc"],active:"Script1.cdc",heightRatio:1},files:[{name:"Script1.cdc",focus:"",code:{lines:[{tokens:[{content:"// Get Balances",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" FungibleToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This script reads the Vault balances of two accounts.",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"pub fun ",props:{style:{color:"#81A1C1"}}},{content:"main",props:{style:{color:"#88C0D0"}}},{content:"() {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // Get the accounts' public account objects",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" acct2 = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" acct3 = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x03",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Get references to the account's receivers",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // by getting their public capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and borrowing a reference from the capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" acct2ReceiverRef = acct2.",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"                            .borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&FungibleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"FungibleToken.Balance",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"()",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"                            ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the acct2 receiver",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" acct3ReceiverRef = acct3.",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"                            .borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&FungibleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"FungibleToken.Balance",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"()",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"                            ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the acct3 receiver",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // Use optional chaining to read and log balance fields",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Account 2 Balance",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"\tlog",props:{style:{color:"#88C0D0"}}},{content:"(acct2ReceiverRef.balance",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Account 3 Balance",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(acct3ReceiverRef.balance",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Execute ",(0,n.jsx)(o.code,{children:"Get Balances"})," by clicking the Execute button."]})}),"\n",(0,n.jsx)(o.p,{children:"This should ensure the following:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Account ",(0,n.jsx)(o.code,{children:"0x02"}),"'s balance is 30"]}),"\n",(0,n.jsxs)(o.li,{children:["Account ",(0,n.jsx)(o.code,{children:"0x03"}),"'s balance is 30"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"If correct, you should see the following lines:"}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"Account 1 Balance"',props:{}}]},{tokens:[{content:"30",props:{}}]},{tokens:[{content:'"Account 2 Balance"',props:{}}]},{tokens:[{content:"30",props:{}}]},{tokens:[{content:'Result > "void"',props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"If there is an error, this probably means that you missed a step earlier\nand might need to restart from the beginning."}),"\n",(0,n.jsx)(o.p,{children:"To restart the playground, close your current session and open the link at the top of the tutorial."}),"\n",(0,n.jsxs)(o.p,{children:["Now that we have two accounts, each with a ",(0,n.jsx)(o.code,{children:"Vault"}),", we can see how they transfer tokens to each other!"]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Open the transaction named ",(0,n.jsx)(o.code,{children:"Transfer Tokens"}),". ",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:["Select account ",(0,n.jsx)(o.code,{children:"0x03"})," as a signer and send the transaction. ",(0,n.jsx)("br",{})]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"Transfer Tokens"})," should contain the following code for sending tokens to another user:"]}),"\n"]})}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:["TransferTokens.cdc"],active:"TransferTokens.cdc",heightRatio:1},files:[{name:"TransferTokens.cdc",focus:"",code:{lines:[{tokens:[{content:"// Transfer Tokens",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"import",props:{style:{color:"#81A1C1"}}},{content:" ExampleToken ",props:{style:{color:"#D8DEE9FF"}}},{content:"from ",props:{style:{color:"#81A1C1"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"// This transaction is a template for a transaction that",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// could be used by anyone to send tokens to another account",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"// that owns a Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"transaction ",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  // Temporary Vault object that holds the balance that is being transferred",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"  var",props:{style:{color:"#81A1C1"}}},{content:" temporaryVault: @",props:{style:{color:"#D8DEE9FF"}}},{content:"ExampleToken",props:{style:{color:"#81A1C1"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"Vault",props:{style:{color:"#81A1C1"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  prepare",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"acct",props:{style:{color:"#88C0D0"}}},{content:":",props:{style:{color:"#ECEFF4"}}},{content:" AuthAccount",props:{style:{color:"#D8DEE9FF"}}},{content:") {",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // withdraw tokens from your vault by borrowing a reference to it",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // and calling the withdraw function with that reference",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" vaultRef = acct.borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#81A1C1"}}},{content:": ",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"storage",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialVault)",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"        ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the owner's vault",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    self",props:{style:{color:"#81A1C1"}}},{content:".temporaryVault ",props:{style:{color:"#D8DEE9FF"}}},{content:"<-",props:{style:{color:"#81A1C1"}}},{content:" vaultRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"withdraw",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"amount",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"10",props:{style:{color:"#B48EAD"}}},{content:".",props:{style:{color:"#D8DEE9FF"}}},{content:"0",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"  execute ",props:{style:{color:"#81A1C1"}}},{content:"{",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"    // get the recipient's public account object",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" recipient = ",props:{style:{color:"#D8DEE9FF"}}},{content:"getAccount",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"0x02",props:{style:{color:"#B48EAD"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // get the recipient's Receiver reference to their Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    // by borrowing the reference from the public capability",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    let",props:{style:{color:"#81A1C1"}}},{content:" receiverRef = recipient.",props:{style:{color:"#D8DEE9FF"}}},{content:"getCapability",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"public",props:{style:{color:"#D8DEE9FF"}}},{content:"/",props:{style:{color:"#81A1C1"}}},{content:"CadenceFungibleTokenTutorialReceiver",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"                      .borrow",props:{style:{color:"#D8DEE9FF"}}},{content:"<",props:{style:{color:"#81A1C1"}}},{content:"&ExampleToken.Vault",props:{style:{color:"#D8DEE9FF"}}},{content:"{",props:{style:{color:"#ECEFF4"}}},{content:"ExampleToken.Receiver",props:{style:{color:"#D8DEE9FF"}}},{content:"}",props:{style:{color:"#ECEFF4"}}},{content:">",props:{style:{color:"#81A1C1"}}},{content:"()",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"                      ?? ",props:{style:{color:"#81A1C1"}}},{content:"panic",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Could not borrow a reference to the receiver",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    // deposit your tokens to their Vault",props:{style:{color:"#616E88"}}}]},{tokens:[{content:"    receiverRef.",props:{style:{color:"#D8DEE9FF"}}},{content:"deposit",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:"from",props:{style:{color:"#88C0D0"}}},{content:": ",props:{style:{color:"#ECEFF4"}}},{content:"<-self",props:{style:{color:"#81A1C1"}}},{content:".temporaryVault",props:{style:{color:"#D8DEE9FF"}}},{content:")",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]},{tokens:[{content:"    log",props:{style:{color:"#88C0D0"}}},{content:"(",props:{style:{color:"#D8DEE9FF"}}},{content:'"',props:{style:{color:"#ECEFF4"}}},{content:"Transfer succeeded!",props:{style:{color:"#A3BE8C"}}},{content:'")',props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"  }",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"}",props:{style:{color:"#ECEFF4"}}}]},{tokens:[{content:"",props:{style:{color:"#D8DEE9FF"}}}]}],lang:"cadence"},annotations:[]}]}),"\n",(0,n.jsxs)(o.p,{children:["In this example, the signer withdraws tokens from their ",(0,n.jsx)(o.code,{children:"Vault"}),",\nwhich creates and returns a temporary ",(0,n.jsx)(o.code,{children:"Vault"})," resource object with ",(0,n.jsx)(o.code,{children:"balance=10"}),"\nthat is used for transferring the tokens. In the execute phase,\nthe transaction moves that resource to another user's ",(0,n.jsx)(o.code,{children:"Vault"})," using their ",(0,n.jsx)(o.code,{children:"deposit"})," method.\nThe temporary ",(0,n.jsx)(o.code,{children:"Vault"})," is destroyed after its balance is added to the recipient's ",(0,n.jsx)(o.code,{children:"Vault"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"You might be wondering why we have to use two function calls to complete a token transfer when it is possible to do it in one.\nThis is because of the way resources work in Cadence.\nIn a ledger-based model, you would just call transfer, which just updates the ledger,\nbut in Cadence, the location of the tokens matters,\nand therefore most token transfer situations will not just be a direct account-to-account transfer."}),"\n",(0,n.jsxs)(o.p,{children:["Most of the time, tokens will be used for a different purpose first,\nlike purchasing something, and that requires the ",(0,n.jsx)(o.code,{children:"Vault"})," to be separately sent\nand verified before being deposited to the storage of an account."]}),"\n",(0,n.jsxs)(o.p,{children:["Separating the two also allows us to take advantage of being able\nto statically verify which parts of accounts can be modified in the ",(0,n.jsx)(o.code,{children:"prepare"})," section of a transaction,\nwhich will help users have peace of mind when getting fed transactions to sign from an app."]}),"\n",(0,n.jsx)(s,{type:"info",children:(0,n.jsxs)(o.p,{children:["Execute ",(0,n.jsx)(o.code,{children:"Get Balances"})," again."]})}),"\n",(0,n.jsxs)(o.p,{children:["If correct, you should see the following lines indicating that account ",(0,n.jsx)(o.code,{children:"0x02"}),"'s balance is 40 and account ",(0,n.jsx)(o.code,{children:"0x03"}),"'s balance is 20:"]}),"\n",(0,n.jsx)(d.Code,{codeConfig:u,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"Account 2 Balance"',props:{}}]},{tokens:[{content:"40",props:{}}]},{tokens:[{content:'"Account 3 Balance"',props:{}}]},{tokens:[{content:"20",props:{}}]},{tokens:[{content:'Result > "void"',props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,n.jsx)(o.p,{children:"You now know how a basic fungible token is used in Cadence and Flow!"}),"\n",(0,n.jsx)(o.p,{children:"From here, you could try to extend the functionality of fungible tokens by making:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"A faucet for these tokens"}),"\n",(0,n.jsx)(o.li,{children:"An escrow that can be deposited to (but only withdrawn when the balance reaches a certain point)"}),"\n",(0,n.jsx)(o.li,{children:"A function to the resource that mints new tokens!"}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"create-a-flow-marketplace",children:"Create a Flow Marketplace"}),"\n",(0,n.jsx)(o.hr,{}),"\n",(0,n.jsx)(o.p,{children:"Now that you have an understanding of how fungible tokens work on Flow and have a working NFT, you can learn how to create\na marketplace that uses both fungible tokens and NFTs. Move on to the next tutorial to learn about Marketplaces in Cadence!"})]})}const y=function(e){void 0===e&&(e={});const{wrapper:o}=Object.assign({},(0,r.ah)(),e.components);return o?(0,n.jsx)(o,Object.assign({},e,{children:(0,n.jsx)(h,e)})):h(e)};function E(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},70412:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"assets/images/deploy_basic_token-f95819cd399997e6a7f70bd0d9290a45.png"},92812:(e,o,t)=>{t.d(o,{Z:()=>n});const n=t.p+"assets/images/deploy_example_token-865486e839ca3c95db9e970f3477342d.png"}}]);