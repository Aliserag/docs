"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5506],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),u=o,m=d["".concat(l,".").concat(u)]||d[u]||h[u]||i;return a?n.createElement(m,r(r({ref:t},p),{},{components:a})):n.createElement(m,r({ref:t},p))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,r[1]=s;for(var c=2;c<i;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},64028:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const i={title:"Dapp Architectures on the Flow Blockchain",sidebar_title:"Dapp Architectures on the Flow Blockchain"},r=void 0,s={unversionedId:"flow/dapp-development/DappArchitectures",id:"flow/dapp-development/DappArchitectures",title:"Dapp Architectures on the Flow Blockchain",description:"Introduction",source:"@site/docs/flow/dapp-development/DappArchitectures.mdx",sourceDirName:"flow/dapp-development",slug:"/flow/dapp-development/DappArchitectures",permalink:"/flow/dapp-development/DappArchitectures",draft:!1,tags:[],version:"current",lastUpdatedBy:"Tom Haile",lastUpdatedAt:1682541550,formattedLastUpdatedAt:"Apr 26, 2023",frontMatter:{title:"Dapp Architectures on the Flow Blockchain",sidebar_title:"Dapp Architectures on the Flow Blockchain"},sidebar:"tutorialSidebar",previous:{title:"Flow Developer Onboarding Guide",permalink:"/flow/dapp-development/"},next:{title:"NFT Drop Strategies",permalink:"/flow/dapp-development/NFT-drop-styles"}},l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Dapp Architectures",id:"dapp-architectures",level:2},{value:"Non-Custodial Flow Dapp Architecture",id:"non-custodial-flow-dapp-architecture",level:3},{value:"Custodial Flow Dapp Architecture",id:"custodial-flow-dapp-architecture",level:3},{value:"Backend-less Flow Dapp Architecture",id:"backend-less-flow-dapp-architecture",level:3},{value:"Dapp Interaction Sequences",id:"dapp-interaction-sequences",level:2},{value:"NFT Purchase in a Non-Custodial Dapp",id:"nft-purchase-in-a-non-custodial-dapp",level:3},{value:"NFT Purchase in a Custodial App",id:"nft-purchase-in-a-custodial-app",level:3},{value:"Appendix",id:"appendix",level:2},{value:"Ethereum Dapp Architecture",id:"ethereum-dapp-architecture",level:3}],p=(d="Callout",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var d;const h={toc:c},u="wrapper";function m(e){let{components:t,...i}=e;return(0,o.kt)(u,(0,n.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"This document showcases the common solution architectures that the Flow blockchain dapps can follow. In addition, it shows interaction sequences between the solution components for the common user journeys."),(0,o.kt)("p",null,"The audience for this document is someone who is at the beginning of the Flow dapp development process. For developers with Ethereum experience, we also contrast Ethereum dapp architecture with Flow dapp architecture."),(0,o.kt)("p",null,"Read this document as a companion guide to the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/document/d/14eQE0wq60IRgD3N5jtwpW8RxexFt_hB3EHnDg_uBl8k/edit"},"Flow Developer Onboarding Guide"),"."),(0,o.kt)(p,{type:"info",mdxType:"Callout"},"We mention various third-party services and software products in this document.That is not an endorsement. Developers should evaluate these products independently according to their needs."),(0,o.kt)("h2",{id:"dapp-architectures"},"Dapp Architectures"),(0,o.kt)("h3",{id:"non-custodial-flow-dapp-architecture"},"Non-Custodial Flow Dapp Architecture"),(0,o.kt)("p",null,"Non-custodial dapps let their users hold NFTs and other assets in user-controlled wallets like Blocto wallet. "),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(40158).Z,width:"960",height:"540"})),(0,o.kt)("p",null,"In non-custodial scenarios, note the following aspects of the dapp design :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Interaction with wallets"),": Flow Client Library (FCL) abstracts out the wallet interactions for Flow dapps.\nIntegrating with FCL makes a dapp wallet-agnostic, and any future FCL-compatible wallet will be able to use it."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Managing blockchain transactions"),": User transactions will typically be submitted to the blockchain by the FCL code in the UI client after obtaining signatures from the wallet services.\nBut sometimes, dapps need to submit transactions to the blockchain from their backend (minting NFTs, for example).\nSeveral SDKs are available to interact with the Flow blockchain, including some that are community-run. The SDKs interact with the access nodes of the Flow blockchain.\nWe recommend maintaining a queuing infrastructure within the dapp\u2019s backend to handle the scalability surge.\nThere are some third-party services available that make managing transactions from the dapp backend easier :"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.alchemy.com/flow"},"Alchemy"),": To get a dedicated Flow blockchain access node, Alchemy provides a managed access node service for the Flow dapp developers.\nAlchemy can allow dapp devs to bypass the rate limits imposed by official Flow access nodes without the operational overhead of running an access node."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://tatum.io/apidoc#tag/Blockchain-Flow"},"Tatum"),": Tatum provides REST APIs to let dapps perform high-level blockchain operations like creating Flow accounts, sending NFTs, or FLOW tokens to an address.\nIn some cases, Tatum will totally obviate the need to use the Flow SDK, or implement your own smart contract."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/flow-hydraulics/flow-wallet-api/"},"Wallet-API"),": Wallet-API can be a convenient way to manage both the transactions and the keys for your admin accounts in the backend."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Organizing/accessing blockchain data"),": Dapps often have their business logic respond to the current and past events and transactions on the Flow blockchain.\nOne option is to listen to the events, maintain them, and index them.\nThird-party services like ",(0,o.kt)("a",{parentName:"li",href:"https://graffle.io/"},"Graffle")," and Tatum also provide REST APIs, and programmatic notifications/webhooks to receive Flow blockchain data such as events and transactions.\nSpecifically, Graffle can provide easy access to the past and real-time events on the Flow blockchain.\nThese third-party services can insulate your application from the requirement of being aware of ",(0,o.kt)("a",{parentName:"li",href:"https://docs.onflow.org/nodes/node-operation/spork/#past-and-upcoming-sporks"},"sporks"),".\nOtherwise, you will have to add logic in your application to navigate across ",(0,o.kt)("a",{parentName:"li",href:"https://docs.onflow.org/nodes/node-operation/spork/#past-and-upcoming-sporks"},"past sporks")," when looking up past blockchain data.")),(0,o.kt)(p,{type:"info",mdxType:"Callout"},"With any of these payment rails choices, dapp developers should do their own legal/compliance due diligence."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Payment rails"),": "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Dapp-User payments"),": If a dapp is selling an item directly to the user, it can use either of these two approaches:"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Credit Card/ACH"),": Dapps can process payments using traditional Web2.0 methods and transfer NFTs if the payment completes successfully. Some payment processors, like ",(0,o.kt)("a",{parentName:"li",href:"https://www.moonpay.com/buy/flow"},"Moonpay"),", offer turnkey solutions to enable simple NFT purchases using credit cards."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Crypto/Stablecoin"),": Users can pay dapps using FLOW token or stablecoins like FUSD from their wallets."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"User-User (P2P) payments"),": P2P payments (most commonly seen on the marketplace dapps) will involve users paying each other using FLOW tokens or stablecoins like FUSD held in their wallets.")),(0,o.kt)("h3",{id:"custodial-flow-dapp-architecture"},"Custodial Flow Dapp Architecture"),(0,o.kt)("p",null,"Custodial dapps will store keys for the Flow accounts of their users in their backend, which insulates users from managing wallet accounts. "),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Custodial flow dapp architecture diagram",src:a(10915).Z,width:"960",height:"540"}),")"),(0,o.kt)("p",null,"In custodial scenarios, note the following aspects of the dapp design:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Interaction with wallets"),": Custodial wallets do not involve external user wallets.\nBut, the dapp backend needs to maintain \u201cwallets\u201d for each user by storing and managing their Flow account keys.\nWe provide a turnkey solution called Wallet API for managing custodial wallets and submitting/managing transactions for those custodial wallets.\nWhen using \u201cWallet API\u201d, make sure that your UI client/frontend is integrated with the \u201cFCL shim\u201d for \u201cWallet API\u201d. This will allow you to easily switch between custodial and non-custodial wallets in the event of a design change.\nAlways store users\u2019 Flow account private keys in a KMS or a similar secure key vault product. Usage of KMS makes sure the private keys never see the light of the day. \u201cWallet API\u201d is already integrated with Google Cloud KMS."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Managing blockchain transactions"),": This is exactly the same as managing blockchain transactions with ",(0,o.kt)("a",{parentName:"li",href:"#non-custodial-flow-dapp-architecture"},"non-custodial dapp architecture"),", note that the \u201cWallet API\u201d module does most of the heavy lifting for submitting and managing transactions."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Organizing/accessing blockchain data"),": Accessing blockchain data works exactly the same way as in ",(0,o.kt)("a",{parentName:"li",href:"#non-custodial-flow-dapp-architecture"},"non-custodial dapp architecture"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Payment rails"),":\nWith any of these payment rails choices, dapp developers should ",(0,o.kt)("strong",{parentName:"li"},"do their own legal and compliance due diligence"),".\nWith payment providers like Stripe, there might be a risk of being de-platformed at the payment providers' whim.\nAlso, when hosting a P2P marketplace, there may be Money Service Business (MSB) licensing issues."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Dapp-User payments"),": If a dapp is selling an item to the user, the dapp can follow either of two approaches:"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Credit Card/ACH"),": Dapps can process payments using traditional Web2.0 methods and transfer NFTs if the payment is successful."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Crypto/Stablecoin"),": This can work in two ways:\nLoad Crypto/Stablecoin in the Flow account: Dapps will have to expose the Flow account details to the user, and the user will load up crypto/stablecoin in that account using an on-ramp like ",(0,o.kt)("a",{parentName:"li",href:"https://www.moonpay.com/buy/flow"},"MoonPay"),". "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Send Crypto/Stablecoin to the payment processor"),": If the dapp\u2019s payment processor also accepts crypto, then the dapp developer will be able to accept payment in crypto from the user without saddling the user with the Flow account details."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"User-to-User (P2P) payments"),":\n",(0,o.kt)("strong",{parentName:"li"},"Credit Card/ACH"),": With this approach, sellers are on-boarded onto the payment processor\u2019s system, potentially as sub-merchants, and the buyers pay using a credit card or ACH through the payment processor.\nAll the money settlement happens in FIAT.\nOnly NFT gets transferred on the blockchain upon successful transaction completion. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Crypto/Stablecoin")," With this approach, buyers will directly send FUSD or FLOW to the sellers.\nDapps will have to expose the flow account details to the user and the users will load up crypto/stablecoin in their account using on-ramps like ",(0,o.kt)("a",{parentName:"li",href:"https://www.moonpay.com/buy/flow"},"MoonPay"),".")),(0,o.kt)("h3",{id:"backend-less-flow-dapp-architecture"},"Backend-less Flow Dapp Architecture"),(0,o.kt)("p",null,"For some use-cases, developers can create a backend-less dapp.\nTo interact with a dapp without a backend, a user typically interacts with a static webpage."),(0,o.kt)("p",null,"For such a dapp all the business logic will reside on the blockchain smart contracts and the frontend. Dapp state however, is saved on the blockchain.  For efficiently querying past blockchain data, these dapps can rely on external services like Graffle. "),(0,o.kt)("p",null,"Dapp developers and admins will configure and update their dapps by directly interacting with the blockchain.\nBackend-less dapps provide a high degree of decentralization. These dapps can continue providing services to their users even when the dapp development teams are no longer around."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(64186).Z,width:"960",height:"540"})),(0,o.kt)("h2",{id:"dapp-interaction-sequences"},"Dapp Interaction Sequences"),(0,o.kt)("h3",{id:"nft-purchase-in-a-non-custodial-dapp"},"NFT Purchase in a Non-Custodial Dapp"),(0,o.kt)("p",null,"The following sequence diagrams show how two different NFT purchase flows can happen in a non-custodial dapp:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"NFT buyer pays using a credit card through the dapp\u2019s payment processor, and the dapp developer receives payment in FIAT."),(0,o.kt)("li",{parentName:"ol"},"NFT buyer pays the dapp developer using crypto/stablecoin tokens.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(96586).Z,width:"766",height:"705"})),(0,o.kt)("p",null,"You can find the diagram ",(0,o.kt)("a",{parentName:"p",href:"https://sequencediagram.org/index.html#initialData=C4S2BsFMAIDFwPYHdoDkEDsC0BhArgM7AIAmIAhuNACLkAOdasAKtAAp4BOAxgBbkEYSML2g5OkMsBzlOJAFzQA8nVCZoAYgCMAKD3luxTtACC4EN0h66s0NxA2MwaACIAQokMIAOhgAU8MjQAOqUUM4AypCcAG4WkACULtAC0EhhkMB6Ojacdg7kTq60DL5+wZAARqYMSSkENPR01rYWBUUuqCzQEUaQAGacmMC+EQC2tmLDnAYj-oEoHgjcANZ85CAYdaldzNkA5kN4jG54AJ5MezqHCMdiEuTAMAum3IbQANoqahiUfpgwUBjGCYcBnBIAXR0ZniAB4sAA+dLgcKKajIDCIcgkaCVTzEFIMaHmSzwpEZYCKcSQR4wPHLAkGbi3Jy+QibfbQSATEBUbEkCQEAg6SAYEh6DAIJ7QBAxaKmEmQAA0jQYijYQziBBA6hhlgA5A0XkznP0EMZgLxAWc6CD+pcGgQEOAcZULpaYCVmnrIIivYoolB3h7LtACZVzsS4X6muryBczRaraH2RhOdwJFJoNxZDi-L1OA5EjpJdLZfLkeEVbtFMwZhgCP15SHdmGEAr4oaQhTsqKSEA"},"source here")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(14110).Z,width:"950",height:"793"})),(0,o.kt)("p",null,"You can find the diagram ",(0,o.kt)("a",{parentName:"p",href:"https://sequencediagram.org/index.html#initialData=C4S2BsFMAIDFwPYHdoDkEDsC0BhArgM7AIAmIAhuNACLkAOdasAKtAAp4BOAxgBbkEYSML2g5OkMsBzlOJAFzQA8nVCZoAYgBMAKD2QMoYAE9oAWQSY65Y3vLdinaAEFwIbpD3XOobiGuG0ABEAEKIDggAOhgAFPDI0ADqlFDA0ADKkJwAbu6QAJRB0ALQSCmQwHo63r7+5IFBtAzRMYmQAEYuDIXFBDT0dF6ytQFpQagsGY6QAGacmMDR6QC2w2ILnPaLsfEoYQjcANZ85CAYPSUTzFUA5vN4jOKQ5MAw9STQADII5B+7LtwHDpXHkADxYAB8ZXAqUU1GQGEQv2g7XCxGKDGBbg84Kh5WAiieLxgqIO6Ps3AQeEM0UIZxu0EgqxAVF+JAkBAIegwCFe0AQ2Sy5ksGGsxgANKV8YoQnhTLAAKrpajQOkYBlPKQyOQ6AwkPR3KmMWWmK5VLF5SHQ2Hsea5AggdT-CnbGYIJzAXgwEx0GAIGZMZgEaIEBDgD7tUyemDUZyYkEeSFNOiKTJQByB6Do9py7m8v2CpzWiqSq6KACM+WgzE2GAIMyFiuV0BikAAjnhKFmEFmvdA6Jw8vyA1cq3MEMsXNjIAByPrF7ZaKs1+r1oVXbtTvJzpL46IAZirTZVID6wFra84Eg+6Oj-QYO4X0XQr0Urio-t7b3aApgREgdB9Nw9QojAJCYDAZzFNADrqlAxTEMs7gouExz8FBwAAB4YFUepAA"},"source here")),(0,o.kt)(p,{type:"info",mdxType:"Callout"},"NFT buyers may also use on-ramp providers like Moonpay, Wyre, or Ramp to purchase crypto using their credit cards."),(0,o.kt)("p",null,"The sequence diagrams above show interactions with the mobile app version of the Blocto wallet.\nYou can use the Blocto wallet purely from the web as well, inside of the dapp, giving a compelling user experience (see ",(0,o.kt)("a",{parentName:"p",href:"https://vault.cnn.com/"},"Vault by CNN"),")."),(0,o.kt)("h3",{id:"nft-purchase-in-a-custodial-app"},"NFT Purchase in a Custodial App"),(0,o.kt)("p",null,"The following diagram shows NFT purchases using a credit card in a custodial dapp environment. Payment processing is done off-chain and the dapp collects the payment in FIAT.\nThe only transactions that happen on the blockchain are the NFT minting (and storage for those dapps holding an inventory), and transfers to the buyer\u2019s account."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(60563).Z,width:"937",height:"678"})),(0,o.kt)("p",null,"You can find the diagram ",(0,o.kt)("a",{parentName:"p",href:"https://sequencediagram.org/index.html#initialData=C4S2BsFMAIDFwPYHdoDkEDsC0BhArgM7AIAmIAhuNACLkAOdasAKtAAp4BOAxgBbkEYSML2g5OkMsBzlOJAFzQA8nVCZoAYgBMAKD2QMoYAE9oAWQSY65Y3vLdinaAEFwIbpD3XOobiGuG0ABEAEKIDggAOhgAFPDI0ADqlFDA0ADKkJwAbu6QAJRB0ALQSCmQwHo63r7+5IFBtAzRMYmQAEYuDIXFBDT0dF6ytQFpQagsGY6QAGacmMDR6QC2w2ILnPaLsfEoYQjcANZ85CAYPSUTzFUA5vN4jOKQ5MAw9STQADII5B+7LtwHDpXHkADxYAB8ZXAqUU1GQGEQv2g7XCxGKDGBbg84Kh5WAiieLxgqIO6Ps3AQeEM0UIZxu0EgqxAVF+JAkBAIegwCFe0AQ2Sy5ksGGsxgANKV8YoQnhTLAAKrpajQOkYBlPKQyOQ6AwkPR3KmMWWmK5VLF5SHQ2Hsea5AggdT-CnbGYIJzAXgwEx0GAIGZMZgEaIEBDgD7tUyemDUZyYkEeSFNOiKTJQByB6Do9py7m8v2CpzWiqSq6KACM+WgzE2GAIMyFiuV0BikAAjnhKFmEFmvdA6Jw8vyA1cq3MEMsXNjIAByPrF7ZaKs1+r1oVXbtTvJzpL46IAZirTZVID6wFra84Eg+6Oj-QYO4X0XQr0Urio-t7b3aApgREgdB9Nw9QojAJCYDAZzFNADrqlAxTEMs7gouExz8FBwAAB4YFUepAA"},"source here")),(0,o.kt)("h2",{id:"appendix"},"Appendix"),(0,o.kt)("h3",{id:"ethereum-dapp-architecture"},"Ethereum Dapp Architecture"),(0,o.kt)("p",null,"Ethereum is one of the major general-purpose smart contract blockchain platforms. Dapps developing on Ethereum are primarily focused on decentralization. We discuss some of the common patterns with Ethereum dapps and what are their equivalents on the Flow blockchain."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(38973).Z,width:"960",height:"540"})),(0,o.kt)("p",null,"Common themes among dapps built on Ethereum:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Interaction with wallets"),": Most Ethereum dapps integrate with the web3js library in the frontend to abstract out interaction with wallets. Due to web3js, the dapps do not have to be aware of the intricacies of individual wallets. On the Flow blockchain, the equivalent of web3js is FCL. "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Managing blockchain transactions"),": There is no official Ethereum node offering access APIs for submitting transactions. Ethereum dapp projects generally do not run their own full node. Instead, they rely on a service like that from Infura (or Alchemy) to reliably submit and manage their transactions. Alchemy provides services for the Flow blockchain as well. Tatum and Graffle provide equivalent services on the Flow blockchain as Infura on Ethereum."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Organizing/accessing blockchain data"),": There are many mature Ethereum ecosystem projects like Etherscan that collect, maintain, and index blockchain data, and provide blockchain access services through APIs. Most Ethereum dapps use these services for querying the blockchain. Graffle and Flowscan are the equivalents of Etherscan on the Flow blockchain."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Payment rails"),": Due to the focus on decentralization Ethereum dapps mostly rely on tokens including stablecoins for payment on-ramp/off-ramp. ")),(0,o.kt)("p",null,"The following diagram shows an example interaction sequence with an Ethereum Dapp."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Non-custodial flow dapp architecture diagram",src:a(21081).Z,width:"989",height:"900"})),(0,o.kt)("p",null,"You can find the diagram ",(0,o.kt)("a",{parentName:"p",href:"https://sequencediagram.org/index.html#initialData=C4S2BsFMAIFFgBaQE6QK4FtoBECGAHfaAOQDEAVaABTWQGMFcBnGAVReWlPAHsB3AFADIAO1DAAntABEsAB4NcIgOaQAOiIAUAYR4gRAI2aQAlNOjM4CxisgDoA3HWA9OAQXAg6d-LmSg6EF8xGQ8vSAByJmgAdVxwKGANTQBZSGBcFOYAazMLaLSMrKZsoV9-LyClYBk8QmSYyANoN0I8yzr8Mr8AqpDpMkoAZRdUDSGMHuhdMWQnJK14JFRMdujBoREeYBgeADcUFs9vABorRVsALmgARhNoIZBlETQiADNXCxELOjoeNDEGgATPcAOI8aCIZD-ZQICzQADSAE1tNAGJA6NkNABme4AGX02UhSGgRhERKcfwBwCYm22uwO7mOkDOhUyOWud2gAEkREwMgliTBIHIdnyQDxvh9OAxoRh1CIQdBQaIULgdl8ACbQJi4A7wliQbX4BBzFgCZTQ17QABCaCkrCG2G0AjC3gAtAA+eQXVTXO0Op0un02VRe6Bs4rZa54ni4bWO53QSXQPjxRLCESaoQWq1EAMkCiu5lezrXIaQKDOQuUFyk+0CTpeyMch6ibXAOZ8+YSqWfAj4aF7eLF8LN9LskrXVqD-YwTtKXXOXsCFslL2Da7kLtMN6HRMuwbjoqt7eLvecDbthxAA"},"source here")))}m.isMDXComponent=!0},60563:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image1-2ccc230c7f6ca5930cf56948ccb66895.png"},10915:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image2-c896b7cb9a6f731df7b20b9b3fe102ba.png"},64186:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image3-43a3594b082925a4c417efcc67e2e199.png"},40158:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image4-f440c531eadd3e7c5c326fa69da65a18.png"},21081:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image5-07238cf42ca24c56daf21704ace7d004.png"},38973:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image6-9ab003fb7864f61f4eee3ac9ec99b4f3.png"},96586:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image7-3f4c7cbb09770e8733e80b898ab47d5e.png"},14110:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/image8-eb75cf525a10dc06ba88021de73af711.png"}}]);